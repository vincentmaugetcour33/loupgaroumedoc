!function(aT,aB){function aJ(d,b){for(var f,c=[],a=0;a<d.length;++a){if(f=aC[d[a]]||aI(d[a]),!f){throw"module definition dependecy not found: "+d[a]}c.push(f)}b.apply(null,c)}function aD(c,b,a){if("string"!=typeof c){throw"invalid module definition, module id must be defined and be a string"}if(b===aB){throw"invalid module definition, dependencies must be specified"}if(a===aB){throw"invalid module definition, definition function must be specified"}aJ(b,function(){aC[c]=a.apply(null,arguments)})}function aP(a){return !!aC[a]}function aI(b){for(var d=aT,c=b.split(/[.\/]/),a=0;a<c.length;++a){if(!d[c[a]]){return}d=d[c[a]]}return d}function aY(g){for(var e=0;e<g.length;e++){for(var d=aT,f=g[e],c=f.split(/[.\/]/),b=0;b<c.length-1;++b){d[c[b]]===aB&&(d[c[b]]={}),d=d[c[b]]}d[c[c.length-1]]=aC[f]}}var aC={},aM="tinymce/dom/EventUtils",aV="tinymce/dom/Sizzle",aA="tinymce/dom/DomQuery",aU="tinymce/html/Styles",aS="tinymce/dom/TreeWalker",aH="tinymce/util/Tools",aQ="tinymce/dom/Range",aK="tinymce/html/Entities",aR="tinymce/Env",az="tinymce/dom/DOMUtils",au="tinymce/dom/ScriptLoader",aX="tinymce/AddOnManager",bx="tinymce/html/Node",av="tinymce/html/Schema",aw="tinymce/html/SaxParser",aZ="tinymce/html/DomParser",bk="tinymce/html/Writer",bv="tinymce/html/Serializer",aN="tinymce/dom/Serializer",bd="tinymce/dom/TridentSelection",bb="tinymce/util/VK",bf="tinymce/dom/ControlSelection",bA="tinymce/dom/Selection",bz="tinymce/dom/RangeUtils",bw="tinymce/Formatter",bn="tinymce/UndoManager",bm="tinymce/EnterKey",br="tinymce/ForceBlocks",bh="tinymce/EditorCommands",bi="tinymce/util/URI",bq="tinymce/util/Class",bu="tinymce/ui/Selector",a7="tinymce/ui/Collection",ar="tinymce/ui/DomUtils",a9="tinymce/ui/Control",ba="tinymce/ui/Factory",aG="tinymce/ui/Container",aO="tinymce/ui/DragHelper",bJ="tinymce/ui/Scrollable",bo="tinymce/ui/Panel",bs="tinymce/ui/Movable",a3="tinymce/ui/Resizable",a5="tinymce/ui/FloatPanel",bp="tinymce/ui/KeyboardNavigation",bg="tinymce/ui/Window",a2="tinymce/ui/MessageBox",bU="tinymce/WindowManager",bc="tinymce/util/Quirks",a4="tinymce/util/Observable",bO="tinymce/Shortcuts",ap="tinymce/Editor",ax="tinymce/util/I18n",by="tinymce/FocusManager",bF="tinymce/EditorManager",bM="tinymce/LegacyInput",ao="tinymce/util/XHR",aE="tinymce/util/JSON",ah="tinymce/util/JSONRequest",bK="tinymce/util/JSONP",ak="tinymce/util/LocalStorage",a0="tinymce/Compat",bD="tinymce/ui/Layout",bB="tinymce/ui/AbsoluteLayout",am="tinymce/ui/Tooltip",bH="tinymce/ui/Widget",aW="tinymce/ui/Button",a1="tinymce/ui/ButtonGroup",bQ="tinymce/ui/Checkbox",ae="tinymce/ui/PanelButton",bT="tinymce/ui/ColorButton",bG="tinymce/ui/ComboBox",aj="tinymce/ui/Path",aa="tinymce/ui/ElementPath",bR="tinymce/ui/FormItem",bI="tinymce/ui/Form",af="tinymce/ui/FieldSet",bL="tinymce/ui/FilePicker",bC="tinymce/ui/FitLayout",aq="tinymce/ui/FlexLayout",ad="tinymce/ui/FlowLayout",bP="tinymce/ui/FormatControls",bE="tinymce/ui/GridLayout",aF="tinymce/ui/Iframe",be="tinymce/ui/Label",a6="tinymce/ui/Toolbar",ab="tinymce/ui/MenuBar",an="tinymce/ui/MenuButton",bj="tinymce/ui/ListBox",aL="tinymce/ui/MenuItem",bl="tinymce/ui/Menu",ac="tinymce/ui/Radio",ai="tinymce/ui/ResizeHandle",a8="tinymce/ui/Spacer",al="tinymce/ui/SplitButton",bN="tinymce/ui/StackLayout",bS="tinymce/ui/TabPanel",ag="tinymce/ui/TextBox",ay="tinymce/ui/Throbber";aD(aM,[],function(){function h(l,a,m,i){l.addEventListener?l.addEventListener(a,m,i||!1):l.attachEvent&&l.attachEvent("on"+a,m)}function d(l,a,m,i){l.removeEventListener?l.removeEventListener(a,m,i||!1):l.detachEvent&&l.detachEvent("on"+a,m)}function k(v,z){function p(){return !1}function a(){return !0}var s,m=z||{},q;for(s in v){f[s]||(m[s]=v[s])}if(m.target||(m.target=m.srcElement||document),v&&b.test(v.type)&&v.pageX===q&&v.clientX!==q){var x=m.target.ownerDocument||document,y=x.documentElement,w=x.body;m.pageX=v.clientX+(y&&y.scrollLeft||w&&w.scrollLeft||0)-(y&&y.clientLeft||w&&w.clientLeft||0),m.pageY=v.clientY+(y&&y.scrollTop||w&&w.scrollTop||0)-(y&&y.clientTop||w&&w.clientTop||0)}return m.preventDefault=function(){m.isDefaultPrevented=a,v&&(v.preventDefault?v.preventDefault():v.returnValue=!1)},m.stopPropagation=function(){m.isPropagationStopped=a,v&&(v.stopPropagation?v.stopPropagation():v.cancelBubble=!0)},m.stopImmediatePropagation=function(){m.isImmediatePropagationStopped=a,m.stopPropagation()},m.isDefaultPrevented||(m.isDefaultPrevented=p,m.isPropagationStopped=p,m.isImmediatePropagationStopped=p),m}function g(w,t,p){function u(){p.domLoaded||(p.domLoaded=!0,t(v))}function m(){"complete"===e.readyState&&(d(e,"readystatechange",m),u())}function q(){try{e.documentElement.doScroll("left")}catch(a){return setTimeout(q,0),void 0}u()}var e=w.document,v={type:"ready"};return p.domLoaded?(t(v),void 0):(e.addEventListener?h(w,"DOMContentLoaded",u):(h(e,"readystatechange",m),e.documentElement.doScroll&&w===w.top&&q()),h(w,"load",u),void 0)}function c(){function o(u,l){var w,s,a,v;if(w=p[l][u.type]){for(s=0,a=w.length;a>s;s++){if(v=w[s],v&&v.func.call(v.scope,u)===!1&&u.preventDefault(),u.isImmediatePropagationStopped()){return}}}}var m=this,p={},e,t,n,r,q;t=j+(+new Date).toString(32),r="onmouseenter" in document.documentElement,n="onfocusin" in document.documentElement,q={mouseenter:"mouseover",mouseleave:"mouseout"},e=1,m.domLoaded=!1,m.events=p,m.bind=function(H,l,i,u){function s(v){o(k(v||F.event),z)}var z,G,B,A,a,D,E,F=window;if(H&&3!==H.nodeType&&8!==H.nodeType){for(H[t]?z=H[t]:(z=e++,H[t]=z,p[z]={}),u=u||H,l=l.split(" "),B=l.length;B--;){A=l[B],D=s,a=E=!1,"DOMContentLoaded"===A&&(A="ready"),m.domLoaded&&"ready"===A&&"complete"==H.readyState?i.call(u,k({type:A})):(r||(a=q[A],a&&(D=function(x){var v,w;if(v=x.currentTarget,w=x.relatedTarget,w&&v.contains){w=v.contains(w)}else{for(;w&&w!==v;){w=w.parentNode}}w||(x=k(x||F.event),x.type="mouseout"===x.type?"mouseleave":"mouseenter",x.target=v,o(x,z))})),n||"focusin"!==A&&"focusout"!==A||(E=!0,a="focusin"===A?"focus":"blur",D=function(v){v=k(v||F.event),v.type="focus"===v.type?"focusin":"focusout",o(v,z)}),G=p[z][A],G?"ready"===A&&m.domLoaded?i({type:A}):G.push({func:i,scope:u}):(p[z][A]=G=[{func:i,scope:u}],G.fakeName=a,G.capture=E,G.nativeHandler=D,"ready"===A?g(H,D,m):h(H,a||A,D,E)))}return H=G=0,i}},m.unbind=function(A,w,a){var y,v,x,C,B,z;if(!A||3===A.nodeType||8===A.nodeType){return m}if(y=A[t]){if(z=p[y],w){for(w=w.split(" "),x=w.length;x--;){if(B=w[x],v=z[B]){if(a){for(C=v.length;C--;){v[C].func===a&&v.splice(C,1)}}a&&0!==v.length||(delete z[B],d(A,v.fakeName||B,v.nativeHandler,v.capture))}}}else{for(B in z){v=z[B],d(A,v.fakeName||B,v.nativeHandler,v.capture)}z={}}for(B in z){return m}delete p[y];try{delete A[t]}catch(s){A[t]=null}}return m},m.fire=function(l,a,i){var s;if(!l||3===l.nodeType||8===l.nodeType){return m}i=k(null,i),i.type=a,i.target=l;do{s=l[t],s&&o(i,s),l=l.parentNode||l.ownerDocument||l.defaultView||l.parentWindow}while(l&&!i.isPropagationStopped());return m},m.clean=function(l){var a,s,i=m.unbind;if(!l||3===l.nodeType||8===l.nodeType){return m}if(l[t]&&i(l),l.getElementsByTagName||(l=l.document),l&&l.getElementsByTagName){for(i(l),s=l.getElementsByTagName("*"),a=s.length;a--;){l=s[a],l[t]&&i(l)}}return m},m.destroy=function(){p={}},m.cancel=function(a){return a&&(a.preventDefault(),a.stopImmediatePropagation()),!1}}var j="mce-data-",b=/^(?:mouse|contextmenu)|click/,f={keyLocation:1,layerX:1,layerY:1};return c.Event=new c,c.Event.bind(window,"ready",function(){}),c}),aD(aV,[],function(){function ck(a){return cX.test(a+"")}function cb(){var b,a=[];return b=function(d,c){return a.push(d+=" ")>cI.cacheLength&&delete b[a.shift()],b[d]=c,c}}function cg(a){return a[cQ]=!0,a}function ca(b){var a=cS.createElement("div");try{return !!b(a)}catch(c){return !1}finally{a=null}}function cp(y,C,j,b){var v,f,A,D,q,z,B,d,w,k;if((C?C.ownerDocument||C:cy)!==cS&&cV(C),C=C||cS,j=j||[],!y||"string"!=typeof y){return j}if(1!==(D=C.nodeType)&&9!==D){return[]}if(cJ&&!b){if(v=bW.exec(y)){if(A=v[1]){if(9===D){if(f=C.getElementById(A),!f||!f.parentNode){return j}if(f.id===A){return j.push(f),j}}else{if(C.ownerDocument&&(f=C.ownerDocument.getElementById(A))&&cN(C,f)&&f.id===A){return j.push(f),j}}}else{if(v[2]){return c8.apply(j,C.getElementsByTagName(y)),j}if((A=v[3])&&bZ.getElementsByClassName&&C.getElementsByClassName){return c8.apply(j,C.getElementsByClassName(A)),j}}}if(bZ.qsa&&!cO.test(y)){if(B=!0,d=cQ,w=C,k=9===D&&y,1===D&&"object"!==C.nodeName.toLowerCase()){for(z=cl(y),(B=C.getAttribute("id"))?d=B.replace(cs,"\\$&"):C.setAttribute("id",d),d="[id='"+d+"'] ",q=z.length;q--;){z[q]=d+cj(z[q])}w=cY.test(y)&&C.parentNode||C,k=z.join(",")}if(k){try{return c8.apply(j,w.querySelectorAll(k)),j}catch(x){}finally{B||C.removeAttribute("id")}}}}return cT(y.replace(bX,"$1"),C,j,b)}function b6(c,a){var d=a&&c,b=d&&(~a.sourceIndex||cx)-(~c.sourceIndex||cx);if(b){return b}if(d){for(;d=d.nextSibling;){if(d===a){return -1}}}return c?1:-1}function cd(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function cm(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function b5(a){return cg(function(b){return b=+b,cg(function(g,e){for(var d,f=a([],g.length,b),c=f.length;c--;){g[d=f[c]]&&(g[d]=!(e[d]=g[d]))}})})}function cl(h,m){var d,a,g,b,p,f,j,k=cf[h+" "];if(k){return m?0:k.slice(0)}for(p=h,f=[],j=cI.preFilter;p;){(!d||(a=b7.exec(p)))&&(a&&(p=p.slice(a[0].length)||p),f.push(g=[])),d=!1,(a=t.exec(p))&&(d=a.shift(),g.push({value:d,type:a[0].replace(bX," ")}),p=p.slice(d.length));for(b in cI.filter){!(a=cr[b].exec(p))||j[b]&&!(a=j[b](a))||(d=a.shift(),g.push({value:d,type:b,matches:a}),p=p.slice(d.length))}if(!d){break}}return m?p.length:p?cp.error(h):cf(h,f).slice(0)}function cj(c){for(var a=0,d=c.length,b="";d>a;a++){b+=c[a].value}return b}function b9(d,b,g){var c=b.dir,a=g&&"parentNode"===c,f=cA++;return b.first?function(e,i,h){for(;e=e[c];){if(1===e.nodeType||a){return d(e,i,h)}}}:function(j,o,h){var k,e,m,i=cz+" "+f;if(h){for(;j=j[c];){if((1===j.nodeType||a)&&d(j,o,h)){return !0}}}else{for(;j=j[c];){if(1===j.nodeType||a){if(m=j[cQ]||(j[cQ]={}),(e=m[c])&&e[0]===i){if((k=e[1])===!0||k===cq){return k===!0}}else{if(e=m[c]=[i],e[1]=d(j,o,h)||cq,e[1]===!0){return !0}}}}}}}function ch(a){return a.length>1?function(c,e,d){for(var b=a.length;b--;){if(!a[b](c,e,d)){return !1}}return !0}:a[0]}function cc(j,p,f,b,h){for(var d,m=[],q=0,g=j.length,k=null!=p;g>q;q++){(d=j[q])&&(!f||f(d,b,h))&&(m.push(d),k&&p.push(q))}return m}function ci(f,c,h,d,g,b){return d&&!d[cQ]&&(d=ci(d)),g&&!g[cQ]&&(g=ci(g,b)),cg(function(k,z,C,j){var w,B,q,o=[],e=[],m=z.length,n=k||co(c||"*",C.nodeType?[C]:C,[]),A=!f||!k&&c?n:cc(n,o,f,C,j),x=h?g||(k?f:m||d)?[]:z:A;if(h&&h(A,x,C,j),d){for(w=cc(x,e),d(w,[],C,j),B=w.length;B--;){(q=w[B])&&(x[e[B]]=!(A[e[B]]=q))}}if(k){if(g||f){if(g){for(w=[],B=x.length;B--;){(q=x[B])&&w.push(A[B]=q)}g(null,x=[],w,j)}for(B=x.length;B--;){(q=x[B])&&(w=g?cw.call(k,q):o[B])>-1&&(k[w]=!(z[w]=q))}}}else{x=cc(x===z?x.splice(m,x.length):x),g?g(null,z,x,j):c8.apply(z,x)}})}function b4(j){for(var q,f,b,h=j.length,d=cI.relative[j[0].type],m=d||cI.relative[" "],v=d?1:0,g=b9(function(a){return a===q},m,!0),k=b9(function(a){return cw.call(q,a)>-1},m,!0),p=[function(c,i,a){return !d&&(a||i!==cB)||((q=i).nodeType?g(c,i,a):k(c,i,a))}];h>v;v++){if(f=cI.relative[j[v].type]){p=[b9(ch(p),f)]}else{if(f=cI.filter[j[v].type].apply(null,j[v].matches),f[cQ]){for(b=++v;h>b&&!cI.relative[j[b].type];b++){}return ci(v>1&&ch(p),v>1&&cj(j.slice(0,v-1)).replace(bX,"$1"),f,b>v&&b4(j.slice(v,b)),h>b&&b4(j=j.slice(b)),h>b&&cj(j))}p.push(f)}}return ch(p)}function b0(d,a){var g=0,c=a.length>0,f=d.length>0,b=function(m,I,k,A,H){var z,q,j,n=[],o=0,G="0",D=m&&[],B=null!=H,e=cB,E=m||f&&cI.find.TAG("*",H&&I.parentNode||I),F=cz+=null==e?1:Math.random()||0.1;for(B&&(cB=I!==cS&&I,cq=g);null!=(z=E[G]);G++){if(f&&z){for(q=0;j=d[q++];){if(j(z,I,k)){A.push(z);break}}B&&(cz=F,cq=++g)}c&&((z=!j&&z)&&o--,m&&D.push(z))}if(o+=G,c&&G!==o){for(q=0;j=a[q++];){j(D,n,I,k)}if(m){if(o>0){for(;G--;){D[G]||n[G]||(n[G]=cF.call(A))}}n=cc(n)}c8.apply(A,n),B&&!m&&n.length>0&&o+a.length>1&&cp.uniqueSort(A)}return B&&(cz=F,cB=e),D};return c?cg(b):b}function co(d,b,f){for(var c=0,a=b.length;a>c;c++){cp(d,b[c],f)}return f}function cT(j,p,f,b){var h,d,m,q,g,k=cl(j);if(!b&&1===k.length){if(d=k[0]=k[0].slice(0),d.length>2&&"ID"===(m=d[0]).type&&9===p.nodeType&&cJ&&cI.relative[d[1].type]){if(p=(cI.find.ID(m.matches[0].replace(r,c7),p)||[])[0],!p){return f}j=j.slice(d.shift().value.length)}for(h=cr.needsContext.test(j)?0:d.length;h--&&(m=d[h],!cI.relative[q=m.type]);){if((g=cI.find[q])&&(b=g(m.matches[0].replace(r,c7),cY.test(d[0].type)&&p.parentNode||p))){if(d.splice(h,1),j=b.length&&cj(d),!j){return c8.apply(f,b),f}break}}}return cD(j,k)(b,p,!cJ,f,cY.test(j)),f}function b1(){}var b2,cq,cI,cR,ce,cD,cB,cE,cW,cV,cS,cK,cJ,cO,cG,cH,cN,cQ="sizzle"+-new Date,cy=window.document,bZ={},cz=0,cA=0,b8=cb(),cf=cb(),c2=cb(),cL=!1,cP=function(){return 0},cv=typeof aB,cx=1<<31,cM=[],cF=cM.pop,cu=cM.push,c8=cM.push,cC=cM.slice,cw=cM.indexOf||function(b){for(var a=0,c=this.length;c>a;a++){if(this[a]===b){return a}}return -1},c5="[\\x20\\t\\r\\n\\f]",bY="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",b3=bY.replace("w","w#"),cU="([*^$|!~]?=)",cZ="\\["+c5+"*("+bY+")"+c5+"*(?:"+cU+c5+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+b3+")|)|)"+c5+"*\\]",c4=":("+bY+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+cZ.replace(3,8)+")*)|.*)\\)|)",bX=new RegExp("^"+c5+"+|((?:^|[^\\\\])(?:\\\\.)*)"+c5+"+$","g"),b7=new RegExp("^"+c5+"*,"+c5+"*"),t=new RegExp("^"+c5+"*([\\x20\\t\\r\\n\\f>+~])"+c5+"*"),c3=new RegExp(c4),bV=new RegExp("^"+b3+"$"),cr={ID:new RegExp("^#("+bY+")"),CLASS:new RegExp("^\\.("+bY+")"),NAME:new RegExp("^\\[name=['\"]?("+bY+")['\"]?\\]"),TAG:new RegExp("^("+bY.replace("w","w*")+")"),ATTR:new RegExp("^"+cZ),PSEUDO:new RegExp("^"+c4),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+c5+"*(even|odd|(([+-]|)(\\d*)n|)"+c5+"*(?:([+-]|)"+c5+"*(\\d+)|))"+c5+"*\\)|)","i"),needsContext:new RegExp("^"+c5+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+c5+"*((?:-\\d)?\\d*)"+c5+"*\\)|)(?=[^-]|$)","i")},cY=/[\x20\t\r\n\f]*[+~]/,cX=/^[^{]+\{\s*\[native code/,bW=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,c1=/^(?:input|select|textarea|button)$/i,cn=/^h\d$/i,cs=/'|\\/g,c6=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,r=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,c7=function(b,a){var c="0x"+a-65536;return c!==c?a:0>c?String.fromCharCode(c+65536):String.fromCharCode(55296|c>>10,56320|1023&c)};try{c8.apply(cM=cC.call(cy.childNodes),cy.childNodes),cM[cy.childNodes.length].nodeType}catch(c0){c8={apply:cM.length?function(b,a){cu.apply(b,cC.call(a))}:function(c,a){for(var d=c.length,b=0;c[d++]=a[b++];){}c.length=d-1}}}ce=cp.isXML=function(b){var a=b&&(b.ownerDocument||b).documentElement;return a?"HTML"!==a.nodeName:!1},cV=cp.setDocument=function(b){var a=b?b.ownerDocument||b:cy;return a!==cS&&9===a.nodeType&&a.documentElement?(cS=a,cK=a.documentElement,cJ=!ce(a),bZ.getElementsByTagName=ca(function(c){return c.appendChild(a.createComment("")),!c.getElementsByTagName("*").length}),bZ.attributes=ca(function(d){d.innerHTML="<select></select>";var c=typeof d.lastChild.getAttribute("multiple");return"boolean"!==c&&"string"!==c}),bZ.getElementsByClassName=ca(function(c){return c.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",c.getElementsByClassName&&c.getElementsByClassName("e").length?(c.lastChild.className="e",2===c.getElementsByClassName("e").length):!1}),bZ.getByName=ca(function(d){d.id=cQ+0,d.appendChild(cS.createElement("a")).setAttribute("name",cQ),d.appendChild(cS.createElement("i")).setAttribute("name",cQ),cK.appendChild(d);var c=a.getElementsByName&&a.getElementsByName(cQ).length===2+a.getElementsByName(cQ+0).length;return cK.removeChild(d),c}),bZ.sortDetached=ca(function(c){return c.compareDocumentPosition&&1&c.compareDocumentPosition(cS.createElement("div"))}),cI.attrHandle=ca(function(c){return c.innerHTML="<a href='#'></a>",c.firstChild&&typeof c.firstChild.getAttribute!==cv&&"#"===c.firstChild.getAttribute("href")})?{}:{href:function(c){return c.getAttribute("href",2)},type:function(c){return c.getAttribute("type")}},bZ.getByName?(cI.find.ID=function(d,c){if(typeof c.getElementById!==cv&&cJ){var f=c.getElementById(d);return f&&f.parentNode?[f]:[]}},cI.filter.ID=function(d){var c=d.replace(r,c7);return function(f){return f.getAttribute("id")===c}}):(cI.find.ID=function(d,f){if(typeof f.getElementById!==cv&&cJ){var c=f.getElementById(d);return c?c.id===d||typeof c.getAttributeNode!==cv&&c.getAttributeNode("id").value===d?[c]:aB:[]}},cI.filter.ID=function(d){var c=d.replace(r,c7);return function(f){var g=typeof f.getAttributeNode!==cv&&f.getAttributeNode("id");return g&&g.value===c}}),cI.find.TAG=bZ.getElementsByTagName?function(d,c){return typeof c.getElementsByTagName!==cv?c.getElementsByTagName(d):void 0}:function(g,d){var j,f=[],c=0,h=d.getElementsByTagName(g);if("*"===g){for(;j=h[c++];){1===j.nodeType&&f.push(j)}return f}return h},cI.find.NAME=bZ.getByName&&function(d,c){return typeof c.getElementsByName!==cv?c.getElementsByName(name):void 0},cI.find.CLASS=bZ.getElementsByClassName&&function(d,c){return typeof c.getElementsByClassName!==cv&&cJ?c.getElementsByClassName(d):void 0},cG=[],cO=[":focus"],(bZ.qsa=ck(a.querySelectorAll))&&(ca(function(c){c.innerHTML="<select><option selected=''></option></select>",c.querySelectorAll("[selected]").length||cO.push("\\["+c5+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),c.querySelectorAll(":checked").length||cO.push(":checked")}),ca(function(c){c.innerHTML="<input type='hidden' i=''/>",c.querySelectorAll("[i^='']").length&&cO.push("[*^$]="+c5+"*(?:\"\"|'')"),c.querySelectorAll(":enabled").length||cO.push(":enabled",":disabled"),c.querySelectorAll("*,:x"),cO.push(",.*:")})),(bZ.matchesSelector=ck(cH=cK.matchesSelector||cK.mozMatchesSelector||cK.webkitMatchesSelector||cK.oMatchesSelector||cK.msMatchesSelector))&&ca(function(c){bZ.disconnectedMatch=cH.call(c,"div"),cH.call(c,"[s!='']:x"),cG.push("!=",c4)}),cO=new RegExp(cO.join("|")),cG=cG.length&&new RegExp(cG.join("|")),cN=ck(cK.contains)||cK.compareDocumentPosition?function(f,c){var g=9===f.nodeType?f.documentElement:f,d=c&&c.parentNode;return f===d||!(!d||1!==d.nodeType||!(g.contains?g.contains(d):f.compareDocumentPosition&&16&f.compareDocumentPosition(d)))}:function(d,c){if(c){for(;c=c.parentNode;){if(c===d){return !0}}}return !1},cP=cK.compareDocumentPosition?function(d,c){if(d===c){return cL=!0,0}var f=c.compareDocumentPosition&&d.compareDocumentPosition&&d.compareDocumentPosition(c);return f?1&f||cE&&c.compareDocumentPosition(d)===f?d===a||cN(cy,d)?-1:c===a||cN(cy,c)?1:cW?cw.call(cW,d)-cw.call(cW,c):0:4&f?-1:1:d.compareDocumentPosition?-1:1}:function(j,h){var p,g=0,k=j.parentNode,f=h.parentNode,d=[j],m=[h];if(j===h){return cL=!0,0}if(!k||!f){return j===a?-1:h===a?1:k?-1:f?1:0}if(k===f){return b6(j,h)}for(p=j;p=p.parentNode;){d.unshift(p)}for(p=h;p=p.parentNode;){m.unshift(p)}for(;d[g]===m[g];){g++}return g?b6(d[g],m[g]):d[g]===cy?-1:m[g]===cy?1:0},cS):cS},cp.matches=function(b,a){return cp(b,null,null,a)},cp.matchesSelector=function(c,a){if((c.ownerDocument||c)!==cS&&cV(c),a=a.replace(c6,"='$1']"),bZ.matchesSelector&&cJ&&(!cG||!cG.test(a))&&!cO.test(a)){try{var d=cH.call(c,a);if(d||bZ.disconnectedMatch||c.document&&11!==c.document.nodeType){return d}}catch(b){}}return cp(a,cS,null,[c]).length>0},cp.contains=function(b,a){return(b.ownerDocument||b)!==cS&&cV(b),cN(b,a)},cp.attr=function(b,a){var c;return(b.ownerDocument||b)!==cS&&cV(b),cJ&&(a=a.toLowerCase()),(c=cI.attrHandle[a])?c(b):!cJ||bZ.attributes?b.getAttribute(a):((c=b.getAttributeNode(a))||b.getAttribute(a))&&b[a]===!0?a:c&&c.specified?c.value:null},cp.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},cp.uniqueSort=function(d){var b,f=[],c=0,a=0;if(cL=!bZ.detectDuplicates,cE=!bZ.sortDetached,cW=!bZ.sortStable&&d.slice(0),d.sort(cP),cL){for(;b=d[a++];){b===d[a]&&(c=f.push(a))}for(;c--;){d.splice(f[c],1)}}return d},cR=cp.getText=function(d){var b,f="",c=0,a=d.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof d.textContent){return d.textContent}for(d=d.firstChild;d;d=d.nextSibling){f+=cR(d)}}else{if(3===a||4===a){return d.nodeValue}}}else{for(;b=d[c];c++){f+=cR(b)}}return f},cI=cp.selectors={cacheLength:50,createPseudo:cg,match:cr,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(r,c7),a[3]=(a[4]||a[5]||"").replace(r,c7),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||cp.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&cp.error(a[0]),a},PSEUDO:function(b){var a,c=!b[5]&&b[2];return cr.CHILD.test(b[0])?null:(b[4]?b[2]=b[4]:c&&c3.test(c)&&(a=cl(c,!0))&&(a=c.indexOf(")",c.length-a)-c.length)&&(b[0]=b[0].slice(0,a),b[2]=c.slice(0,a)),b.slice(0,3))}},filter:{TAG:function(a){return"*"===a?function(){return !0}:(a=a.replace(r,c7).toLowerCase(),function(b){return b.nodeName&&b.nodeName.toLowerCase()===a})},CLASS:function(b){var a=b8[b+" "];return a||(a=new RegExp("(^|"+c5+")"+b+"("+c5+"|$)"))&&b8(b,function(c){return a.test(c.className||typeof c.getAttribute!==cv&&c.getAttribute("class")||"")})},ATTR:function(b,a,c){return function(e){var d=cp.attr(e,b);return null==d?"!="===a:a?(d+="","="===a?d===c:"!="===a?d!==c:"^="===a?c&&0===d.indexOf(c):"*="===a?c&&d.indexOf(c)>-1:"$="===a?c&&d.slice(-c.length)===c:"~="===a?(" "+d+" ").indexOf(c)>-1:"|="===a?d===c||d.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(h,d,k,g,c){var j="nth"!==h.slice(0,3),b="last"!==h.slice(-4),f="of-type"===d;return 1===g&&0===c?function(a){return !!a.parentNode}:function(D,e,o){var z,C,x,w,a,q,i=j!==b?"nextSibling":"previousSibling",s=D.parentNode,B=f&&D.nodeName.toLowerCase(),A=!o&&!f;if(s){if(j){for(;i;){for(x=D;x=x[i];){if(f?x.nodeName.toLowerCase()===B:1===x.nodeType){return !1}}q=i="only"===h&&!q&&"nextSibling"}return !0}if(q=[b?s.firstChild:s.lastChild],b&&A){for(C=s[cQ]||(s[cQ]={}),z=C[h]||[],a=z[0]===cz&&z[1],w=z[0]===cz&&z[2],x=a&&s.childNodes[a];x=++a&&x&&x[i]||(w=a=0)||q.pop();){if(1===x.nodeType&&++w&&x===D){C[h]=[cz,a,w];break}}}else{if(A&&(z=(D[cQ]||(D[cQ]={}))[h])&&z[0]===cz){w=z[1]}else{for(;(x=++a&&x&&x[i]||(w=a=0)||q.pop())&&((f?x.nodeName.toLowerCase()!==B:1!==x.nodeType)||!++w||(A&&((x[cQ]||(x[cQ]={}))[h]=[cz,w]),x!==D));){}}}return w-=c,w===g||0===w%g&&w/g>=0}}},PSEUDO:function(c,a){var d,b=cI.pseudos[c]||cI.setFilters[c.toLowerCase()]||cp.error("unsupported pseudo: "+c);return b[cQ]?b(a):b.length>1?(d=[c,c,"",a],cI.setFilters.hasOwnProperty(c.toLowerCase())?cg(function(h,k){for(var g,j=b(h,a),f=j.length;f--;){g=cw.call(h,j[f]),h[g]=!(k[g]=j[f])}}):function(f){return b(f,0,d)}):b}},pseudos:{not:cg(function(c){var a=[],d=[],b=cD(c.replace(bX,"$1"));return b[cQ]?cg(function(k,h,m,g){for(var l,f=b(k,null,g,[]),j=k.length;j--;){(l=f[j])&&(k[j]=!(h[j]=l))}}):function(g,f,h){return a[0]=g,b(a,null,h,d),!d.pop()}}),has:cg(function(a){return function(b){return cp(a,b).length>0}}),contains:cg(function(a){return function(b){return(b.textContent||b.innerText||cR(b)).indexOf(a)>-1}}),lang:cg(function(a){return bV.test(a||"")||cp.error("unsupported lang: "+a),a=a.replace(r,c7).toLowerCase(),function(b){var c;do{if(c=cJ?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang")){return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-")}}while((b=b.parentNode)&&1===b.nodeType);return !1}}),target:function(b){var a=window.location&&window.location.hash;return a&&a.slice(1)===b.id},root:function(a){return a===cK},focus:function(a){return a===cS.activeElement&&(!cS.hasFocus||cS.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(b){var a=b.nodeName.toLowerCase();return"input"===a&&!!b.checked||"option"===a&&!!b.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling){if(a.nodeName>"@"||3===a.nodeType||4===a.nodeType){return !1}}return !0},parent:function(a){return !cI.pseudos.empty(a)},header:function(a){return cn.test(a.nodeName)},input:function(a){return c1.test(a.nodeName)},button:function(b){var a=b.nodeName.toLowerCase();return"input"===a&&"button"===b.type||"button"===a},text:function(b){var a;return"input"===b.nodeName.toLowerCase()&&"text"===b.type&&(null==(a=b.getAttribute("type"))||a.toLowerCase()===b.type)},first:b5(function(){return[0]}),last:b5(function(b,a){return[a-1]}),eq:b5(function(b,a,c){return[0>c?c+a:c]}),even:b5(function(b,a){for(var c=0;a>c;c+=2){b.push(c)}return b}),odd:b5(function(b,a){for(var c=1;a>c;c+=2){b.push(c)}return b}),lt:b5(function(c,a,d){for(var b=0>d?d+a:d;--b>=0;){c.push(b)}return c}),gt:b5(function(c,a,d){for(var b=0>d?d+a:d;++b<a;){c.push(b)}return c})}};for(b2 in {radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){cI.pseudos[b2]=cd(b2)}for(b2 in {submit:!0,reset:!0}){cI.pseudos[b2]=cm(b2)}return cD=cp.compile=function(d,b){var g,c=[],a=[],f=c2[d+" "];if(!f){for(b||(b=cl(d)),g=b.length;g--;){f=b4(b[g]),f[cQ]?c.push(f):a.push(f)}f=c2(d,b0(a,c))}return f},cI.pseudos.nth=cI.pseudos.eq,b1.prototype=cI.filters=cI.pseudos,cI.setFilters=new b1,bZ.sortStable=cQ.split("").sort(cP).join("")===cQ,cV(),[0,0].sort(cP),bZ.detectDuplicates=cL,"function"==typeof aD&&aD.amd?aD(function(){return cp}):window.Sizzle=cp,cp}),aD(aA,[aM,aV],function(P,H){function E(a){return"undefined"!=typeof a}function K(a){return"string"==typeof a}function G(c){var a,d,b;for(b=M.createElement("div"),a=M.createDocumentFragment(),b.innerHTML=c;d=b.firstChild;){a.appendChild(d)}return a}function T(c,a,d){var b;if("string"==typeof a){a=G(a)}else{if(a.length){for(b=0;b<a.length;b++){T(c,a[b],d)}return c}}for(b=c.length;b--;){d.call(c[b],a.parentNode?a:a)}return c}function B(b,a){return b&&a&&-1!==(" "+b.className+" ").indexOf(" "+a+" ")}function J(b,a){var c;for(b=b||[],"string"==typeof b&&(b=b.split(" ")),a=a||{},c=b.length;c--;){a[b[c]]={}}return a}function R(b,a){return new R.fn.init(b,a)}function A(d){var b=arguments,f,c,a;for(c=1;c<b.length;c++){f=b[c];for(a in f){d[a]=f[a]}}return d}function Q(c){var a=[],d,b;for(d=0,b=c.length;b>d;d++){a[d]=c[d]}return a}function O(b,a){var c;if(a.indexOf){return a.indexOf(b)}for(c=a.length;c--;){if(a[c]===b){return c}}return -1}function F(g,d){var l,f,c,h,b;if(g){if(l=g.length,l===h){for(f in g){if(g.hasOwnProperty(f)&&(b=g[f],d.call(b,b,f)===!1)){break}}}else{for(c=0;l>c&&(b=g[c],d.call(b,b,f)!==!1);c++){}}}return g}function L(c,f,b){for(var a=[],d=c[f];d&&9!==d.nodeType&&(b===aB||1!==d.nodeType||!R(d).is(b));){1===d.nodeType&&a.push(d),d=d[f]}return a}function I(d,b,f,c){for(var a=[];d;d=d[f]){c&&d.nodeType!==c||d===b||a.push(d)}return a}var M=document,z=Array.prototype.push,k=Array.prototype.slice,S=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,D=P.Event,q=J("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"),t=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},U=/^\s*|\s*$/g,j=function(a){return null===a||a===aB?"":(""+a).replace(U,"")};return R.fn=R.prototype={constructor:R,selector:"",length:0,init:function(f,c){var g=this,d,b;if(!f){return g}if(f.nodeType){return g.context=g[0]=f,g.length=1,g}if(K(f)){if(d="<"===f.charAt(0)&&">"===f.charAt(f.length-1)&&f.length>=3?[null,f,null]:S.exec(f),!d){return R(c||document).find(f)}if(d[1]){for(b=G(f).firstChild;b;){this.add(b),b=b.nextSibling}}else{if(b=M.getElementById(d[2]),b.id!==d[2]){return g.find(f)}g.length=1,g[0]=b}}else{this.add(f)}return g},toArray:function(){return Q(this)},add:function(b){var a=this;return t(b)?z.apply(a,b):b instanceof R?a.add(b.toArray()):z.call(a,b),a},attr:function(b,c){var a=this;if("object"==typeof b){F(b,function(f,d){a.attr(d,f)})}else{if(!E(c)){return a[0]&&1===a[0].nodeType?a[0].getAttribute(b):aB}this.each(function(){1===this.nodeType&&this.setAttribute(b,c)})}return a},css:function(b,c){var a=this;if("object"==typeof b){F(b,function(f,d){a.css(d,f)})}else{if(b=b.replace(/-(\D)/g,function(f,d){return d.toUpperCase()}),!E(c)){return a[0]?a[0].style[b]:aB}"number"!=typeof c||q[b]||(c+="px"),a.each(function(){var d=this.style;"opacity"===b&&this.runtimeStyle&&"undefined"==typeof this.runtimeStyle.opacity&&(d.filter=""===c?"":"alpha(opacity="+100*c+")");try{d[b]=c}catch(e){}})}return a},remove:function(){for(var b=this,a,c=this.length;c--;){a=b[c],D.clean(a),a.parentNode&&a.parentNode.removeChild(a)}return this},empty:function(){for(var b=this,a,c=this.length;c--;){for(a=b[c];a.firstChild;){a.removeChild(a.firstChild)}}return this},html:function(b){var a=this,c;if(E(b)){for(c=a.length;c--;){a[c].innerHTML=b}return a}return a[0]?a[0].innerHTML:""},text:function(b){var a=this,c;if(E(b)){for(c=a.length;c--;){a[c].innerText=a[0].textContent=b}return a}return a[0]?a[0].innerText||a[0].textContent:""},append:function(){return T(this,arguments,function(a){1===this.nodeType&&this.appendChild(a)})},prepend:function(){return T(this,arguments,function(a){1===this.nodeType&&this.insertBefore(a,this.firstChild)})},before:function(){var a=this;return a[0]&&a[0].parentNode?T(a,arguments,function(b){this.parentNode.insertBefore(b,this.nextSibling)}):a},after:function(){var a=this;return a[0]&&a[0].parentNode?T(a,arguments,function(b){this.parentNode.insertBefore(b,this)}):a},appendTo:function(a){return R(a).append(this),this},addClass:function(a){return this.toggleClass(a,!0)},removeClass:function(a){return this.toggleClass(a,!1)},toggleClass:function(b,a){var c=this;return -1!==b.indexOf(" ")?F(b.split(" "),function(){c.toggleClass(this,a)}):c.each(function(){var e=this,d;B(e,b)!==a&&(d=e.className,a?e.className+=d?" "+b:b:e.className=j((" "+d+" ").replace(" "+b+" "," ")))}),c},hasClass:function(a){return B(this[0],a)},each:function(a){return F(this,a)},on:function(b,a){return this.each(function(){D.bind(this,b,a)})},off:function(b,a){return this.each(function(){D.unbind(this,b,a)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new R(k.apply(this,arguments))},eq:function(a){return -1===a?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},replaceWith:function(b){var a=this;return a[0]&&a[0].parentNode.replaceChild(R(b)[0],a[0]),a},wrap:function(a){return a=R(a)[0],this.each(function(){var b=this,c=a.cloneNode(!1);b.parentNode.insertBefore(c,b),c.appendChild(b)})},unwrap:function(){return this.each(function(){for(var b=this,a=b.firstChild,c;a;){c=a,a=a.nextSibling,b.parentNode.insertBefore(c,b)}})},clone:function(){var a=[];return this.each(function(){a.push(this.cloneNode(!0))}),R(a)},find:function(c){var a,d,b=[];for(a=0,d=this.length;d>a;a++){R.find(c,this[a],b)}return R(b)},push:z,sort:[].sort,splice:[].splice},A(R,{extend:A,toArray:Q,inArray:O,isArray:t,each:F,trim:j,makeMap:J,find:H,expr:H.selectors,unique:H.uniqueSort,text:H.getText,isXMLDoc:H.isXML,contains:H.contains,filter:function(b,a,c){return c&&(b=":not("+b+")"),1===a.length?R.find.matchesSelector(a[0],b)?[a[0]]:[]:R.find.matches(b,a)}}),F({parent:function(b){var a=b.parentNode;return a&&11!==a.nodeType?a:null},parents:function(a){return L(a,"parentNode")},parentsUntil:function(b,a){return L(b,"parentNode",a)},next:function(a){return I(a,"nextSibling",1)},prev:function(a){return I(a,"previousSibling",1)},nextNodes:function(a){return I(a,"nextSibling")},prevNodes:function(a){return I(a,"previousSibling")},children:function(a){return I(a.firstChild,"nextSibling",1)},contents:function(a){return Q(("iframe"===a.nodeName?a.contentDocument||a.contentWindow.document:a).childNodes)}},function(b,a){R.fn[b]=function(e){var d=this,c;if(d.length>1){throw new Error("DomQuery only supports traverse functions on a single node.")}return d[0]&&(c=a(d[0],e)),c=R(c),e&&"parentsUntil"!==b?c.filter(e):c}}),R.fn.filter=function(a){return R.filter(a)},R.fn.is=function(a){return !!a&&this.filter(a).length>0},R.fn.init.prototype=R.fn,R}),aD(aU,[],function(){return function(k,w){function g(l,c,o,d){function a(i){return i=parseInt(i,10).toString(16),i.length>1?i:"0"+i}return"#"+a(c)+a(o)+a(d)}var b=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,j=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,f=/\s*([^:]+):\s*([^;]+);?/g,q=/\s+$/,x,h,p={},v,m="\ufeff";for(k=k||{},v=("\\\" \\' \\; \\: ; : "+m).split(" "),h=0;h<v.length;h++){p[v[h]]=m+h,p[m+h]=v[h]}return{toHex:function(a){return a.replace(b,g)},parse:function(F){function G(u,l){var C,s,d,y;C=n[u+"-top"+l],C&&(s=n[u+"-right"+l],C==s&&(d=n[u+"-bottom"+l],s==d&&(y=n[u+"-left"+l],d==y&&(n[u+l]=y,delete n[u+"-top"+l],delete n[u+"-right"+l],delete n[u+"-bottom"+l],delete n[u+"-left"+l]))))}function i(l){var d=n[l],s;if(d&&!(d.indexOf(" ")<0)){for(d=d.split(" "),s=d.length;s--;){if(d[s]!==d[0]){return !1}}return n[l]=d[0],!0}}function E(s,d,u,l){i(d)&&i(u)&&i(l)&&(n[s]=n[d]+" "+n[u]+" "+n[l],delete n[d],delete n[u],delete n[l])}function z(d){return B=!0,p[d]}function r(l,d){return B&&(l=l.replace(/\uFEFF[0-9]/g,function(s){return p[s]})),d||(l=l.replace(/\\([\'\";:])/g,"$1")),l}function c(u,l,C,s,d,y){return(d=d||y)?(d=r(d),"'"+d.replace(/\'/g,"\\'")+"'"):(l=r(l||C||s),A&&(l=A.call(a,l,"style")),"url('"+l.replace(/\'/g,"\\'")+"')")}var n={},e,o,D,B,A=k.url_converter,a=k.url_converter_scope||this;if(F){for(F=F.replace(/\\[\"\';:\uFEFF]/g,z).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(d){return d.replace(/[;:]/g,z)});e=f.exec(F);){o=e[1].replace(q,"").toLowerCase(),D=e[2].replace(q,""),o&&D.length>0&&("font-weight"===o&&"700"===D?D="bold":("color"===o||"background-color"===o)&&(D=D.toLowerCase()),D=D.replace(b,g),D=D.replace(j,c),n[o]=B?r(D,!0):D),f.lastIndex=e.index+e[0].length}G("border",""),G("border","-width"),G("border","-color"),G("border","-style"),G("padding",""),G("margin",""),E("border","border-width","border-style","border-color"),"medium none"===n.border&&delete n.border}return n},serialize:function(s,u){function l(A){var y,z,i,e;if(y=w.styles[A]){for(z=0,i=y.length;i>z;z++){A=y[z],e=s[A],e!==x&&e.length>0&&(d+=(d.length>0?" ":"")+A+": "+e+";")}}}var d="",t,c;if(u&&w&&w.styles){l("*"),l(u)}else{for(t in s){c=s[t],c!==x&&c.length>0&&(d+=(d.length>0?" ":"")+t+": "+c+";")}}return d}}}}),aD(aS,[],function(){return function(c,a){function d(j,l,h,g){var k,f;if(j){if(!g&&j[l]){return j[l]}if(j!=a){if(k=j[h]){return k}for(f=j.parentNode;f&&f!=a;f=f.parentNode){if(k=f[h]){return k}}}}}var b=c;this.current=function(){return b},this.next=function(f){return b=d(b,"firstChild","nextSibling",f)},this.prev=function(f){return b=d(b,"lastChild","previousSibling",f)}}}),aD(aH,[],function(){function A(a,c){return c?"array"==c&&y(a)?!0:typeof a==c:a!==aB}function q(d){var a=[],f,c;for(f=0,c=d.length;c>f;f++){a[f]=d[f]}return a}function b(d,a,f){var c;for(d=d||[],a=a||",","string"==typeof d&&(d=d.split(a)),f=f||{},c=d.length;c--;){f[d[c]]={}}return f}function w(d,g,c){var a,f;if(!d){return 0}if(c=c||d,d.length!==aB){for(a=0,f=d.length;f>a;a++){if(g.call(c,d[a],a,d)===!1){return 0}}}else{for(a in d){if(d.hasOwnProperty(a)&&g.call(c,d[a],a,d)===!1){return 0}}}return 1}function k(c,a){var d=[];return w(c,function(f){d.push(a(f))}),d}function D(c,a){var d=[];return w(c,function(f){(!a||a(f))&&d.push(f)}),d}function F(p,H,g){var d=this,m,f,G,I,h,u=0;if(p=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(p),G=p[3].match(/(^|\.)(\w+)$/i)[2],f=d.createNS(p[3].replace(/\.\w+$/,""),g),!f[G]){if("static"==p[2]){return f[G]=H,this.onCreate&&this.onCreate(p[2],p[3],f[G]),void 0}H[G]||(H[G]=function(){},u=1),f[G]=H[G],d.extend(f[G].prototype,H),p[5]&&(m=d.resolve(p[5]).prototype,I=p[5].match(/\.(\w+)$/i)[1],h=f[G],f[G]=u?function(){return m[I].apply(this,arguments)}:function(){return this.parent=m[I],h.apply(this,arguments)},f[G].prototype[G]=f[G],d.each(m,function(c,a){f[G].prototype[a]=m[a]}),d.each(H,function(c,a){m[a]?f[G].prototype[a]=function(){return this.parent=m[a],c.apply(this,arguments)}:a!=G&&(f[G].prototype[a]=c)})),d.each(H["static"],function(c,a){f[G][a]=c})}}function v(d,a){var f,c;if(d){for(f=0,c=d.length;c>f;f++){if(d[f]===a){return f}}}return -1}function C(h,m){var g,d,l,c=arguments,f;for(g=1,d=c.length;d>g;g++){m=c[g];for(l in m){m.hasOwnProperty(l)&&(f=m[l],f!==aB&&(h[l]=f))}}return h}function E(d,a,f,c){c=c||this,d&&(f&&(d=d[f]),w(d,function(h,g){return a.call(c,h,g,f)===!1?!1:(E(h,a,f,c),void 0)}))}function B(d,a){var f,c;for(a=a||window,d=d.split("."),f=0;f<d.length;f++){c=d[f],a[c]||(a[c]={}),a=a[c]}return a}function z(d,a){var f,c;for(a=a||window,d=d.split("."),f=0,c=d.length;c>f&&(a=a[d[f]],a);f++){}return a}function j(a,c){return !a||A(a,"array")?a:k(a.split(c||","),t)}var x=/^\s*|\s*$/g,t=function(a){return null===a||a===aB?"":(""+a).replace(x,"")},y=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};return{trim:t,isArray:y,is:A,toArray:q,makeMap:b,each:w,map:k,grep:D,inArray:v,extend:C,create:F,walk:E,createNS:B,resolve:z,explode:j}}),aD(aQ,[aH],function(b){function a(cf){function cb(){return bW.createDocumentFragment()}function ck(d,c){cs(bX,d,c)}function ce(d,c){cs(e,d,c)}function cr(c){ck(c.parentNode,b3(c))}function ca(c){ck(c.parentNode,b3(c)+1)}function ch(c){ce(c.parentNode,b3(c))}function cp(c){ce(c.parentNode,b3(c)+1)}function b9(c){c?(at[G]=at[t],at[cc]=at[b4]):(at[t]=at[G],at[b4]=at[cc]),at.collapsed=bX}function co(c){cr(c),cp(c)}function cn(c){ck(c,0),ce(c,1===c.nodeType?c.childNodes.length:c.nodeValue.length)}function cd(k,q){var g=at[t],d=at[b4],j=at[G],f=at[cc],p=q.startContainer,u=q.startOffset,h=q.endContainer,m=q.endOffset;return 0===k?b7(g,d,p,u):1===k?b7(j,f,p,u):2===k?b7(j,f,h,m):3===k?b7(g,d,h,m):void 0}function cl(){Z(bV)}function cg(){return Z(X)}function cm(){return Z(Y)}function b8(g){var d=this[t],f=this[b4],c,h;3!==d.nodeType&&4!==d.nodeType||!d.nodeValue?(d.childNodes.length>0&&(h=d.childNodes[f]),h?d.insertBefore(g,h):d.appendChild(g)):f?f>=d.nodeValue.length?cf.insertAfter(g,d):(c=d.splitText(f),d.parentNode.insertBefore(g,c)):d.parentNode.insertBefore(g,d)}function b5(d){var c=at.extractContents();at.insertNode(d),d.appendChild(c),at.selectNode(d)}function cq(){return cj(new a(cf),{startContainer:at[t],startOffset:at[b4],endContainer:at[G],endOffset:at[cc],collapsed:at.collapsed,commonAncestorContainer:at.commonAncestorContainer})}function b0(d,c){var f;if(3==d.nodeType){return d}if(0>c){return d}for(f=d.firstChild;f&&c>0;){--c,f=f.nextSibling}return f?f:d}function b6(){return at[t]==at[G]&&at[b4]==at[cc]}function b7(j,p,d,h){var f,m,q,g,k,n;if(j==d){return p==h?0:h>p?-1:1}for(f=d;f&&f.parentNode!=j;){f=f.parentNode}if(f){for(m=0,q=j.firstChild;q!=f&&p>m;){m++,q=q.nextSibling}return m>=p?-1:1}for(f=j;f&&f.parentNode!=d;){f=f.parentNode}if(f){for(m=0,q=d.firstChild;q!=f&&h>m;){m++,q=q.nextSibling}return h>m?-1:1}for(g=cf.findCommonAncestor(j,d),k=j;k&&k.parentNode!=g;){k=k.parentNode}for(k||(k=g),n=d;n&&n.parentNode!=g;){n=n.parentNode}if(n||(n=g),k==n){return 0}for(q=g.firstChild;q;){if(q==k){return -1}if(q==n){return 1}q=q.nextSibling}}function cs(g,d,f){var c,h;for(g?(at[t]=d,at[b4]=f):(at[G]=d,at[cc]=f),c=at[G];c.parentNode;){c=c.parentNode}for(h=at[t];h.parentNode;){h=h.parentNode}h==c?b7(at[t],at[b4],at[G],at[cc])>0&&at.collapse(g):at.collapse(g),at.collapsed=b6(),at.commonAncestorContainer=cf.findCommonAncestor(at[t],at[G])}function Z(k){var q,g=0,d=0,j,f,p,u,h,m;if(at[t]==at[G]){return bY(k)}for(q=at[G],j=q.parentNode;j;q=j,j=j.parentNode){if(j==at[t]){return ci(q,k)}++g}for(q=at[t],j=q.parentNode;j;q=j,j=j.parentNode){if(j==at[G]){return K(q,k)}++d}for(f=d-g,p=at[t];f>0;){p=p.parentNode,f--}for(u=at[G];0>f;){u=u.parentNode,f++}for(h=p.parentNode,m=u.parentNode;h!=m;h=h.parentNode,m=m.parentNode){p=h,u=m}return J(p,u,k)}function bY(j){var q,f,h,d,m,r,g,k,p;if(j!=bV&&(q=cb()),at[b4]==at[cc]){return q}if(3==at[t].nodeType){if(f=at[t].nodeValue,h=f.substring(at[b4],at[cc]),j!=Y&&(d=at[t],k=at[b4],p=at[cc]-at[b4],0===k&&p>=d.nodeValue.length-1?d.parentNode.removeChild(d):d.deleteData(k,p),at.collapse(bX)),j==bV){return}return h.length>0&&q.appendChild(bW.createTextNode(h)),q}for(d=b0(at[t],at[b4]),m=at[cc]-at[b4];d&&m>0;){r=d.nextSibling,g=bZ(d,j),q&&q.appendChild(g),--m,d=r}return j!=Y&&at.collapse(bX),q}function ci(j,g){var m,f,k,d,h,c;if(g!=bV&&(m=cb()),f=Q(j,g),m&&m.appendChild(f),k=b3(j),d=k-at[b4],0>=d){return g!=Y&&(at.setEndBefore(j),at.collapse(e)),m}for(f=j.previousSibling;d>0;){h=f.previousSibling,c=bZ(f,g),m&&m.insertBefore(c,m.firstChild),--d,f=h}return g!=Y&&(at.setEndBefore(j),at.collapse(e)),m}function K(j,g){var m,f,k,d,h,c;for(g!=bV&&(m=cb()),k=b2(j,g),m&&m.appendChild(k),f=b3(j),++f,d=at[cc]-f,k=j.nextSibling;k&&d>0;){h=k.nextSibling,c=bZ(k,g),m&&m.appendChild(c),--d,k=h}return g!=Y&&(at.setStartAfter(j),at.collapse(bX)),m}function J(k,v,g){var j,f,q,w,h,p,r,m;for(g!=bV&&(f=cb()),j=b2(k,g),f&&f.appendChild(j),q=k.parentNode,w=b3(k),h=b3(v),++w,p=h-w,r=k.nextSibling;p>0;){m=r.nextSibling,j=bZ(r,g),f&&f.appendChild(j),r=m,--p}return j=Q(v,g),f&&f.appendChild(j),g!=Y&&(at.setStartAfter(k),at.collapse(bX)),f}function Q(j,m){var f=b0(at[G],at[cc]-1),c,h,d,k,p,g=f!=at[G];if(f==j){return b1(f,g,e,m)}for(c=f.parentNode,h=b1(c,e,e,m);c;){for(;f;){d=f.previousSibling,k=b1(f,g,e,m),m!=bV&&h.insertBefore(k,h.firstChild),g=bX,f=d}if(c==j){return h}f=c.previousSibling,c=c.parentNode,p=b1(c,e,e,m),m!=bV&&p.appendChild(h),h=p}}function b2(j,m){var f=b0(at[t],at[b4]),c=f!=at[t],h,d,k,p,g;if(f==j){return b1(f,c,bX,m)}for(h=f.parentNode,d=b1(h,e,bX,m);h;){for(;f;){k=f.nextSibling,p=b1(f,c,bX,m),m!=bV&&d.appendChild(p),c=bX,f=k}if(h==j){return d}f=h.nextSibling,h=h.parentNode,g=b1(h,e,bX,m),m!=bV&&g.appendChild(d),d=g}}function b1(j,n,d,h){var f,m,p,g,k;if(n){return bZ(j,h)}if(3==j.nodeType){if(f=j.nodeValue,d?(g=at[b4],m=f.substring(g),p=f.substring(0,g)):(g=at[cc],m=f.substring(0,g),p=f.substring(g)),h!=Y&&(j.nodeValue=p),h==bV){return}return k=cf.clone(j,e),k.nodeValue=m,k}if(h!=bV){return cf.clone(j,e)}}function bZ(d,c){return c!=bV?c==Y?cf.clone(d,bX):d:(d.parentNode.removeChild(d),void 0)}function bt(){return cf.create("body",null,cm()).outerText}var at=this,bW=cf.doc,X=0,Y=1,bV=2,bX=!0,e=!1,b4="startOffset",t="startContainer",G="endContainer",cc="endOffset",cj=b.extend,b3=cf.nodeIndex;return cj(at,{startContainer:bW,startOffset:0,endContainer:bW,endOffset:0,collapsed:bX,commonAncestorContainer:bW,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:ck,setEnd:ce,setStartBefore:cr,setStartAfter:ca,setEndBefore:ch,setEndAfter:cp,collapse:b9,selectNode:co,selectNodeContents:cn,compareBoundaryPoints:cd,deleteContents:cl,extractContents:cg,cloneContents:cm,insertNode:b8,surroundContents:b5,cloneRange:cq,toStringIE:bt}),at}return a.prototype.toString=function(){return this.toStringIE()},a}),aD(aK,[aH],function(p){function y(c){var a;return a=document.createElement("div"),a.innerHTML=c,a.textContent||a.innerText||c}function h(o,f){var s,l,d,c={};if(o){for(o=o.split(","),f=f||10,s=0;s<o.length;s+=2){l=String.fromCharCode(parseInt(o[s],f)),g[l]||(d="&"+o[s+1]+";",c[l]=d,c[d]=l)}return c}}var b=p.makeMap,k,g,w,z=/[&<>\"\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,j=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,v=/[<>&\"\']/g,x=/&(#x|#)?([\w]+);/g,q={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};g={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;"},w={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},k=h("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var m={encodeRaw:function(c,a){return c.replace(a?z:j,function(d){return g[d]||d})},encodeAllRaw:function(a){return(""+a).replace(v,function(c){return g[c]||c})},encodeNumeric:function(c,a){return c.replace(a?z:j,function(d){return d.length>1?"&#"+(1024*(d.charCodeAt(0)-55296)+(d.charCodeAt(1)-56320)+65536)+";":g[d]||"&#"+d.charCodeAt(0)+";"})},encodeNamed:function(c,a,d){return d=d||k,c.replace(a?z:j,function(f){return g[f]||d[f]||f})},getEncodeFunc:function(i,f){function d(a,c){return a.replace(c?z:j,function(n){return g[n]||f[n]||"&#"+n.charCodeAt(0)+";"||n})}function l(a,c){return m.encodeNamed(a,c,f)}return f=h(f)||k,i=b(i.replace(/\+/g,",")),i.named&&i.numeric?d:i.named?f?l:m.encodeNamed:i.numeric?m.encodeNumeric:m.encodeRaw},decode:function(a){return a.replace(x,function(d,f,c){return f?(c=parseInt(c,2===f.length?16:10),c>65535?(c-=65536,String.fromCharCode(55296+(c>>10),56320+(1023&c))):q[c]||String.fromCharCode(c)):w[d]||k[d]||y(d)})}};return m}),aD(aR,[],function(){var j=navigator,p=j.userAgent,f,b,h,d,m,q,g;f=window.opera&&window.opera.buildNumber,b=/WebKit/.test(p),h=!b&&!f&&/MSIE/gi.test(p)&&/Explorer/gi.test(j.appName),h=h&&/MSIE (\w+)\./.exec(p)[1],d=-1!=p.indexOf("Trident")?11:!1,h=h||d,m=!b&&/Gecko/.test(p),q=-1!=p.indexOf("Mac"),g=/(iPad|iPhone)/.test(p);var k=!g||p.match(/AppleWebKit\/(\d*)/)[1]>=534;return{opera:f,webkit:b,ie:h,gecko:m,mac:q,iOS:g,contentEditable:k,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=h,range:window.getSelection&&"Range" in window,documentMode:h?document.documentMode||7:10}}),aD(az,[aV,aU,aM,aS,aQ,aK,aR,aH],function(H,A,w,D,z,L,t,C){function J(c,b){var a=this,d;a.doc=c,a.win=window,a.files={},a.counter=0,a.stdMode=!F||c.documentMode>=8,a.boxModel=!F||"CSS1Compat"==c.compatMode||a.stdMode,a.hasOuterHTML="outerHTML" in c.createElement("a"),a.settings=b=E({keep_values:!1,hex_colors:1},b),a.schema=b.schema,a.styles=new A({url_converter:b.url_converter,url_converter_scope:b.url_converter_scope},b.schema),a.fixDoc(c),a.events=b.ownEvents?new w(b.proxy):w.Event,d=b.schema?b.schema.getBlockElements():{},a.isBlock=function(g){if(!g){return !1}var f=g.nodeType;return f?!(1!==f||!d[g.nodeName]):!!d[g]}}var q=C.each,I=C.is,G=C.grep,x=C.trim,E=C.extend,B=t.webkit,F=t.ie,k=/^([a-z0-9],?)+$/i,j=/^[ \t\r\n]*$/,K=C.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," ");return J.prototype={root:null,props:{"for":"htmlFor","class":"className",className:"className",checked:"checked",disabled:"disabled",maxlength:"maxLength",readonly:"readOnly",selected:"selected",value:"value",id:"id",name:"name",type:"type"},fixDoc:function(b){var a=this.settings,c;if(F&&a.schema){"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(d){b.createElement(d)});for(c in a.schema.getCustomElements()){b.createElement(c)}}},clone:function(d,b){var f=this,c,a;return !F||1!==d.nodeType||b?d.cloneNode(b):(a=f.doc,b?c.firstChild:(c=a.createElement(d.nodeName),q(f.getAttribs(d),function(e){f.setAttrib(c,e.nodeName,f.getAttrib(d,e.nodeName))}),c))},getRoot:function(){var a=this;return a.get(a.settings.root_element)||a.doc.body},getViewPort:function(b){var a,c;return b=b?b:this.win,a=b.document,c=this.boxModel?a.documentElement:a.body,{x:b.pageXOffset||c.scrollLeft,y:b.pageYOffset||c.scrollTop,w:b.innerWidth||c.clientWidth,h:b.innerHeight||c.clientHeight}},getRect:function(c){var a=this,d,b;return c=a.get(c),d=a.getPos(c),b=a.getSize(c),{x:d.x,y:d.y,w:b.w,h:b.h}},getSize:function(c){var a=this,d,b;return c=a.get(c),d=a.getStyle(c,"width"),b=a.getStyle(c,"height"),-1===d.indexOf("px")&&(d=0),-1===b.indexOf("px")&&(b=0),{w:parseInt(d,10)||c.offsetWidth||c.clientWidth,h:parseInt(b,10)||c.offsetHeight||c.clientHeight}},getParent:function(b,a,c){return this.getParents(b,a,c,!1)},getParents:function(g,l,f,c){var h=this,b,d=[];for(g=h.get(g),c=c===aB,f=f||("BODY"!=h.getRoot().nodeName?h.getRoot().parentNode:null),I(l,"string")&&(b=l,l="*"===l?function(a){return 1==a.nodeType}:function(a){return h.is(a,b)});g&&g!=f&&g.nodeType&&9!==g.nodeType;){if(!l||l(g)){if(!c){return g}d.push(g)}g=g.parentNode}return c?d:null},get:function(b){var a;return b&&this.doc&&"string"==typeof b&&(a=b,b=this.doc.getElementById(b),b&&b.id!==a)?this.doc.getElementsByName(a)[1]:b},getNext:function(b,a){return this._findSib(b,a,"nextSibling")},getPrev:function(b,a){return this._findSib(b,a,"previousSibling")},select:function(a,c){var b=this;return H(a,b.get(c)||b.get(b.settings.root_element)||b.doc,[])},is:function(c,b){var a;if(c.length===aB){if("*"===b){return 1==c.nodeType}if(k.test(b)){for(b=b.toLowerCase().split(/,/),c=c.nodeName.toLowerCase(),a=b.length-1;a>=0;a--){if(b[a]==c){return !0}}return !1}}return c.nodeType&&1!=c.nodeType?!1:H.matches(b,c.nodeType?[c]:c).length>0},add:function(d,b,g,c,a){var f=this;return this.run(d,function(i){var h;return h=I(b,"string")?f.doc.createElement(b):b,f.setAttribs(h,g),c&&(c.nodeType?h.appendChild(c):f.setHTML(h,c)),a?h:i.appendChild(h)})},create:function(b,a,c){return this.add(this.doc.createElement(b),b,a,c,1)},createHTML:function(d,b,f){var c="",a;c+="<"+d;for(a in b){b.hasOwnProperty(a)&&null!==b[a]&&(c+=" "+a+'="'+this.encode(b[a])+'"')}return"undefined"!=typeof f?c+">"+f+"</"+d+">":c+" />"},createFragment:function(d){var b,f,c=this.doc,a;for(a=c.createElement("div"),b=c.createDocumentFragment(),d&&(a.innerHTML=d);f=a.firstChild;){b.appendChild(f)}return b},remove:function(b,a){return this.run(b,function(d){var f,c=d.parentNode;if(!c){return null}if(a){for(;f=d.firstChild;){!F||3!==f.nodeType||f.nodeValue?c.insertBefore(f,d):d.removeChild(f)}}return c.removeChild(d)})},setStyle:function(b,a,c){return this.run(b,function(h){var g=this,f,l;if(a){if("string"==typeof a){f=h.style,a=a.replace(/-(\D)/g,function(m,i){return i.toUpperCase()}),"number"!=typeof c||K[a]||(c+="px"),"opacity"===a&&h.runtimeStyle&&"undefined"==typeof h.runtimeStyle.opacity&&(f.filter=""===c?"":"alpha(opacity="+100*c+")"),"float"==a&&(a="cssFloat" in h.style?"cssFloat":"styleFloat");try{f[a]=c}catch(d){}g.settings.update_styles&&h.removeAttribute("data-mce-style")}else{for(l in a){g.setStyle(h,l,a[l])}}}})},getStyle:function(c,d,b){if(c=this.get(c)){if(this.doc.defaultView&&b){d=d.replace(/[A-Z]/g,function(f){return"-"+f});try{return this.doc.defaultView.getComputedStyle(c,null).getPropertyValue(d)}catch(a){return null}}return d=d.replace(/-(\D)/g,function(g,f){return f.toUpperCase()}),"float"==d&&(d=F?"styleFloat":"cssFloat"),c.currentStyle&&b?c.currentStyle[d]:c.style?c.style[d]:aB}},setStyles:function(b,a){this.setStyle(b,a)},css:function(b,a,c){this.setStyle(b,a,c)},removeAllAttribs:function(a){return this.run(a,function(c){var b,d=c.attributes;for(b=d.length-1;b>=0;b--){c.removeAttributeNode(d.item(b))}})},setAttrib:function(c,a,d){var b=this;if(c&&a){return this.run(c,function(g){var f=b.settings,h=g.getAttribute(a);if(null!==d){switch(a){case"style":if(!I(d,"string")){return q(d,function(e,i){b.setStyle(g,i,e)}),void 0}f.keep_values&&(d?g.setAttribute("data-mce-style",d,2):g.removeAttribute("data-mce-style",2)),g.style.cssText=d;break;case"class":g.className=d||"";break;case"src":case"href":f.keep_values&&(f.url_converter&&(d=f.url_converter.call(f.url_converter_scope||b,d,a,g)),b.setAttrib(g,"data-mce-"+a,d,2));break;case"shape":g.setAttribute("data-mce-style",d)}}I(d)&&null!==d&&0!==d.length?g.setAttribute(a,""+d,2):g.removeAttribute(a,2),h!=d&&f.onSetAttrib&&f.onSetAttrib({attrElm:g,attrName:a,attrValue:d})})}},setAttribs:function(b,a){var c=this;return this.run(b,function(d){q(a,function(e,f){c.setAttrib(d,f,e)})})},getAttrib:function(d,b,g){var c,a=this,f;if(d=a.get(d),!d||1!==d.nodeType){return g===f?!1:g}if(I(g)||(g=""),/^(src|href|style|coords|shape)$/.test(b)&&(c=d.getAttribute("data-mce-"+b))){return c}if(F&&a.props[b]&&(c=d[a.props[b]],c=c&&c.nodeValue?c.nodeValue:c),c||(c=d.getAttribute(b,2)),/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test(b)){return d[a.props[b]]===!0&&""===c?b:c?b:""}if("FORM"===d.nodeName&&d.getAttributeNode(b)){return d.getAttributeNode(b).nodeValue}if("style"===b&&(c=c||d.style.cssText,c&&(c=a.serializeStyle(a.parseStyle(c),d.nodeName),a.settings.keep_values&&d.setAttribute("data-mce-style",c))),B&&"class"===b&&c&&(c=c.replace(/(apple|webkit)\-[a-z\-]+/gi,"")),F){switch(b){case"rowspan":case"colspan":1===c&&(c="");break;case"size":("+0"===c||20===c||0===c)&&(c="");break;case"width":case"height":case"vspace":case"checked":case"disabled":case"readonly":0===c&&(c="");break;case"hspace":-1===c&&(c="");break;case"maxlength":case"tabindex":(32768===c||2147483647===c||"32768"===c)&&(c="");break;case"multiple":case"compact":case"noshade":case"nowrap":return 65535===c?b:g;case"shape":c=c.toLowerCase();break;default:0===b.indexOf("on")&&c&&(c=(""+c).replace(/^function\s+\w+\(\)\s+\{\s+(.*)\s+\}$/,"$1"))}}return c!==f&&null!==c&&""!==c?""+c:g},getPos:function(h,d){var m=this,g=0,c=0,l,b=m.doc,f;if(h=m.get(h),d=d||b.body,h){if(d===b.body&&h.getBoundingClientRect){return f=h.getBoundingClientRect(),d=m.boxModel?b.documentElement:b.body,g=f.left+(b.documentElement.scrollLeft||b.body.scrollLeft)-d.clientTop,c=f.top+(b.documentElement.scrollTop||b.body.scrollTop)-d.clientLeft,{x:g,y:c}}for(l=h;l&&l!=d&&l.nodeType;){g+=l.offsetLeft||0,c+=l.offsetTop||0,l=l.offsetParent}for(l=h.parentNode;l&&l!=d&&l.nodeType;){g-=l.scrollLeft||0,c-=l.scrollTop||0,l=l.parentNode}}return{x:g,y:c}},parseStyle:function(a){return this.styles.parse(a)},serializeStyle:function(b,a){return this.styles.serialize(b,a)},addStyle:function(d){var b=this,g=b.doc,c,a;if(b!==J.DOM&&g===document){var f=J.DOM.addedStyles;if(f=f||[],f[d]){return}f[d]=!0,J.DOM.addedStyles=f}a=g.getElementById("mceDefaultStyles"),a||(a=g.createElement("style"),a.id="mceDefaultStyles",a.type="text/css",c=g.getElementsByTagName("head")[0],c.firstChild?c.insertBefore(a,c.firstChild):c.appendChild(a)),a.styleSheet?a.styleSheet.cssText+=d:a.appendChild(g.createTextNode(d))},loadCSS:function(c){var a=this,d=a.doc,b;return a!==J.DOM&&d===document?(J.DOM.loadCSS(c),void 0):(c||(c=""),b=d.getElementsByTagName("head")[0],q(c.split(","),function(g){var f;a.files[g]||(a.files[g]=!0,f=a.create("link",{rel:"stylesheet",href:g}),F&&d.documentMode&&d.recalc&&(f.onload=function(){d.recalc&&d.recalc(),f.onload=null}),b.appendChild(f))}),void 0)},addClass:function(b,a){return this.run(b,function(c){var d;return a?this.hasClass(c,a)?c.className:(d=this.removeClass(c,a),c.className=d=(""!==d?d+" ":"")+a,d):0})},removeClass:function(c,a){var d=this,b;return d.run(c,function(g){var f;return d.hasClass(g,a)?(b||(b=new RegExp("(^|\\s+)"+a+"(\\s+|$)","g")),f=g.className.replace(b," "),f=x(" "!=f?f:""),g.className=f,f||(g.removeAttribute("class"),g.removeAttribute("className")),f):g.className})},hasClass:function(b,a){return b=this.get(b),b&&a?-1!==(" "+b.className+" ").indexOf(" "+a+" "):!1},toggleClass:function(b,c,a){a=a===aB?!this.hasClass(b,c):a,this.hasClass(b,c)!==a&&(a?this.addClass(b,c):this.removeClass(b,c))},show:function(a){return this.setStyle(a,"display","block")},hide:function(a){return this.setStyle(a,"display","none")},isHidden:function(a){return a=this.get(a),!a||"none"==a.style.display||"none"==this.getStyle(a,"display")},uniqueId:function(a){return(a?a:"mce_")+this.counter++},setHTML:function(b,a){var c=this;return c.run(b,function(g){if(F){for(;g.firstChild;){g.removeChild(g.firstChild)}try{g.innerHTML="<br />"+a,g.removeChild(g.firstChild)}catch(f){var d=c.create("div");d.innerHTML="<br />"+a,q(G(d.childNodes),function(e,h){h&&g.canHaveHTML&&g.appendChild(e)})}}else{g.innerHTML=a}return a})},getOuterHTML:function(b){var a,c=this;return(b=c.get(b))?1===b.nodeType&&c.hasOuterHTML?b.outerHTML:(a=(b.ownerDocument||c.doc).createElement("body"),a.appendChild(b.cloneNode(!0)),a.innerHTML):null},setOuterHTML:function(c,a,d){var b=this;return b.run(c,function(g){function f(){var e,l;for(l=d.createElement("body"),l.innerHTML=a,e=l.lastChild;e;){b.insertAfter(e.cloneNode(!0),g),e=e.previousSibling}b.remove(g)}if(1==g.nodeType){if(d=d||g.ownerDocument||b.doc,F){try{1==g.nodeType&&b.hasOuterHTML?g.outerHTML=a:f()}catch(h){f()}}else{f()}}})},decode:L.decode,encode:L.encodeAllRaw,insertAfter:function(b,a){return a=this.get(a),this.run(b,function(d){var f,c;return f=a.parentNode,c=a.nextSibling,c?f.insertBefore(d,c):f.appendChild(d),d})},replace:function(c,a,d){var b=this;return b.run(a,function(e){return I(e,"array")&&(c=c.cloneNode(!0)),d&&q(G(e.childNodes),function(f){c.appendChild(f)}),e.parentNode.replaceChild(c,e)})},rename:function(c,a){var d=this,b;return c.nodeName!=a.toUpperCase()&&(b=d.create(a),q(d.getAttribs(c),function(e){d.setAttrib(b,e.nodeName,d.getAttrib(c,e.nodeName))}),d.replace(b,c,1)),b||c},findCommonAncestor:function(c,a){for(var d=c,b;d;){for(b=a;b&&d!=b;){b=b.parentNode}if(d==b){break}d=d.parentNode}return !d&&c.ownerDocument?c.ownerDocument.documentElement:d},toHex:function(a){return this.styles.toHex(C.trim(a))},run:function(d,b,f){var c=this,a;return"string"==typeof d&&(d=c.get(d)),d?(f=f||this,d.nodeType||!d.length&&0!==d.length?b.call(f,d):(a=[],q(d,function(g,h){g&&("string"==typeof g&&(g=c.get(g)),a.push(b.call(f,g,h)))}),a)):!1},getAttribs:function(b){var a;if(b=this.get(b),!b){return[]}if(F){if(a=[],"OBJECT"==b.nodeName){return b.attributes}"OPTION"===b.nodeName&&this.getAttrib(b,"selected")&&a.push({specified:1,nodeName:"selected"});var c=/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi;return b.cloneNode(!1).outerHTML.replace(c,"").replace(/[\w:\-]+/gi,function(d){a.push({specified:1,nodeName:d})}),a}return b.attributes},isEmpty:function(h,p){var f=this,b,d,m,u,g,i=0;if(h=h.firstChild){u=new D(h,h.parentNode),p=p||f.schema?f.schema.getNonEmptyElements():null;do{if(m=h.nodeType,1===m){if(h.getAttribute("data-mce-bogus")){continue}if(g=h.nodeName.toLowerCase(),p&&p[g]){if("br"===g){i++;continue}return !1}for(d=f.getAttribs(h),b=h.attributes.length;b--;){if(g=h.attributes[b].nodeName,"name"===g||"data-mce-bookmark"===g){return !1}}}if(8==m){return !1}if(3===m&&!j.test(h.nodeValue)){return !1}}while(h=u.next())}return 1>=i},createRng:function(){var a=this.doc;return a.createRange?a.createRange():new z(this)},nodeIndex:function(d,b){var g=0,c,a,f;if(d){for(c=d.nodeType,d=d.previousSibling,a=d;d;d=d.previousSibling){f=d.nodeType,(!b||3!=f||f!=c&&d.nodeValue.length)&&(g++,c=f)}}return g},split:function(h,p,d){function b(v){function l(o){var a=o.previousSibling&&"SPAN"==o.previousSibling.nodeName,s=o.nextSibling&&"SPAN"==o.nextSibling.nodeName;return a&&s}var M,y=v.childNodes,i=v.nodeType;if(1!=i||"bookmark"!=v.getAttribute("data-mce-type")){for(M=y.length-1;M>=0;M--){b(y[M])}if(9!=i){if(3==i&&v.nodeValue.length>0){var r=x(v.nodeValue).length;if(!g.isBlock(v.parentNode)||r>0||0===r&&l(v)){return}}else{if(1==i&&(y=v.childNodes,1==y.length&&y[0]&&1==y[0].nodeType&&"bookmark"==y[0].getAttribute("data-mce-type")&&v.parentNode.insertBefore(y[0],v),y.length||/^(br|hr|input|img)$/i.test(v.nodeName))){return}}g.remove(v)}return v}}var g=this,c=g.createRng(),m,u,f;return h&&p?(c.setStart(h.parentNode,g.nodeIndex(h)),c.setEnd(p.parentNode,g.nodeIndex(p)),m=c.extractContents(),c=g.createRng(),c.setStart(p.parentNode,g.nodeIndex(p)+1),c.setEnd(h.parentNode,g.nodeIndex(h)+1),u=c.extractContents(),f=h.parentNode,f.insertBefore(b(m),h),d?f.replaceChild(d,p):f.insertBefore(p,h),f.insertBefore(b(u),h),g.remove(h),d||p):void 0},bind:function(c,a,d,b){return this.events.bind(c,a,d,b||this)},unbind:function(b,a,c){return this.events.unbind(b,a,c)},fire:function(b,a,c){return this.events.fire(b,a,c)},getContentEditable:function(b){var a;return 1!=b.nodeType?null:(a=b.getAttribute("data-mce-contenteditable"),a&&"inherit"!==a?a:"inherit"!==b.contentEditable?b.contentEditable:null)},destroy:function(){var a=this;a.win=a.doc=a.root=a.events=a.frag=null},dumpRng:function(a){return"startContainer: "+a.startContainer.nodeName+", startOffset: "+a.startOffset+", endContainer: "+a.endContainer.nodeName+", endOffset: "+a.endOffset},_findSib:function(d,b,f){var c=this,a=b;if(d){for("string"==typeof a&&(a=function(g){return c.is(g,b)}),d=d[f];d;d=d[f]){if(a(d)){return d}}}return null}},J.DOM=new J(document),J}),aD(au,[az,aH],function(d,b){function g(){function k(y,w){function A(){z.remove(x),l&&(l.onreadystatechange=l.onload=l=null),w()}function u(){"undefined"!=typeof console&&console.log&&console.log("Failed to load: "+y)}var z=c,l,x;x=z.uniqueId(),l=document.createElement("script"),l.id=x,l.type="text/javascript",l.src=y,"onreadystatechange" in l?l.onreadystatechange=function(){/loaded|complete/.test(l.readyState)&&A()}:l.onload=A,l.onerror=u,(document.getElementsByTagName("head")[0]||document.body).appendChild(l)}var r=0,h=1,p=2,v={},i=[],o={},q=[],m=0,j;this.isDone=function(l){return v[l]==p},this.markDone=function(l){v[l]=p},this.add=this.load=function(t,u,s){var l=v[t];l==j&&(i.push(t),v[t]=r),u&&(o[t]||(o[t]=[]),o[t].push({func:u,scope:s||this}))},this.loadQueue=function(n,l){this.loadScripts(i,n,l)},this.loadScripts=function(n,u,e){function w(l){a(o[l],function(t){t.func.call(t.scope)}),o[l]=j}var s;q.push({func:u,scope:e||this}),s=function(){var l=f(n);n.length=0,a(l,function(x){return v[x]==p?(w(x),void 0):(v[x]!=h&&(v[x]=h,m++,k(x,function(){v[x]=p,m--,w(x),s()})),void 0)}),m||(a(q,function(t){t.func.call(t.scope)}),q.length=0)},s()}}var c=d.DOM,a=b.each,f=b.grep;return g.ScriptLoader=new g,g}),aD(aX,[au,aH],function(c,d){function b(){var f=this;f.items=[],f.urls={},f.lookup={}}var a=d.each;return b.prototype={get:function(f){return this.lookup[f]?this.lookup[f].instance:aB},dependencies:function(g){var f;return this.lookup[g]&&(f=this.lookup[g].dependencies),f||[]},requireLangPack:function(e){var f=b.settings;f&&f.language&&f.language_load!==!1&&c.ScriptLoader.add(this.urls[e]+"/langs/"+f.language+".js")},add:function(g,f,h){return this.items.push(f),this.lookup[g]={instance:f,dependencies:h},f},createUrl:function(g,f){return"object"==typeof f?f:{prefix:g.prefix,resource:f,suffix:g.suffix}},addComponents:function(e,g){var f=this.urls[e];a(g,function(h){c.ScriptLoader.add(f+"/"+h)})},load:function(k,i,f,h){function e(){var l=j.dependencies(k);a(l,function(m){var o=j.createUrl(i,m);j.load(o.resource,o,aB,aB)}),f&&(h?f.call(h):f.call(c))}var j=this,g=i;j.urls[k]||("object"==typeof i&&(g=i.prefix+i.resource+i.suffix),0!==g.indexOf("/")&&-1==g.indexOf("://")&&(g=b.baseURL+"/"+g),j.urls[k]=g.substring(0,g.lastIndexOf("/")),j.lookup[k]?e():c.ScriptLoader.add(g,e,h))}},b.PluginManager=new b,b.ThemeManager=new b,b}),aD(bx,[],function(){function c(k,h,m){var j,g,l=m?"lastChild":"firstChild",f=m?"prev":"next";if(k[l]){return k[l]}if(k!==h){if(j=k[f]){return j}for(g=k.parent;g&&g!==h;g=g.parent){if(j=g[f]){return j}}}}function a(g,f){this.name=g,this.type=f,1===f&&(this.attributes=[],this.attributes.map={})}var d=/^[ \t\r\n]*$/,b={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return a.prototype={replace:function(g){var f=this;return g.parent&&g.remove(),f.insert(g,f),f.remove(),f},attr:function(j,g){var l=this,h,f,k;if("string"!=typeof j){for(f in j){l.attr(f,j[f])}return l}if(h=l.attributes){if(g!==k){if(null===g){if(j in h.map){for(delete h.map[j],f=h.length;f--;){if(h[f].name===j){return h=h.splice(f,1),l}}}return l}if(j in h.map){for(f=h.length;f--;){if(h[f].name===j){h[f].value=g;break}}}else{h.push({name:j,value:g})}return h.map[j]=g,l}return h.map[j]}},clone:function(){var k=this,m=new a(k.name,k.type),j,g,l,f,h;if(l=k.attributes){for(h=[],h.map={},j=0,g=l.length;g>j;j++){f=l[j],"id"!==f.name&&(h[h.length]={name:f.name,value:f.value},h.map[f.name]=f.value)}m.attributes=h}return m.value=k.value,m.shortEnded=k.shortEnded,m},wrap:function(g){var f=this;return f.parent.insert(g,f),g.append(f),f},unwrap:function(){var g=this,f,h;for(f=g.firstChild;f;){h=f.next,g.insert(f,g,!0),f=h}g.remove()},remove:function(){var h=this,f=h.parent,i=h.next,g=h.prev;return f&&(f.firstChild===h?(f.firstChild=i,i&&(i.prev=null)):g.next=i,f.lastChild===h?(f.lastChild=g,g&&(g.next=null)):i.prev=g,h.parent=h.next=h.prev=null),h},append:function(g){var f=this,h;return g.parent&&g.remove(),h=f.lastChild,h?(h.next=g,g.prev=h,f.lastChild=g):f.lastChild=f.firstChild=g,g.parent=f,g},insert:function(h,f,i){var g;return h.parent&&h.remove(),g=f.parent||this,i?(f===g.firstChild?g.firstChild=h:f.prev.next=h,h.prev=f.prev,h.next=f,f.prev=h):(f===g.lastChild?g.lastChild=h:f.next.prev=h,h.next=f.next,h.prev=f,f.next=h),h.parent=g,h},getAll:function(f){var h=this,g,e=[];for(g=h.firstChild;g;g=c(g,h)){g.name===f&&e.push(g)}return e},empty:function(){var f=this,h,g,e;if(f.firstChild){for(h=[],e=f.firstChild;e;e=c(e,f)){h.push(e)}for(g=h.length;g--;){e=h[g],e.parent=e.firstChild=e.lastChild=e.next=e.prev=null}}return f.firstChild=f.lastChild=null,f},isEmpty:function(g){var h=this,f=h.firstChild,j,e;if(f){do{if(1===f.type){if(f.attributes.map["data-mce-bogus"]){continue}if(g[f.name]){return !1}for(j=f.attributes.length;j--;){if(e=f.attributes[j].name,"name"===e||0===e.indexOf("data-mce-")){return !1}}}if(8===f.type){return !1}if(3===f.type&&!d.test(f.value)){return !1}}while(f=c(f,h))}return !0},walk:function(e){return c(this,null,e)}},a.create=function(g,j){var f,h;if(f=new a(g,b[g]||1),j){for(h in j){f.attr(h,j[h])}}return f},a}),aD(av,[aH],function(h){function k(i,a){return i?i.split(a||" "):[]}function d(w){function q(D,G,C){function s(u){var i={},H,l;for(H=0,l=u.length;l>H;H++){i[u[H]]={}}return i}var E,a,F,p=arguments;for(C=C||[],G=G||"","string"==typeof C&&(C=k(C)),a=3;a<p.length;a++){"string"==typeof p[a]&&(p[a]=k(p[a])),C.push.apply(C,p[a])}for(D=k(D),E=D.length;E--;){F=[].concat(B,k(G)),z[D[E]]={attributes:s(F),attributesOrder:F,children:s(C)}}}function t(u,D){var p,a,C,l;for(u=k(u),p=u.length,D=k(D);p--;){for(a=z[u[p]],C=0,l=D.length;l>C;C++){a.attributes[D[C]]={},a.attributesOrder.push(D[C])}}}var z={},B,r,y,A,x,v,o;return b[w]?b[w]:(B=k("id accesskey class dir lang style tabindex title"),r=k("onabort onblur oncancel oncanplay oncanplaythrough onchange onclick onclose oncontextmenu oncuechange ondblclick ondrag ondragend ondragenter ondragleave ondragover ondragstart ondrop ondurationchange onemptied onended onerror onfocus oninput oninvalid onkeydown onkeypress onkeyup onload onloadeddata onloadedmetadata onloadstart onmousedown onmousemove onmouseout onmouseover onmouseup onmousewheel onpause onplay onplaying onprogress onratechange onreset onscroll onseeked onseeking onseeking onselect onshow onstalled onsubmit onsuspend ontimeupdate onvolumechange onwaiting"),y=k("address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul"),A=k("a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment"),"html4"!=w&&(B.push.apply(B,k("contenteditable contextmenu draggable dropzone hidden spellcheck translate")),y.push.apply(y,k("article aside details dialog figure header footer hgroup section nav")),A.push.apply(A,k("audio canvas command datalist mark meter output progress time wbr video ruby bdi keygen"))),"html5-strict"!=w&&(B.push("xml:lang"),o=k("acronym applet basefont big font strike tt"),A.push.apply(A,o),c(o,function(a){q(a,"",A)}),v=k("center dir isindex noframes"),y.push.apply(y,v),x=[].concat(y,A),c(v,function(a){q(a,"",x)})),x=x||[].concat(y,A),q("html","manifest","head body"),q("head","","base command link meta noscript script style title"),q("title hr noscript br"),q("base","href target"),q("link","href rel media hreflang type sizes hreflang"),q("meta","name http-equiv content charset"),q("style","media type scoped"),q("script","src async defer type charset"),q("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",x),q("address dt dd div caption","",x),q("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",A),q("blockquote","cite",x),q("ol","reversed start type","li"),q("ul","","li"),q("li","value",x),q("dl","","dt dd"),q("a","href target rel media hreflang type",A),q("q","cite",A),q("ins del","cite datetime",x),q("img","src alt usemap ismap width height"),q("iframe","src name width height",x),q("embed","src type width height"),q("object","data type typemustmatch name usemap form width height",x,"param"),q("param","name value"),q("map","name",x,"area"),q("area","alt coords shape href target rel media hreflang type"),q("table","border","caption colgroup thead tfoot tbody tr"+("html4"==w?" col":"")),q("colgroup","span","col"),q("col","span"),q("tbody thead tfoot","","tr"),q("tr","","td th"),q("td","colspan rowspan headers",x),q("th","colspan rowspan headers scope abbr",x),q("form","accept-charset action autocomplete enctype method name novalidate target",x),q("fieldset","disabled form name",x,"legend"),q("label","form for",A),q("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),q("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==w?x:A),q("select","disabled form multiple name required size","option optgroup"),q("optgroup","disabled label","option"),q("option","disabled label selected value"),q("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),q("menu","type label",x,"li"),q("noscript","",x),"html4"!=w&&(q("wbr"),q("ruby","",A,"rt rp"),q("figcaption","",x),q("mark rt rp summary bdi","",A),q("canvas","width height",x),q("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height",x,"track source"),q("audio","src crossorigin preload autoplay mediagroup loop muted controls",x,"track source"),q("source","src type media"),q("track","kind src srclang label default"),q("datalist","",A,"option"),q("article section nav aside header footer","",x),q("hgroup","","h1 h2 h3 h4 h5 h6"),q("figure","",x,"figcaption"),q("time","datetime",A),q("dialog","open",x),q("command","type label icon disabled checked radiogroup command"),q("output","for form name",A),q("progress","value max",A),q("meter","value min max low high optimum",A),q("details","open",x,"summary"),q("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=w&&(t("script","language xml:space"),t("style","xml:space"),t("object","declare classid codebase codetype archive standby align border hspace vspace"),t("param","valuetype type"),t("a","charset name rev shape coords"),t("br","clear"),t("applet","codebase archive code object alt name width height align hspace vspace"),t("img","name longdesc align border hspace vspace"),t("iframe","longdesc frameborder marginwidth marginheight scrolling align"),t("font basefont","size color face"),t("input","usemap align"),t("select","onchange"),t("textarea"),t("h1 h2 h3 h4 h5 h6 div p legend caption","align"),t("ul","type compact"),t("li","type"),t("ol dl menu dir","compact"),t("pre","width xml:space"),t("hr","align noshade size width"),t("isindex","prompt"),t("table","summary width frame rules cellspacing cellpadding align bgcolor"),t("col","width align char charoff valign"),t("colgroup","width align char charoff valign"),t("thead","align char charoff valign"),t("tr","align char charoff valign bgcolor"),t("th","axis align char charoff valign nowrap bgcolor width height"),t("form","accept"),t("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),t("tfoot","align char charoff valign"),t("tbody","align char charoff valign"),t("area","nohref"),t("body","background bgcolor text link vlink alink")),"html4"!=w&&(t("input button select textarea","autofocus"),t("input textarea","placeholder"),t("a","download"),t("link script img","crossorigin"),t("iframe","srcdoc sandbox seamless allowfullscreen")),c(k("a form meter progress dfn"),function(a){z[a]&&delete z[a].children[a]}),delete z.caption.children.table,b[w]=z,z)}var b={},g=h.makeMap,c=h.each,j=h.extend,m=h.explode,f=h.inArray;return function(L){function O(e,v,u){var p=L[e];return p?p=g(p,",",g(p.toUpperCase()," ")):(p=b[e],p||(p=g(v," ",g(v.toUpperCase()," ")),p=j(p,u),b[e]=p)),p}function t(p){return new RegExp("^"+p.replace(/([?+*])/g,".$1")+"$")}function M(b1){var bV,Z,bt,b4,X,b3,b2,b0,at,bY,bW,bZ,R,Y,U,V,b5,A,W,bX=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,v=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,u=/[*?+]/;if(b1){for(b1=k(b1,","),s["@"]&&(V=s["@"].attributes,b5=s["@"].attributesOrder),bV=0,Z=b1.length;Z>bV;bV++){if(X=bX.exec(b1[bV])){if(Y=X[1],at=X[2],U=X[3],b0=X[5],bZ={},R=[],b3={attributes:bZ,attributesOrder:R},"#"===Y&&(b3.paddEmpty=!0),"-"===Y&&(b3.removeEmpty=!0),"!"===X[4]&&(b3.removeEmptyAttrs=!0),V){for(A in V){bZ[A]=V[A]}R.push.apply(R,b5)}if(b0){for(b0=k(b0,"|"),bt=0,b4=b0.length;b4>bt;bt++){if(X=v.exec(b0[bt])){if(b2={},bW=X[1],bY=X[2].replace(/::/g,":"),Y=X[3],W=X[4],"!"===bW&&(b3.attributesRequired=b3.attributesRequired||[],b3.attributesRequired.push(bY),b2.required=!0),"-"===bW){delete bZ[bY],R.splice(f(R,bY),1);continue}Y&&("="===Y&&(b3.attributesDefault=b3.attributesDefault||[],b3.attributesDefault.push({name:bY,value:W}),b2.defaultValue=W),":"===Y&&(b3.attributesForced=b3.attributesForced||[],b3.attributesForced.push({name:bY,value:W}),b2.forcedValue=W),"<"===Y&&(b2.validValues=g(W,"?"))),u.test(bY)?(b3.attributePatterns=b3.attributePatterns||[],b2.pattern=t(bY),b3.attributePatterns.push(b2)):(bZ[bY]||R.push(bY),bZ[bY]=b2)}}}V||"@"!=at||(V=bZ,b5=R),U&&(b3.outputName=at,s[U]=b3),u.test(at)?(b3.pattern=t(at),P.push(b3)):s[at]=b3}}}}function K(p){s={},P=[],M(p),c(q,function(v,u){o[u]=v.children})}function F(p){var u=/^(~)?(.+)$/;p&&c(k(p,","),function(C){var x=u.exec(C),A="~"===x[1],w=A?"span":"div",y=x[2];if(o[y]=o[w],l[y]=w,A||(H[y.toUpperCase()]={},H[y]={}),!s[y]){var v=s[w];v=j({},v),delete v.removeEmptyAttrs,delete v.removeEmpty,s[y]=v}c(o,function(E){E[w]&&(E[y]=E[w])})})}function I(p){var u=/^([+\-]?)(\w+)\[([^\]]+)\]$/;p&&c(k(p,","),function(y){var x=u.exec(y),w,v;x&&(v=x[1],w=v?o[x[2]]:o[x[2]]={"#comment":{}},w=o[x[2]],c(k(x[3],"|"),function(A){"-"===v?delete w[A]:w[A]={}}))})}function G(u){var p=s[u],v;if(p){return p}for(v=P.length;v--;){if(p=P[v],p.pattern.test(u)){return p}}}var J=this,s={},o={},P=[],B,q,r,Q,n,z,H,i,a,l={},D={};L=L||{},q=d(L.schema),L.verify_html===!1&&(L.valid_elements="*[*]"),L.valid_styles&&(B={},c(L.valid_styles,function(u,p){B[p]=m(u)})),r=O("whitespace_elements","pre script noscript style textarea video audio iframe object"),Q=O("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),n=O("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),z=O("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),i=O("non_empty_elements","td th iframe video audio object",n),a=O("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),H=O("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex samp option datalist select optgroup",a),c((L.special||"script noscript style textarea").split(" "),function(p){D[p]=new RegExp("</"+p+"[^>]*>","gi")}),L.valid_elements?K(L.valid_elements):(c(q,function(u,p){s[p]={attributes:u.attributes,attributesOrder:u.attributesOrder},o[p]=u.children}),"html5"!=L.schema&&c(k("strong/b em/i"),function(p){p=k(p,"/"),s[p[1]].outputName=p[0]}),s.img.attributesDefault=[{name:"alt",value:""}],c(k("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(p){s[p]&&(s[p].removeEmpty=!0)}),c(k("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(p){s[p].paddEmpty=!0}),c(k("span"),function(p){s[p].removeEmptyAttrs=!0})),F(L.custom_elements),I(L.valid_children),M(L.extended_valid_elements),I("+ol[ul|ol],+ul[ul|ol]"),L.invalid_elements&&c(m(L.invalid_elements),function(p){s[p]&&delete s[p]}),G("span")||M("span[!data-mce-type|*]"),J.children=o,J.styles=B,J.getBoolAttrs=function(){return z},J.getBlockElements=function(){return H},J.getTextBlockElements=function(){return a},J.getShortEndedElements=function(){return n},J.getSelfClosingElements=function(){return Q},J.getNonEmptyElements=function(){return i},J.getWhiteSpaceElements=function(){return r},J.getSpecialElements=function(){return D},J.isValidChild=function(u,p){var v=o[u];return !(!v||!v[p])},J.isValid=function(w,u){var x,v,p=G(w);if(p){if(!u){return !0}if(p.attributes[u]){return !0}if(x=p.attributePatterns){for(v=x.length;v--;){if(x[v].pattern.test(w)){return !0}}}}return !1},J.getElementRule=G,J.getCustomElements=function(){return l},J.addValidElements=M,J.setValidElements=K,J.addCustomElements=F,J.addValidChildren=I,J.elements=s}}),aD(aw,[av,aK,aH],function(c,a,d){var b=d.each;return function(h,f){var g=this,e=function(){};h=h||{},g.schema=f=f||new c,h.fix_self_closing!==!1&&(h.fix_self_closing=!0),b("comment cdata text start end pi doctype".split(" "),function(i){i&&(g[i]=h[i]||e)}),g.parse=function(b8){function bZ(l){var k,m;for(k=b9.length;k--&&b9[k].name!==l;){}if(k>=0){for(m=b9.length-1;m>=k;m--){l=b9[m],l.valid&&cc.end(l.name)}b9.length=k}}function b1(s,m,v,p,l){var u,k;if(m=m.toLowerCase(),v=m in cb?m:K(v||p||l||""),bt&&!b6&&0!==m.indexOf("data-")){if(u=b4[m],!u&&j){for(k=j.length;k--&&(u=j[k],!u.pattern.test(m));){}-1===k&&(u=null)}if(!u){return}if(u.validValues&&!(v in u.validValues)){return}}b7.map[m]=v,b7.push({name:m,value:v})}var cc=this,bY,b3=0,ca,bX,b9=[],b7,b0,b5,b2,b6,bW,at,cb,X,bt,bV,cd,z,V,b4,j,i,n,Z,Y,W,J,G,Q,q,t=0,K=a.decode,U;for(J=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),G=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,at=f.getShortEndedElements(),W=h.self_closing_elements||f.getSelfClosingElements(),cb=f.getBoolAttrs(),bt=h.validate,bW=h.remove_internals,U=h.fix_self_closing,Q=f.getSpecialElements();bY=J.exec(b8);){if(b3<bY.index&&cc.text(K(b8.substr(b3,bY.index-b3))),ca=bY[6]){ca=ca.toLowerCase(),":"===ca.charAt(0)&&(ca=ca.substr(1)),bZ(ca)}else{if(ca=bY[7]){if(ca=ca.toLowerCase(),":"===ca.charAt(0)&&(ca=ca.substr(1)),X=ca in at,U&&W[ca]&&b9.length>0&&b9[b9.length-1].name===ca&&bZ(ca),!bt||(bV=f.getElementRule(ca))){if(cd=!0,bt&&(b4=bV.attributes,j=bV.attributePatterns),(V=bY[8])?(b6=-1!==V.indexOf("data-mce-type"),b6&&bW&&(cd=!1),b7=[],b7.map={},V.replace(G,b1)):(b7=[],b7.map={}),bt&&!b6){if(i=bV.attributesRequired,n=bV.attributesDefault,Z=bV.attributesForced,Y=bV.removeEmptyAttrs,Y&&!b7.length&&(cd=!1),Z){for(b0=Z.length;b0--;){z=Z[b0],b2=z.name,q=z.value,"{$uid}"===q&&(q="mce_"+t++),b7.map[b2]=q,b7.push({name:b2,value:q})}}if(n){for(b0=n.length;b0--;){z=n[b0],b2=z.name,b2 in b7.map||(q=z.value,"{$uid}"===q&&(q="mce_"+t++),b7.map[b2]=q,b7.push({name:b2,value:q}))}}if(i){for(b0=i.length;b0--&&!(i[b0] in b7.map);){}-1===b0&&(cd=!1)}b7.map["data-mce-bogus"]&&(cd=!1)}cd&&cc.start(ca,b7,X)}else{cd=!1}if(bX=Q[ca]){bX.lastIndex=b3=bY.index+bY[0].length,(bY=bX.exec(b8))?(cd&&(b5=b8.substr(b3,bY.index-b3)),b3=bY.index+bY[0].length):(b5=b8.substr(b3),b3=b8.length),cd&&(b5.length>0&&cc.text(b5,!0),cc.end(ca)),J.lastIndex=b3;continue}X||(V&&V.indexOf("/")==V.length-1?cd&&cc.end(ca):b9.push({name:ca,valid:cd}))}else{(ca=bY[1])?cc.comment(ca):(ca=bY[2])?cc.cdata(ca):(ca=bY[3])?cc.doctype(ca):(ca=bY[4])&&cc.pi(ca,bY[5])}}b3=bY.index+bY[0].length}for(b3<b8.length&&cc.text(K(b8.substr(b3))),b0=b9.length-1;b0>=0;b0--){ca=b9[b0],ca.valid&&cc.end(ca.name)}}}}),aD(aZ,[bx,av,aw,aH],function(h,d,k,g){var c=g.makeMap,j=g.each,b=g.explode,f=g.extend;return function(m,a){function s(I){var x,l,w,G,J,E,D,C,u,A,z,B,H,F;for(z=c("tr,td,th,tbody,thead,tfoot,table"),A=a.getNonEmptyElements(),B=a.getTextBlockElements(),x=0;x<I.length;x++){if(l=I[x],l.parent&&!l.fixed){if(B[l.name]&&"li"==l.parent.name){for(H=l.next;H&&B[H.name];){H.name="li",H.fixed=!0,l.parent.insert(H,l.parent),H=H.next}l.unwrap(l)}else{for(G=[l],w=l.parent;w&&!a.isValidChild(w.name,l.name)&&!z[w.name];w=w.parent){G.push(w)}if(w&&G.length>1){for(G.reverse(),J=E=e.filterNode(G[0].clone()),u=0;u<G.length-1;u++){for(a.isValidChild(E.name,G[u].name)?(D=e.filterNode(G[u].clone()),E.append(D)):D=E,C=G[u].firstChild;C&&C!=G[u+1];){F=C.next,D.append(C),C=F}E=D}J.isEmpty(A)?w.insert(l,G[0],!0):(w.insert(J,G[0],!0),w.insert(l,J)),w=G[0],(w.isEmpty(A)||w.firstChild===w.lastChild&&"br"===w.firstChild.name)&&w.empty().remove()}else{if(l.parent){if("li"===l.name){if(H=l.prev,H&&("ul"===H.name||"ul"===H.name)){H.append(l);continue}if(H=l.next,H&&("ul"===H.name||"ul"===H.name)){H.insert(l,H.firstChild,!0);continue}l.wrap(e.filterNode(new h("ul",1)));continue}a.isValidChild(l.parent.name,"div")&&a.isValidChild("div",l.name)?l.wrap(e.filterNode(new h("div",1))):"style"===l.name||"script"===l.name?l.empty().remove():l.unwrap()}}}}}}var e=this,q={},n=[],o={},i={};m=m||{},m.validate="validate" in m?m.validate:!0,m.root_name=m.root_name||"body",e.schema=a=a||new d,e.filterNode=function(u){var l,v,p;v in q&&(p=o[v],p?p.push(u):o[v]=[u]),l=n.length;for(;l--;){v=n[l].name,v in u.attributes.map&&(p=i[v],p?p.push(u):i[v]=[u])}return u},e.addNodeFilter=function(p,l){j(b(p),function(r){var t=q[r];t||(q[r]=t=[]),t.push(l)})},e.addAttributeFilter=function(p,l){j(b(p),function(r){var t;for(t=0;t<n.length;t++){if(n[t].name===r){return n[t].callbacks.push(l),void 0}}n.push({name:r,callbacks:[l]})})},e.parse=function(bt,bZ){function b4(){function w(t){t&&(u=t.firstChild,u&&3==u.type&&(u.value=u.value.replace(r,"")),u=t.lastChild,u&&3==u.type&&(u.value=u.value.replace(bV,"")))}var u=Q.firstChild,x,v;if(a.isValidChild(Q.name,U.toLowerCase())){for(;u;){x=u.next,3==u.type||1==u.type&&"p"!==u.name&&!l[u.name]&&!u.attr("data-mce-type")?v?v.append(u):(v=Z(U,1),Q.insert(v,u),v.append(u)):(w(v),v=null),u=x}w(v)}}function Z(v,x){var w=new h(v,x),u;return v in q&&(u=o[v],u?u.push(w):o[v]=[w]),w}function b0(w){var u,x,v;for(u=w.prev;u&&3===u.type;){x=u.value.replace(bV,""),x.length>0?(u.value=x,u=u.prev):(v=u.prev,u.remove(),u=v)}}function b2(v){var u,w={};for(u in v){"li"!==u&&"p"!=u&&(w[u]=v[u])}return w}var Y,Q,b3,bW,V,X,b5,G,at,b1,p,l,r,bY=[],bX,bV,K,J,W,z,F,U;if(bZ=bZ||{},o={},i={},l=f(c("script,style,head,html,body,title,meta,param"),a.getBlockElements()),F=a.getNonEmptyElements(),z=a.children,p=m.validate,U="forced_root_block" in bZ?bZ.forced_root_block:m.forced_root_block,W=a.getWhiteSpaceElements(),r=/^[ \t\r\n]+/,bV=/[ \t\r\n]+$/,K=/[ \t\r\n]+/g,J=/^[ \t\r\n]+$/,Y=new k({validate:p,self_closing_elements:b2(a.getSelfClosingElements()),cdata:function(t){b3.append(Z("#cdata",4)).value=t},text:function(v,u){var w;bX||(v=v.replace(K," "),b3.lastChild&&l[b3.lastChild.name]&&(v=v.replace(r,""))),0!==v.length&&(w=Z("#text",3),w.raw=!!u,b3.append(w).value=v)},comment:function(t){b3.append(Z("#comment",8)).value=t},pi:function(v,u){b3.append(Z(v,7)).value=u,b0(b3)},doctype:function(v){var u;u=b3.append(Z("#doctype",10)),u.value=v,b0(b3)},start:function(A,w,C){var y,v,B,u,x;if(B=p?a.getElementRule(A):{}){for(y=Z(B.outputName||A,1),y.attributes=w,y.shortEnded=C,b3.append(y),x=z[b3.name],x&&z[y.name]&&!x[y.name]&&bY.push(y),v=n.length;v--;){u=n[v].name,u in w.map&&(at=i[u],at?at.push(y):i[u]=[y])}l[A]&&b0(y),C||(b3=y),!bX&&W[A]&&(bX=!0)}},end:function(w){var A,x,v,y,u;if(x=p?a.getElementRule(w):{}){if(l[w]&&!bX){if(A=b3.firstChild,A&&3===A.type){if(v=A.value.replace(r,""),v.length>0){A.value=v,A=A.next}else{for(y=A.next,A.remove(),A=y;A&&3===A.type;){v=A.value,y=A.next,(0===v.length||J.test(v))&&(A.remove(),A=y),A=y}}}if(A=b3.lastChild,A&&3===A.type){if(v=A.value.replace(bV,""),v.length>0){A.value=v,A=A.prev}else{for(y=A.prev,A.remove(),A=y;A&&3===A.type;){v=A.value,y=A.prev,(0===v.length||J.test(v))&&(A.remove(),A=y),A=y}}}}if(bX&&W[w]&&(bX=!1),(x.removeEmpty||x.paddEmpty)&&b3.isEmpty(F)){if(x.paddEmpty){b3.empty().append(new h("#text","3")).value="\xa0"}else{if(!b3.attributes.map.name&&!b3.attributes.map.id){return u=b3.parent,b3.empty().remove(),b3=u,void 0}}}b3=b3.parent}}},a),Q=b3=new h(bZ.context||m.root_name,11),Y.parse(bt),p&&bY.length&&(bZ.context?bZ.invalid=!0:s(bY)),U&&("body"==Q.name||bZ.isRootContent)&&b4(),!bZ.invalid){for(b1 in o){for(at=q[b1],bW=o[b1],b5=bW.length;b5--;){bW[b5].parent||bW.splice(b5,1)}for(V=0,X=at.length;X>V;V++){at[V](bW,b1,bZ)}}for(V=0,X=n.length;X>V;V++){if(at=n[V],at.name in i){for(bW=i[at.name],b5=bW.length;b5--;){bW[b5].parent||bW.splice(b5,1)}for(b5=0,G=at.callbacks.length;G>b5;b5++){at.callbacks[b5](bW,at.name,bZ)}}}}return Q},m.remove_trailing_brs&&e.addNodeFilter("br",function(F){var x,l=F.length,y,w=f({},a.getBlockElements()),D=a.getNonEmptyElements(),C,E,B,A,v,z;for(w.body=1,x=0;l>x;x++){if(y=F[x],C=y.parent,w[y.parent.name]&&y===C.lastChild){for(B=y.prev;B;){if(A=B.name,"span"!==A||"bookmark"!==B.attr("data-mce-type")){if("br"!==A){break}if("br"===A){y=null;break}}B=B.prev}y&&(y.remove(),C.isEmpty(D)&&(v=a.getElementRule(C.name),v&&(v.removeEmpty?C.remove():v.paddEmpty&&(C.empty().append(new h("#text",3)).value="\xa0"))))}else{for(E=y;C&&C.firstChild===E&&C.lastChild===E&&(E=C,!w[C.name]);){C=C.parent}E===C&&(z=new h("#text",3),z.value="\xa0",y.replace(z))}}}),m.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(v){for(var p=v.length,x,u,l,w;p--;){if(w=v[p],"a"===w.name&&w.firstChild&&!w.attr("href")){l=w.parent,x=w.lastChild;do{u=x.prev,l.insert(x,w),x=u}while(x)}}})}}),aD(bk,[aK,aH],function(b,a){var c=a.makeMap;return function(g){var j=[],f,k,e,h,d;return g=g||{},f=g.indent,k=c(g.indent_before||""),e=c(g.indent_after||""),h=b.getEncodeFunc(g.entity_encoding||"raw",g.entities),d="html"==g.element_format,{start:function(o,l,r){var q,i,p,m;if(f&&k[o]&&j.length>0&&(m=j[j.length-1],m.length>0&&"\n"!==m&&j.push("\n")),j.push("<",o),l){for(q=0,i=l.length;i>q;q++){p=l[q],j.push(" ",p.name,'="',h(p.value,!0),'"')}}j[j.length]=!r||d?">":" />",r&&f&&e[o]&&j.length>0&&(m=j[j.length-1],m.length>0&&"\n"!==m&&j.push("\n"))},end:function(l){var i;j.push("</",l,">"),f&&e[l]&&j.length>0&&(i=j[j.length-1],i.length>0&&"\n"!==i&&j.push("\n"))},text:function(l,i){l.length>0&&(j[j.length]=i?l:h(l))},cdata:function(i){j.push("<![CDATA[",i,"]]>")},comment:function(i){j.push("<!--",i,"-->")},pi:function(l,i){i?j.push("<?",l," ",i,"?>"):j.push("<?",l,"?>"),f&&j.push("\n")},doctype:function(i){j.push("<!DOCTYPE",i,">",f?"\n":"")},reset:function(){j.length=0},getContent:function(){return j.join("").replace(/\n$/,"")}}}}),aD(bv,[bk,av],function(b,a){return function(f,d){var c=this,e=new b(f);f=f||{},f.validate="validate" in f?f.validate:!0,c.schema=d=d||new a,c.writer=e,c.serialize=function(k){function j(w){var o=h[w.type],A,r,y,z,x,v,i,t,q;if(o){o(w)}else{if(A=w.name,r=w.shortEnded,y=w.attributes,g&&y&&y.length>1){for(v=[],v.map={},q=d.getElementRule(w.name),i=0,t=q.attributesOrder.length;t>i;i++){z=q.attributesOrder[i],z in y.map&&(x=y.map[z],v.map[z]=x,v.push({name:z,value:x}))}for(i=0,t=y.length;t>i;i++){z=y[i].name,z in v.map||(x=y.map[z],v.map[z]=x,v.push({name:z,value:x}))}y=v}if(e.start(w.name,y,r),!r){if(w=w.firstChild){do{j(w)}while(w=w.next)}e.end(A)}}}var h,g;return g=f.validate,h={3:function(i){e.text(i.value,i.raw)},8:function(i){e.comment(i.value)},7:function(i){e.pi(i.name,i.value)},10:function(i){e.doctype(i.value)},4:function(i){e.cdata(i.value)},11:function(i){if(i=i.firstChild){do{j(i)}while(i=i.next)}}},e.reset(),1!=k.type||f.inner?h[11](k):j(k),e.getContent()}}}),aD(aN,[az,aZ,aK,bv,bx,av,aR,aH],function(j,q,f,b,h,d,m,v){var g=v.each,k=v.trim,p=j.DOM;return function(n,a){var c,o,l;return a&&(c=a.dom,o=a.schema),c=c||p,o=o||new d(n),n.entity_encoding=n.entity_encoding||"named",n.remove_trailing_brs="remove_trailing_brs" in n?n.remove_trailing_brs:!0,l=new q(n,o),l.addAttributeFilter("src,href,style",function(C,w){for(var e=C.length,y,s,A="data-mce-"+w,x=n.url_converter,z=n.url_converter_scope,B;e--;){y=C[e],s=y.attributes.map[A],s!==B?(y.attr(w,s.length>0?s:null),y.attr(A,null)):(s=y.attributes.map[w],"style"===w?s=c.serializeStyle(c.parseStyle(s),y.name):x&&(s=x.call(z,s,w,y.name)),y.attr(w,s.length>0?s:null))}}),l.addAttributeFilter("class",function(u){for(var i=u.length,w,s;i--;){w=u[i],s=w.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),w.attr("class",s.length>0?s:null)}}),l.addAttributeFilter("data-mce-type",function(x,u,y){for(var w=x.length,s;w--;){s=x[w],"bookmark"!==s.attributes.map["data-mce-type"]||y.cleanup||s.remove()}}),l.addAttributeFilter("data-mce-expando",function(r,i){for(var s=r.length;s--;){r[s].attr(i,null)}}),l.addNodeFilter("noscript",function(u){for(var i=u.length,s;i--;){s=u[i].firstChild,s&&(s.value=f.decode(s.value))}}),l.addNodeFilter("script,style",function(y,w){function A(i){return i.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var x=y.length,u,z;x--;){if(u=y[x],z=u.firstChild?u.firstChild.value:"","script"===w){var s=(u.attr("type")||"text/javascript").replace(/^mce\-/,"");u.attr("type","text/javascript"===s?null:s),z.length>0&&(u.firstChild.value="// <![CDATA[\n"+A(z)+"\n// ]]>")}else{z.length>0&&(u.firstChild.value="<!--\n"+A(z)+"\n-->")}}}),l.addNodeFilter("#comment",function(r){for(var i=r.length,s;i--;){s=r[i],0===s.value.indexOf("[CDATA[")?(s.name="#cdata",s.type=4,s.value=s.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===s.value.indexOf("mce:protected ")&&(s.name="#text",s.type=3,s.raw=!0,s.value=unescape(s.value).substr(14))}}),l.addNodeFilter("xml:namespace,input",function(u,i){for(var w=u.length,s;w--;){s=u[w],7===s.type?s.remove():1===s.type&&("input"!==i||"type" in s.attributes.map||s.attr("type","text"))}}),n.fix_list_elements&&l.addNodeFilter("ul,ol",function(u){for(var i=u.length,w,s;i--;){w=u[i],s=w.parent,("ul"===s.name||"ol"===s.name)&&w.prev&&"li"===w.prev.name&&w.prev.append(w)}}),l.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected",function(r,i){for(var s=r.length;s--;){r[s].attr(i,null)}}),{schema:o,addNodeFilter:l.addNodeFilter,addAttributeFilter:l.addAttributeFilter,serialize:function(w,A){var s=this,z,r,y,x,e;return m.ie&&c.select("script,style,select,map").length>0?(e=w.innerHTML,w=w.cloneNode(!1),c.setHTML(w,e)):w=w.cloneNode(!0),z=w.ownerDocument.implementation,z.createHTMLDocument&&(r=z.createHTMLDocument(""),g("BODY"==w.nodeName?w.childNodes:[w],function(i){r.body.appendChild(r.importNode(i,!0))}),w="BODY"!=w.nodeName?r.body.firstChild:r.body,y=c.doc,c.doc=r),A=A||{},A.format=A.format||"html",A.selection&&(A.forced_root_block=""),A.no_events||(A.node=w,s.onPreProcess(A)),x=new b(n,o),A.content=x.serialize(l.parse(k(A.getInner?w.innerHTML:c.getOuterHTML(w)),A)),A.cleanup||(A.content=A.content.replace(/\uFEFF/g,"")),A.no_events||s.onPostProcess(A),y&&(c.doc=y),A.node=null,A.content},addRules:function(i){o.addValidElements(i)},setRules:function(i){o.setValidElements(i)},onPreProcess:function(i){a&&a.fire("PreProcess",i)},onPostProcess:function(i){a&&a.fire("PostProcess",i)}}}}),aD(bd,[],function(){function a(f){function c(z,k){var e,p=0,j,x,A,m,w,y,v=-1,q;if(e=z.duplicate(),e.collapse(k),q=e.parentElement(),q.ownerDocument===f.dom.doc){for(;"false"===q.contentEditable;){q=q.parentNode}if(!q.hasChildNodes()){return{node:q,inside:1}}for(A=q.children,j=A.length-1;j>=p;){if(y=Math.floor((p+j)/2),m=A[y],e.moveToElementText(m),v=e.compareEndPoints(k?"StartToStart":"EndToEnd",z),v>0){j=y-1}else{if(!(0>v)){return{node:m}}p=y+1}}if(0>v){for(m?e.collapse(!1):(e.moveToElementText(q),e.collapse(!0),m=q,x=!0),w=0;0!==e.compareEndPoints(k?"StartToStart":"StartToEnd",z)&&0!==e.move("character",1)&&q==e.parentElement();){w++}}else{for(e.collapse(!0),w=0;0!==e.compareEndPoints(k?"StartToStart":"StartToEnd",z)&&0!==e.move("character",-1)&&q==e.parentElement();){w++}}return{node:m,position:v,offset:w,inside:x}}}function h(){function i(z){var B=c(e,z),y,w,x=0,o,A,v;if(y=B.node,w=B.offset,B.inside&&!y.hasChildNodes()){return q[z?"setStart":"setEnd"](y,0),void 0}if(w===A){return q[z?"setStartBefore":"setEndAfter"](y),void 0}if(B.position<0){if(o=B.inside?y.firstChild:y.nextSibling,!o){return q[z?"setStartAfter":"setEndAfter"](y),void 0}if(!w){return 3==o.nodeType?q[z?"setStart":"setEnd"](o,0):q[z?"setStartBefore":"setEndBefore"](o),void 0}for(;o;){if(v=o.nodeValue,x+=v.length,x>=w){y=o,x-=w,x=v.length-x;break}o=o.nextSibling}}else{if(o=y.previousSibling,!o){return q[z?"setStartBefore":"setEndBefore"](y)}if(!w){return 3==y.nodeType?q[z?"setStart":"setEnd"](o,y.nodeValue.length):q[z?"setStartAfter":"setEndAfter"](o),void 0}for(;o;){if(x+=o.nodeValue.length,x>=w){y=o,x-=w;break}o=o.previousSibling}}q[z?"setStart":"setEnd"](y,x)}var e=f.getRng(),q=b.createRng(),t,j,p,r,m;if(t=e.item?e.item(0):e.parentElement(),t.ownerDocument!=b.doc){return q}if(j=f.isCollapsed(),e.item){return q.setStart(t.parentNode,b.nodeIndex(t)),q.setEnd(q.startContainer,q.startOffset+1),q}try{i(!0),j||i()}catch(k){if(-2147024809!=k.number){throw k}m=d.getBookmark(2),p=e.duplicate(),p.collapse(!0),t=p.parentElement(),j||(p=e.duplicate(),p.collapse(!1),r=p.parentElement(),r.innerHTML=r.innerHTML),t.innerHTML=t.innerHTML,d.moveToBookmark(m),e=f.getRng(),i(!0),j||i()}return q}var d=this,b=f.dom,g=!1;this.getBookmark=function(l){function j(s){var p,v,q,u,m=[];for(p=s.parentNode,v=b.getRoot().parentNode;p!=v&&9!==p.nodeType;){for(q=p.children,u=q.length;u--;){if(s===q[u]){m.push(u);break}}s=p,p=p.parentNode}return m}function k(m){var o;return o=c(e,m),o?{position:o.position,offset:o.offset,indexes:j(o.node),inside:o.inside}:void 0}var e=f.getRng(),i={};return 2===l&&(e.item?i.start={ctrl:!0,indexes:j(e.item(0))}:(i.start=k(!0),f.isCollapsed()||(i.end=k()))),i},this.moveToBookmark=function(k){function i(s){var p,v,q,u;for(p=b.getRoot(),v=s.length-1;v>=0;v--){u=p.children,q=s[v],q<=u.length-1&&(p=u[q])}return p}function m(t){var p=k[t?"start":"end"],o,q,e,r;p&&(o=p.position>0,q=l.createTextRange(),q.moveToElementText(i(p.indexes)),r=p.offset,r!==e?(q.collapse(p.inside||o),q.moveStart("character",o?-r:r)):q.collapse(t),j.setEndPoint(t?"StartToStart":"EndToStart",q),t&&j.collapse(!0))}var j,l=b.doc.body;k.start&&(k.start.ctrl?(j=l.createControlRange(),j.addElement(i(k.start.indexes)),j.select()):(j=l.createTextRange(),m(!0),m(),j.select()))},this.addRange=function(B){function j(r){var m,u,l,s,p;l=b.create("a"),m=r?C:y,u=r?o:A,s=e.duplicate(),(m==w||m==w.documentElement)&&(m=i,u=0),3==m.nodeType?(m.parentNode.insertBefore(l,m),s.moveToElementText(l),s.moveStart("character",u),b.remove(l),e.setEndPoint(r?"StartToStart":"EndToEnd",s)):(p=m.childNodes,p.length?(u>=p.length?b.insertAfter(l,p[p.length-1]):m.insertBefore(l,p[u]),s.moveToElementText(l)):m.canHaveHTML&&(m.innerHTML="<span>&#xFEFF;</span>",l=m.firstChild,s.moveToElementText(l),s.collapse(g)),e.setEndPoint(r?"StartToStart":"EndToEnd",s),b.remove(l))}var e,z,C,o,y,A,x,w=f.dom.doc,i=w.body,q,k;if(C=B.startContainer,o=B.startOffset,y=B.endContainer,A=B.endOffset,e=i.createTextRange(),C==y&&1==C.nodeType){if(o==A&&!C.hasChildNodes()){if(C.canHaveHTML){return x=C.previousSibling,x&&!x.hasChildNodes()&&b.isBlock(x)?x.innerHTML="&#xFEFF;":x=null,C.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",e.moveToElementText(C.lastChild),e.select(),b.doc.selection.clear(),C.innerHTML="",x&&(x.innerHTML=""),void 0}o=b.nodeIndex(C),C=C.parentNode}if(o==A-1){try{if(k=C.childNodes[o],z=i.createControlRange(),z.addElement(k),z.select(),q=f.getRng(),q.item&&k===q.item(0)){return}}catch(v){}}}j(!0),j(),e.select()},this.getRangeAt=h}return a}),aD(bb,[aR],function(a){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(b){return b.shiftKey||b.ctrlKey||b.altKey},metaKeyPressed:function(b){return(a.mac?b.ctrlKey||b.metaKey:b.ctrlKey)&&!b.altKey}}}),aD(bf,[bb,aH,aR],function(b,a,c){return function(bZ,b5){function b1(d){return b5.settings.object_resizing===!1?!1:/TABLE|IMG|DIV/.test(d.nodeName)?"false"===d.getAttribute("data-mce-resize")?!1:!0:!1}function cc(d){var g,f;g=d.screenX-b4,f=d.screenY-j,G=g*z[2]+Z,Q=f*z[3]+Y,G=5>G?5:G,Q=5>Q?5:Q,(b.modifierPressed(d)||"IMG"==bt.nodeName&&0!==z[2]*z[3])&&(G=Math.round(Q/W),Q=Math.round(G*W)),cb.setStyles(bV,{width:G,height:Q}),z[2]<0&&bV.clientWidth<=G&&cb.setStyle(bV,"left",e+(Z-G)),z[3]<0&&bV.clientHeight<=Q&&cb.setStyle(bV,"top",n+(Y-Q)),J||(b5.fire("ObjectResizeStart",{target:bt,width:Z,height:Y}),J=!0)}function bY(){function d(g,f){f&&(bt.style[g]||!b5.schema.isValid(bt.nodeName.toLowerCase(),g)?cb.setStyle(bt,g,f):cb.setAttrib(bt,g,f))}J=!1,d("width",G),d("height",Q),cb.unbind(q,"mousemove",cc),cb.unbind(q,"mouseup",bY),t!=q&&(cb.unbind(t,"mousemove",cc),cb.unbind(t,"mouseup",bY)),cb.remove(bV),K&&"TABLE"!=bt.nodeName||b3(bt),b5.fire("ObjectResized",{target:bt,width:G,height:Q}),b5.nodeChanged()}function b3(o,w,i){var g,k,v,s,m,h=b5.getBody().offsetParent||b5.getBody();g=cb.getPos(o,h),e=g.x,n=g.y,m=o.getBoundingClientRect(),k=m.width||m.right-m.left,v=m.height||m.bottom-m.top,bt!=o&&(b2(),bt=o,G=Q=0),s=b5.fire("ObjectSelected",{target:o}),b1(o)&&!s.isDefaultPrevented()?X(cd,function(l,f){function u(d){J=!0,b4=d.screenX,j=d.screenY,Z=bt.clientWidth,Y=bt.clientHeight,W=Y/Z,z=l,bV=bt.cloneNode(!0),cb.addClass(bV,"mce-clonedresizable"),bV.contentEditable=!1,bV.unSelectabe=!0,cb.setStyles(bV,{left:e,top:n,margin:0}),bV.removeAttribute("data-mce-selected"),b5.getBody().appendChild(bV),cb.bind(q,"mousemove",cc),cb.bind(q,"mouseup",bY),t!=q&&(cb.bind(t,"mousemove",cc),cb.bind(t,"mouseup",bY))}var x,p;return w?(f==w&&u(i),void 0):(x=cb.get("mceResizeHandle"+f),x?cb.show(x):(p=b5.getBody(),x=cb.add(p,"div",{id:"mceResizeHandle"+f,"data-mce-bogus":!0,"class":"mce-resizehandle",contentEditable:!1,unSelectabe:!0,style:"cursor:"+f+"-resize; margin:0; padding:0"}),cb.bind(x,"mousedown",function(d){d.preventDefault(),u(d)})),cb.setStyles(x,{left:k*l[0]+e-x.offsetWidth/2,top:v*l[1]+n-x.offsetHeight/2}),void 0)}):ca(),bt.setAttribute("data-mce-selected","1")}function ca(){var f,d;bt&&bt.removeAttribute("data-mce-selected");for(f in cd){d=cb.get("mceResizeHandle"+f),d&&(cb.unbind(d),cb.remove(d))}}function bX(f){function d(i,h){do{if(i===h){return !0}}while(i=i.parentNode)}var g;return X(cb.select("img[data-mce-selected],hr[data-mce-selected]"),function(h){h.removeAttribute("data-mce-selected")}),g="mousedown"==f.type?f.target:bZ.getNode(),g=cb.getParent(g,K?"table":"table,img,hr"),g&&(b7(),d(bZ.getStart(),g)&&d(bZ.getEnd(),g)&&(!K||g!=bZ.getStart()&&"IMG"!==bZ.getStart().nodeName))?(b3(g),void 0):(ca(),void 0)}function b9(f,d,g){f&&f.attachEvent&&f.attachEvent("on"+d,g)}function b8(f,d,g){f&&f.detachEvent&&f.detachEvent("on"+d,g)}function b0(h){var m=h.srcElement,g,d,f,k,p,i,l;g=m.getBoundingClientRect(),i=V.clientX-g.left,l=V.clientY-g.top;for(d in cd){if(f=cd[d],k=m.offsetWidth*f[0],p=m.offsetHeight*f[1],Math.abs(k-i)<8&&Math.abs(p-l)<8){z=f;break}}J=!0,b5.getDoc().selection.empty(),b3(m,d,V)}function b6(f){var d=f.srcElement;if(d!=bt){if(b2(),0===d.id.indexOf("mceResizeHandle")){return f.returnValue=!1,void 0}("IMG"==d.nodeName||"TABLE"==d.nodeName)&&(ca(),bt=d,b9(d,"resizestart",b0))}}function b2(){b8(bt,"resizestart",b0)}function b7(){try{b5.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(d){}}function bW(f){var d;if(K){d=q.body.createControlRange();try{return d.addElement(f),d.select(),!0}catch(g){}}}function at(){bt=bV=null,K&&(b2(),b8(b5.getBody(),"controlselect",b6))}var cb=b5.dom,X=a.each,bt,bV,cd,z,V,b4,j,e,n,Z,Y,W,J,G,Q,q=b5.getDoc(),t=document,K=c.ie&&c.ie<11;cd={n:[0.5,0,0,-1],e:[1,0.5,1,0],s:[0.5,1,0,1],w:[0,0.5,-1,0],nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var U=".mce-content-body";return b5.contentStyles.push(U+" div.mce-resizehandle {position: absolute;border: 1px solid black;background: #FFF;width: 5px;height: 5px;z-index: 10000}"+U+" .mce-resizehandle:hover {background: #000}"+U+" img[data-mce-selected], hr[data-mce-selected] {outline: 1px solid black;resize: none}"+U+" .mce-clonedresizable {position: absolute;"+(c.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"),b5.on("init",function(){K?(b5.on("ObjectResized",function(d){"TABLE"!=d.target.nodeName&&(ca(),bW(d.target))}),b9(b5.getBody(),"controlselect",b6),b5.on("mousedown",function(d){V=d})):(b7(),c.ie>=11&&b5.on("mouseup mousedown",function(d){("IMG"==d.target.nodeName||"IMG"==b5.selection.getNode().nodeName)&&(d.preventDefault(),b5.selection.select(d.target))})),b5.on("nodechange mousedown ResizeEditor",bX),b5.on("keydown keyup",function(d){bt&&"TABLE"==bt.nodeName&&bX(d)})}),{controlSelect:bW,destroy:at}}}),aD(bA,[aS,bd,bf,aR,aH],function(k,g,b,j,f){function q(n,l,d,r){var c=this;c.dom=n,c.win=l,c.serializer=d,c.editor=r,c.controlSelection=new b(c,r),c.win.getSelection||(c.tridentSel=new g(c))}var v=f.each,h=f.grep,p=f.trim,t=j.ie,m=j.opera;return q.prototype={setCursorLocation:function(d,a){var i=this,c=i.dom.createRng();c.setStart(d,a),c.setEnd(d,a),i.setRng(c),i.collapse(!1)},getContent:function(y){var A=this,x=A.getRng(),u=A.dom.create("body"),z=A.getSel(),d,w,c;return y=y||{},d=w="",y.get=!0,y.format=y.format||"html",y.selection=!0,A.editor.fire("BeforeGetContent",y),"text"==y.format?A.isCollapsed()?"":x.text||(z.toString?z.toString():""):(x.cloneContents?(c=x.cloneContents(),c&&u.appendChild(c)):x.item!==aB||x.htmlText!==aB?(u.innerHTML="<br>"+(x.item?x.item(0).outerHTML:x.htmlText),u.removeChild(u.firstChild)):u.innerHTML=x.toString(),/^\s/.test(u.innerHTML)&&(d=" "),/\s+$/.test(u.innerHTML)&&(w=" "),y.getInner=!0,y.content=A.isCollapsed()?"":d+A.serializer.serialize(u,y)+w,A.editor.fire("GetContent",y),y.content)},setContent:function(y,A){var u=this,c=u.getRng(),x,d=u.win.document,z,B;if(A=A||{format:"html"},A.set=!0,A.selection=!0,y=A.content=y,A.no_events||u.editor.fire("BeforeSetContent",A),y=A.content,c.insertNode){y+='<span id="__caret">_</span>',c.startContainer==d&&c.endContainer==d?d.body.innerHTML=y:(c.deleteContents(),0===d.body.childNodes.length?d.body.innerHTML=y:c.createContextualFragment?c.insertNode(c.createContextualFragment(y)):(z=d.createDocumentFragment(),B=d.createElement("div"),z.appendChild(B),B.outerHTML=y,c.insertNode(z))),x=u.dom.get("__caret"),c=d.createRange(),c.setStartBefore(x),c.setEndBefore(x),u.setRng(c),u.dom.remove("__caret");try{u.setRng(c)}catch(w){}}else{c.item&&(d.execCommand("Delete",!1,null),c=u.getRng()),/^\s+/.test(y)?(c.pasteHTML('<span id="__mce_tmp">_</span>'+y),u.dom.remove("__mce_tmp")):c.pasteHTML(y)}A.no_events||u.editor.fire("SetContent",A)},getStart:function(){var l=this,c=l.getRng(),u,d,a,s;if(c.duplicate||c.item){if(c.item){return c.item(0)}for(a=c.duplicate(),a.collapse(1),u=a.parentElement(),u.ownerDocument!==l.dom.doc&&(u=l.dom.getRoot()),d=s=c.parentElement();s=s.parentNode;){if(s==u){u=d;break}}return u}return u=c.startContainer,1==u.nodeType&&u.hasChildNodes()&&(u=u.childNodes[Math.min(u.childNodes.length-1,c.startOffset)]),u&&3==u.nodeType?u.parentNode:u},getEnd:function(){var d=this,a=d.getRng(),i,c;return a.duplicate||a.item?a.item?a.item(0):(a=a.duplicate(),a.collapse(0),i=a.parentElement(),i.ownerDocument!==d.dom.doc&&(i=d.dom.getRoot()),i&&"BODY"==i.nodeName?i.lastChild||i:i):(i=a.endContainer,c=a.endOffset,1==i.nodeType&&i.hasChildNodes()&&(i=i.childNodes[c>0?c-1:c]),i&&3==i.nodeType?i.parentNode:i)},getBookmark:function(F,K){function y(c,a){var d=0;return v(I.select(c),function(l,i){l==a&&(d=i)}),d}function s(c){function a(e){var L,l,d,u=e?"start":"end";L=c[u+"Container"],l=c[u+"Offset"],1==L.nodeType&&"TR"==L.nodeName&&(d=L.childNodes,L=d[Math.min(e?l:l-1,d.length-1)],L&&(l=e?0:L.childNodes.length,c["set"+(e?"Start":"End")](L,l)))}return a(!0),a(),c}function B(){function d(O,Q){var M=O[Q?"startContainer":"endContainer"],r=O[Q?"startOffset":"endOffset"],N=[],o,P,L=0;if(3==M.nodeType){if(K){for(o=M.previousSibling;o&&3==o.nodeType;o=o.previousSibling){r+=o.nodeValue.length}}N.push(r)}else{P=M.childNodes,r>=P.length&&P.length&&(L=1,r=Math.max(0,P.length-1)),N.push(x.dom.nodeIndex(P[r],K)+L)}for(;M&&M!=c;M=M.parentNode){N.push(x.dom.nodeIndex(M,K))}return N}var l=x.getRng(!0),c=I.getRoot(),a={};return a.start=d(l,!0),x.isCollapsed()||(a.end=d(l)),a}var x=this,I=x.dom,A,H,J,G,E,w,C="&#xFEFF;",z;if(2==F){return w=x.getNode(),E=w.nodeName,"IMG"==E?{name:E,index:y(E,w)}:x.tridentSel?x.tridentSel.getBookmark(F):B()}if(F){return{rng:x.getRng()}}if(A=x.getRng(),J=I.uniqueId(),G=x.isCollapsed(),z="overflow:hidden;line-height:0px",A.duplicate||A.item){if(A.item){return w=A.item(0),E=w.nodeName,{name:E,index:y(E,w)}}H=A.duplicate();try{A.collapse(),A.pasteHTML('<span data-mce-type="bookmark" id="'+J+'_start" style="'+z+'">'+C+"</span>"),G||(H.collapse(!1),A.moveToElementText(H.parentElement()),0===A.compareEndPoints("StartToEnd",H)&&H.move("character",-1),H.pasteHTML('<span data-mce-type="bookmark" id="'+J+'_end" style="'+z+'">'+C+"</span>"))}catch(D){return null}}else{if(w=x.getNode(),E=w.nodeName,"IMG"==E){return{name:E,index:y(E,w)}}H=s(A.cloneRange()),G||(H.collapse(!1),H.insertNode(I.create("span",{"data-mce-type":"bookmark",id:J+"_end",style:z},C))),A=s(A),A.collapse(!0),A.insertNode(I.create("span",{"data-mce-type":"bookmark",id:J+"_start",style:z},C))}return x.moveToBookmark({id:J,keep:1}),{id:J}},moveToBookmark:function(A){function D(c){var G=A[c?"start":"end"],E,a,F,e;if(G){for(F=G[0],a=B,E=G.length-1;E>=1;E--){if(e=a.childNodes,G[E]>e.length-1){return}a=e[G[E]]}3===a.nodeType&&(F=Math.min(G[0],a.nodeValue.length)),1===a.nodeType&&(F=Math.min(G[0],a.childNodes.length)),c?C.setStart(a,F):C.setEnd(a,F)}return !0}function u(F){var I=s.get(A.id+"_"+F),G,E,e,H,o=A.keep;if(I&&(G=I.parentNode,"start"==F?(o?(G=I.firstChild,E=1):E=s.nodeIndex(I),z=l=G,y=w=E):(o?(G=I.firstChild,E=1):E=s.nodeIndex(I),l=G,w=E),!o)){for(H=I.previousSibling,e=I.nextSibling,v(h(I.childNodes),function(a){3==a.nodeType&&(a.nodeValue=a.nodeValue.replace(/\uFEFF/g,""))});I=s.get(A.id+"_"+F);){s.remove(I,1)}H&&e&&H.nodeType==e.nodeType&&3==H.nodeType&&!m&&(E=H.nodeValue.length,H.appendData(e.nodeValue),s.remove(e),"start"==F?(z=l=H,y=w=E):(l=H,w=E))}}function d(a){return !s.isBlock(a)||a.innerHTML||t||(a.innerHTML='<br data-mce-bogus="1" />'),a}var x=this,s=x.dom,C,B,z,l,y,w;if(A){if(A.start){if(C=s.createRng(),B=s.getRoot(),x.tridentSel){return x.tridentSel.moveToBookmark(A)}D(!0)&&D()&&x.setRng(C)}else{A.id?(u("start"),u("end"),z&&(C=s.createRng(),C.setStart(d(z),y),C.setEnd(d(l),w),x.setRng(C))):A.name?x.select(s.select(A.name)[A.index]):A.rng&&x.setRng(A.rng)}}},select:function(e,x){function u(a,o){var i=new k(a,a);do{if(3==a.nodeType&&0!==p(a.nodeValue).length){return o?c.setStart(a,0):c.setEnd(a,a.nodeValue.length),void 0}if("BR"==a.nodeName){return o?c.setStartBefore(a):c.setEndBefore(a),void 0}}while(a=o?i.next():i.prev())}var d=this,w=d.dom,c=w.createRng(),l;if(d.lastFocusBookmark=null,e){if(!x&&d.controlSelection.controlSelect(e)){return}l=w.nodeIndex(e),c.setStart(e.parentNode,l),c.setEnd(e.parentNode,l+1),x&&(u(e,1),u(e)),d.setRng(c)}return e},isCollapsed:function(){var c=this,a=c.getRng(),d=c.getSel();return !a||a.item?!1:a.compareEndPoints?0===a.compareEndPoints("StartToEnd",a):!d||a.collapsed},collapse:function(d){var a=this,i=a.getRng(),c;i.item&&(c=i.item(0),i=a.win.document.body.createTextRange(),i.moveToElementText(c)),i.collapse(!!d),a.setRng(i)},getSel:function(){var a=this.win;return a.getSelection?a.getSelection():a.document.selection},getRng:function(y){var A=this,u,c,x,d=A.win.document,z;if(!y&&A.lastFocusBookmark){var B=A.lastFocusBookmark;return B.startContainer?(c=d.createRange(),c.setStart(B.startContainer,B.startOffset),c.setEnd(B.endContainer,B.endOffset)):c=B,c}if(y&&A.tridentSel){return A.tridentSel.getRangeAt(0)}try{(u=A.getSel())&&(c=u.rangeCount>0?u.getRangeAt(0):u.createRange?u.createRange():d.createRange())}catch(w){}if(t&&c&&c.setStart){try{z=d.selection.createRange()}catch(w){}z&&z.item&&(x=z.item(0),c=d.createRange(),c.setStartBefore(x),c.setEndAfter(x))}return c||(c=d.createRange?d.createRange():d.body.createTextRange()),c.setStart&&9===c.startContainer.nodeType&&c.collapsed&&(x=A.dom.getRoot(),c.setStart(x,0),c.setEnd(x,0)),A.selectedRange&&A.explicitRange&&(0===c.compareBoundaryPoints(c.START_TO_START,A.selectedRange)&&0===c.compareBoundaryPoints(c.END_TO_END,A.selectedRange)?c=A.explicitRange:(A.selectedRange=null,A.explicitRange=null)),c},setRng:function(l,c){var o=this,d;if(l.select){try{l.select()}catch(a){}}else{if(o.tridentSel){if(l.cloneRange){try{return o.tridentSel.addRange(l),void 0}catch(a){}}}else{if(d=o.getSel()){o.explicitRange=l;try{d.removeAllRanges(),d.addRange(l)}catch(a){}c===!1&&d.extend&&(d.collapse(l.endContainer,l.endOffset),d.extend(l.startContainer,l.startOffset)),o.selectedRange=d.rangeCount>0?d.getRangeAt(0):null}}}},setNode:function(c){var a=this;return a.setContent(a.dom.getOuterHTML(c)),c},getNode:function(){function x(i,a){for(var o=i;i&&3===i.nodeType&&0===i.length;){i=a?i.nextSibling:i.previousSibling}return i||o}var l=this,z=l.getRng(),w,d=z.startContainer,y=z.endContainer,c=z.startOffset,u=z.endOffset;return z?z.setStart?(w=z.commonAncestorContainer,!z.collapsed&&(d==y&&2>u-c&&d.hasChildNodes()&&(w=d.childNodes[c]),3===d.nodeType&&3===y.nodeType&&(d=d.length===c?x(d.nextSibling,!0):d.parentNode,y=0===u?x(y.previousSibling,!1):y.parentNode,d&&d===y))?d:w&&3==w.nodeType?w.parentNode:w):z.item?z.item(0):z.parentElement():l.dom.getRoot()},getSelectedBlocks:function(u,z){var x=this,e=x.dom,y,d,w=[];if(d=e.getRoot(),u=e.getParent(u||x.getStart(),e.isBlock),z=e.getParent(z||x.getEnd(),e.isBlock),u&&u!=d&&w.push(u),u&&z&&u!=z){y=u;for(var c=new k(u,d);(y=c.next())&&y!=z;){e.isBlock(y)&&w.push(y)}}return z&&u!=z&&z!=d&&w.push(z),w},isForward:function(){var d=this.dom,a=this.getSel(),i,c;return a&&a.anchorNode&&a.focusNode?(i=d.createRng(),i.setStart(a.anchorNode,a.anchorOffset),i.collapse(!0),c=d.createRng(),c.setStart(a.focusNode,a.focusOffset),c.collapse(!0),i.compareBoundaryPoints(i.START_TO_START,c)<=0):!0},normalize:function(){function c(C){function A(s,E){for(var u=new k(s,x.getParent(s.parentNode,x.isBlock)||i);s=u[E?"prev":"next"]();){if("BR"===s.nodeName){return !0}}}function D(u,s){return u.previousSibling&&u.previousSibling.nodeName==s}function o(u,F){var E,s;for(F=F||z,E=new k(F,x.getParent(F.parentNode,x.isBlock)||i);r=E[u?"prev":"next"]();){if(3===r.nodeType&&r.nodeValue.length>0){return z=r,B=u?r.nodeValue.length:0,a=!0,void 0}if(x.isBlock(r)||n[r.nodeName.toLowerCase()]){return}s=r}e&&s&&(z=s,a=!0,B=0)}var z,B,y,x=l.dom,i=x.getRoot(),r,n,w;if(z=d[(C?"start":"end")+"Container"],B=d[(C?"start":"end")+"Offset"],n=x.schema.getNonEmptyElements(),9===z.nodeType&&(z=x.getRoot(),B=0),z===i){if(C&&(r=z.childNodes[B>0?B-1:0],r&&(w=r.nodeName.toLowerCase(),n[r.nodeName]||"TABLE"==r.nodeName))){return}if(z.hasChildNodes()&&(B=Math.min(!C&&B>0?B-1:B,z.childNodes.length-1),z=z.childNodes[B],B=0,z.hasChildNodes()&&!/TABLE/.test(z.nodeName))){r=z,y=new k(z,i);do{if(3===r.nodeType&&r.nodeValue.length>0){B=C?0:r.nodeValue.length,z=r,a=!0;break}if(n[r.nodeName.toLowerCase()]){B=x.nodeIndex(r),z=r.parentNode,"IMG"!=r.nodeName||C||B++,a=!0;break}}while(r=C?y.next():y.prev())}}e&&(3===z.nodeType&&0===B&&o(!0),1===z.nodeType&&(r=z.childNodes[B],!r||"BR"!==r.nodeName||D(r,"A")||A(r)||A(r,!0)||o(!0,z.childNodes[B]))),C&&!e&&3===z.nodeType&&B===z.nodeValue.length&&o(!1),a&&d["set"+(C?"Start":"End")](z,B)}var l=this,d,a,e;t||(d=l.getRng(),e=d.collapsed,c(!0),e||c(),a&&(e&&d.collapse(!0),l.setRng(d,l.isForward())))},selectorChanged:function(d,a){var i=this,c;return i.selectorChangedData||(i.selectorChangedData={},c={},i.editor.on("NodeChange",function(s){var r=s.element,n=i.dom,u=n.getParents(r,null,n.getRoot()),l={};v(i.selectorChangedData,function(w,o){v(u,function(e){return n.is(e,o)?(c[o]||(v(w,function(x){x(!0,{node:e,selector:o,parents:u})}),c[o]=w),l[o]=w,!1):void 0})}),v(c,function(o,w){l[w]||(delete c[w],v(o,function(x){x(!1,{node:r,selector:w,parents:u})}))})})),i.selectorChangedData[d]||(i.selectorChangedData[d]=[]),i.selectorChangedData[d].push(a),i},scrollIntoView:function(l){var c,o,d=this,a=d.dom;o=a.getViewPort(d.editor.getWin()),c=a.getPos(l).y,(c<o.y||c+25>o.y+o.h)&&d.editor.getWin().scrollTo(0,c<o.y?c:c-o.h+25)},destroy:function(){this.win=null,this.controlSelection.destroy()}},q}),aD(bz,[aH],function(b){function a(d){this.walk=function(H,e){function w(g){var f;return f=g[0],3===f.nodeType&&f===q&&C>=f.nodeValue.length&&g.splice(0,1),f=g[g.length-1],0===B&&g.length>0&&f===G&&3===f.nodeType&&g.splice(g.length-1,1),g}function k(h,f,i){for(var g=[];h&&h!=i;h=h[f]){g.push(h)}return g}function E(g,f){do{if(g.parentNode==f){return g}g=g.parentNode}while(g)}function I(h,g,i){var f=i?"nextSibling":"previousSibling";for(n=h,z=n.parentNode;n&&n!=g;n=z){z=n.parentNode,F=k(n==h?n:n[f],f),F.length&&(i||F.reverse(),e(w(F)))}}var q=H.startContainer,C=H.startOffset,G=H.endContainer,B=H.endOffset,A,j,x,n,z,F,D;if(D=d.select("td.mce-item-selected,th.mce-item-selected"),D.length>0){return c(D,function(f){e([f])}),void 0}if(1==q.nodeType&&q.hasChildNodes()&&(q=q.childNodes[C]),1==G.nodeType&&G.hasChildNodes()&&(G=G.childNodes[Math.min(B-1,G.childNodes.length-1)]),q==G){return e(w([q]))}for(A=d.findCommonAncestor(q,G),n=q;n;n=n.parentNode){if(n===G){return I(q,A,!0)}if(n===A){break}}for(n=G;n;n=n.parentNode){if(n===q){return I(G,A)}if(n===A){break}}j=E(q,A)||q,x=E(G,A)||G,I(q,j,!0),F=k(j==q?j:j.nextSibling,"nextSibling",x==G?x.nextSibling:x),F.length&&e(w(F)),I(G,x)},this.split=function(j){function g(m,i){return m.splitText(i)}var l=j.startContainer,h=j.startOffset,f=j.endContainer,k=j.endOffset;return l==f&&3==l.nodeType?h>0&&h<l.nodeValue.length&&(f=g(l,h),l=f.previousSibling,k>h?(k-=h,l=f=g(f,k).previousSibling,k=f.nodeValue.length,h=0):k=0):(3==l.nodeType&&h>0&&h<l.nodeValue.length&&(l=g(l,h),h=0),3==f.nodeType&&k>0&&k<f.nodeValue.length&&(f=g(f,k).previousSibling,k=f.nodeValue.length)),{startContainer:l,startOffset:h,endContainer:f,endOffset:k}}}var c=b.each;return a.compareRanges=function(f,d){if(f&&d){if(!f.item&&!f.duplicate){return f.startContainer==d.startContainer&&f.startOffset==d.startOffset}if(f.item&&d.item&&f.item(0)===d.item(0)){return !0}if(f.isEqual&&d.isEqual&&d.isEqual(f)){return !0}}return !1},a}),aD(bw,[aS,bz,aH],function(b,a,c){return function(cp){function cz(d){return d.nodeType&&(d=d.nodeName),!!cp.schema.getTextBlockElements()[d.toLowerCase()]}function ct(f,d){return b7.getParents(f,d,b7.getRoot())}function cH(d){return 1===d.nodeType&&"_mce_caret"===d.id}function co(){cn({alignleft:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},defaultBlock:"div"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"}}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},wrap_links:!1},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},wrap_links:!1},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return !0},onformat:function(f,d,g){cr(g,function(h,i){b7.setAttrib(f,i,h)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),cr("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(d){cn(d,{block:d,remove:"all"})}),cn(cp.settings.formats)}function cv(){cp.addShortcut("ctrl+b","bold_desc","Bold"),cp.addShortcut("ctrl+i","italic_desc","Italic"),cp.addShortcut("ctrl+u","underline_desc","Underline");for(var d=1;6>=d;d++){cp.addShortcut("ctrl+"+d,"",["FormatBlock",!1,"h"+d])}cp.addShortcut("ctrl+7","",["FormatBlock",!1,"p"]),cp.addShortcut("ctrl+8","",["FormatBlock",!1,"div"]),cp.addShortcut("ctrl+9","",["FormatBlock",!1,"address"])}function cF(d){return d?b1[d]:b1}function cn(f,d){f&&("string"!=typeof f?cr(f,function(h,g){cn(g,h)}):(d=d.length?d:[d],cr(d,function(g){g.deep===t&&(g.deep=!g.selector),g.split===t&&(g.split=!g.selector||g.inline),g.remove===t&&g.selector&&!g.inline&&(g.remove="none"),g.selector&&g.inline&&(g.mixed=!0,g.block_expand=!0),"string"==typeof g.classes&&(g.classes=g.classes.split(/\s+/))}),b1[f]=d))}function cE(f){var d;return cp.dom.getParent(f,function(g){return d=cp.dom.getStyle(g,"text-decoration"),d&&"none"!==d}),d}function cD(f){var d;1===f.nodeType&&f.parentNode&&1===f.parentNode.nodeType&&(d=cE(f.parentNode),cp.dom.getStyle(f,"color")&&d?cp.dom.setStyle(f,"text-decoration",d):cp.dom.getStyle(f,"textdecoration")===d&&cp.dom.setStyle(f,"text-decoration",null))}function cs(A,i,g){function B(h,d){d=d||j,h&&(d.onformat&&d.onformat(h,d,i,g),cr(d.styles,function(l,m){b7.setStyle(h,m,cb(l,i))}),cr(d.attributes,function(l,m){b7.setAttrib(h,m,cb(l,i))}),cr(d.classes,function(l){l=cb(l,i),b7.hasClass(h,l)||b7.addClass(h,l)}))}function k(){function o(l,y){var s=new b(y);for(g=s.current();g;g=s.prev()){if(g.childNodes.length>1||g==l||"BR"==g.tagName){return g}}}var v=cp.selection.getRng(),m=v.startContainer,h=v.endContainer;if(m!=h&&0===v.endOffset){var u=o(m,h),d=3==u.nodeType?u.length:u.childNodes.length;v.setEnd(u,d)}return v}function z(C,G,m,d,y){var h=[],E=-1,H,v=-1,D=-1,F;return cr(C.childNodes,function(o,l){return"UL"===o.nodeName||"OL"===o.nodeName?(E=l,H=o,!1):void 0}),cr(C.childNodes,function(l,o){"SPAN"===l.nodeName&&"bookmark"==b7.getAttrib(l,"data-mce-type")&&(l.id==G.id+"_start"?v=o:l.id==G.id+"_end"&&(D=o))}),0>=E||E>v&&D>E?(cr(cC(C.childNodes),y),0):(F=b7.clone(m,b5),cr(cC(C.childNodes),function(o,l){(E>v&&E>l||v>E&&l>E)&&(h.push(o),o.parentNode.removeChild(o))}),E>v?C.insertBefore(F,H):v>E&&C.insertBefore(F,H.nextSibling),d.push(F),cr(h,function(l){F.appendChild(l)}),F)}function q(u,m,y){var h=[],C,v,s=!0;C=j.inline||j.block,v=b7.create(C),B(v),at.walk(u,function(o){function l(F){var I,H,D,E,G;return G=s,I=F.nodeName.toLowerCase(),H=F.parentNode.nodeName.toLowerCase(),1===F.nodeType&&b6(F)&&(G=s,s="true"===b6(F),E=!0),cl(I,"br")?(d=0,j.block&&b7.remove(F),void 0):j.wrapper&&cB(F,A,i)?(d=0,void 0):s&&!E&&j.block&&!j.wrapper&&cz(I)&&ci(H,C)?(F=b7.rename(F,C),B(F),h.push(F),d=0,void 0):j.selector&&(cr(p,function(J){"collapsed" in J&&J.collapsed!==r||b7.is(F,J.selector)&&!cH(F)&&(B(F,J),D=!0)}),!j.inline||D)?(d=0,void 0):(!s||E||!ci(C,I)||!ci(H,C)||!y&&3===F.nodeType&&1===F.nodeValue.length&&65279===F.nodeValue.charCodeAt(0)||cH(F)||j.inline&&bt(F)?"li"==I&&m?d=z(F,m,v,h,l):(d=0,cr(cC(F.childNodes),l),E&&(s=G),d=0):(d||(d=b7.clone(v,b5),F.parentNode.insertBefore(d,F),h.push(d)),d.appendChild(F)),void 0)}var d;cr(o,l)}),j.wrap_links===!1&&cr(h,function(l){function d(E){var F,D,o;if("A"===E.nodeName){for(D=b7.clone(v,b5),h.push(D),o=cC(E.childNodes),F=0;F<o.length;F++){D.appendChild(o[F])}E.appendChild(D)}cr(cC(E.childNodes),d)}d(l)}),cr(h,function(D){function l(F){var o=0;return cr(F.childNodes,function(G){cw(G)||cc(G)||o++}),o}function d(F){var o,G;return cr(F.childNodes,function(H){return 1!=H.nodeType||cc(H)||cH(H)?void 0:(o=H,b5)}),o&&ck(o,j)&&(G=b7.clone(o,b5),B(G),b7.replace(G,F,b9),b7.remove(o,1)),G||F}var E;if(E=l(D),(h.length>1||!bt(D))&&0===E){return b7.remove(D,1),void 0}if(j.inline||j.wrapper){if(j.exact||1!==E||(D=d(D)),cr(p,function(o){cr(b7.select(o.inline,D),function(G){var F;if(o.wrap_links===!1){F=G.parentNode;do{if("A"===F.nodeName){return}}while(F=F.parentNode)}bY(o,i,G,o.exact?G:null)})}),cB(D.parentNode,A,i)){return b7.remove(D,1),D=0,b9}j.merge_with_parents&&b7.getParent(D.parentNode,function(o){return cB(o,A,i)?(b7.remove(D,1),D=0,b9):void 0}),D&&j.merge_siblings!==!1&&(D=b4(ce(D),D),D=b4(D,ce(D,b9)))}})}var p=cF(A),j=p[0],x,w,r=!g&&ca.isCollapsed();if(j){if(g){g.nodeType?(w=b7.createRng(),w.setStartBefore(g),w.setEndAfter(g),q(bW(w,p),null,!0)):q(g,null,!0)}else{if(r&&j.inline&&!b7.select("td.mce-item-selected,th.mce-item-selected").length){b8("apply",A,i)}else{var f=cp.selection.getNode();bV||!p[0].defaultBlock||b7.getParent(f,b7.isBlock)||cs(p[0].defaultBlock),cp.selection.setRng(k()),x=ca.getBookmark(),q(bW(ca.getRng(b9),p),x),j.styles&&(j.styles.color||j.styles.textDecoration)&&(cx(f,cD,"childNodes"),cD(f)),ca.moveToBookmark(x),b0(ca.getRng(b9)),cp.nodeChanged()}}}}function cA(v,B,g){function o(l){var p,i,m,f,h;if(1===l.nodeType&&b6(l)&&(f=w,w="true"===b6(l),h=!0),p=cC(l.childNodes),w&&!h){for(i=0,m=d.length;m>i&&!bY(d[i],B,l,l);i++){}}if(q.deep&&p.length){for(i=0,m=p.length;m>i;i++){o(p[i])}h&&(w=f)}}function z(h){var f;return cr(ct(h.parentNode).reverse(),function(m){var l;f||"_start"==m.id||"_end"==m.id||(l=cB(m,v,B),l&&l.split!==!1&&(f=m))}),f}function C(D,m,f,y){var h,F,H,p,E,G;if(D){for(G=D.parentNode,h=m.parentNode;h&&h!=G;h=h.parentNode){for(F=b7.clone(h,b5),E=0;E<d.length;E++){if(bY(d[E],B,F,F)){F=0;break}}F&&(H&&F.appendChild(H),p||(p=F),H=F)}!y||q.mixed&&bt(D)||(m=b7.split(D,m)),H&&(f.parentNode.insertBefore(H,f),p.appendChild(f))}return m}function k(f){return C(z(f),f,f,!0)}function A(h){var f=b7.get(h?"_start":"_end"),i=f[h?"firstChild":"lastChild"];return cc(i)&&(i=i[h?"firstChild":"lastChild"]),b7.remove(f,!0),i}function r(h){var f,i;h=bW(h,d,b9),q.split&&(f=b3(h,b9),i=b3(h),f!=i?(/^(TR|TD)$/.test(f.nodeName)&&f.firstChild&&(f="TD"==f.nodeName?f.firstChild||f:f.firstChild.firstChild||f),f=bX(f,"span",{id:"_start","data-mce-type":"bookmark"}),i=bX(i,"span",{id:"_end","data-mce-type":"bookmark"}),k(f),k(i),f=A(b9),i=A()):f=i=k(f),h.startContainer=f.parentNode,h.startOffset=cq(f),h.endContainer=i.parentNode,h.endOffset=cq(i)+1),at.walk(h,function(l){cr(l,function(m){o(m),1===m.nodeType&&"underline"===cp.dom.getStyle(m,"text-decoration")&&m.parentNode&&"underline"===cE(m.parentNode)&&bY({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,m)})})}var d=cF(v),q=d[0],j,x,w=!0;return g?(g.nodeType?(x=b7.createRng(),x.setStartBefore(g),x.setEndAfter(g),r(x)):r(g),void 0):(ca.isCollapsed()&&q.inline&&!b7.select("td.mce-item-selected,th.mce-item-selected").length?b8("remove",v,B):(j=ca.getBookmark(),r(ca.getRng(b9)),ca.moveToBookmark(j),q.inline&&cm(v,B,ca.getStart())&&b0(ca.getRng(!0)),cp.nodeChanged()),void 0)}function cu(g,d,h){var f=cF(g);!cm(g,d,h)||"toggle" in f[0]&&!f[0].toggle?cs(g,d,h):cA(g,d,h)}function cB(k,p,g,d){function j(y,w,v){var z,u,x=w[v],r;if(w.onmatch){return w.onmatch(y,w,v)}if(x){if(x.length===t){for(z in x){if(x.hasOwnProperty(z)){if(u="attributes"===v?b7.getAttrib(y,z):cI(y,z),d&&!u&&!w.exact){return}if((!d||w.exact)&&!cl(u,b2(cb(x[z],g),z))){return}}}}else{for(r=0;r<x.length;r++){if("attributes"===v?b7.getAttrib(y,x[r]):cI(y,x[r])){return w}}}}return w}var f=cF(p),m,q,h;if(f&&k){for(q=0;q<f.length;q++){if(m=f[q],ck(k,m)&&j(k,m,"attributes")&&j(k,m,"styles")){if(h=m.classes){for(q=0;q<h.length;q++){if(!b7.hasClass(k,h[q])){return}}}return m}}}}function cm(h,f,j){function g(k){var i=b7.getRoot();return k=b7.getParent(k,function(l){return l.parentNode===i||!!cB(l,h,f,!0)}),cB(k,h,f)}var d;return j?g(j):(j=ca.getNode(),g(j)?b9:(d=ca.getStart(),d!=j&&g(d)?b9:b5))}function cj(h,f){var j,g=[],d={};return j=ca.getStart(),b7.getParent(j,function(l){var k,i;for(k=0;k<h.length;k++){i=h[k],!d[i]&&cB(l,i,f)&&(d[i]=!0,g.push(i))}},b7.getRoot()),g}function cG(k){var g=cF(k),l,j,f,d,h;if(g){for(l=ca.getStart(),j=ct(l),d=g.length-1;d>=0;d--){if(h=g[d].selector,!h||g[d].defaultBlock){return b9}for(f=j.length-1;f>=0;f--){if(b7.is(j[f],h)){return b9}}}}return b5}function cd(g,f,h){var d;return n||(n={},d={},cp.on("NodeChange",function(j){var i=ct(j.element),k={};cr(n,function(m,l){cr(i,function(p){return cB(p,l,{},m.similar)?(d[l]||(cr(m,function(o){o(!0,{node:p,format:l,parents:i})}),d[l]=m),k[l]=m,!1):void 0})}),cr(d,function(l,m){k[m]||(delete d[m],cr(l,function(o){o(!1,{node:j.element,format:m,parents:i})}))})})),cr(g.split(","),function(i){n[i]||(n[i]=[],n[i].similar=h),n[i].push(f)}),this}function ck(f,d){return cl(f,d.inline)?b9:cl(f,d.block)?b9:d.selector?1==f.nodeType&&b7.is(f,d.selector):void 0}function cl(f,d){return f=f||"",d=d||"",f=""+(f.nodeName||f),d=""+(d.nodeName||d),f.toLowerCase()==d.toLowerCase()}function cI(f,d){return b2(b7.getStyle(f,d),d)}function b2(f,d){return("color"==d||"backgroundColor"==d)&&(f=b7.toHex(f)),"fontWeight"==d&&700==f&&(f="bold"),"fontFamily"==d&&(f=f.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+f}function cb(f,d){return"string"!=typeof f?f=f(d):d&&(f=f.replace(/%(\w+)/g,function(g,h){return d[h]||g})),f}function cw(d){return d&&3===d.nodeType&&/^([\t \r\n]+|)$/.test(d.nodeValue)}function bX(g,d,h){var f=b7.create(d,h);return g.parentNode.insertBefore(f,g),f.appendChild(g),f}function bW(F,j,C){function G(m){function g(s){return"BR"==s.nodeName&&s.getAttribute("data-mce-bogus")&&!s.nextSibling}var l,f,p,d,h;if(l=f=m?r:B,d=m?"previousSibling":"nextSibling",h=b7.getRoot(),3==l.nodeType&&!cw(l)&&(m?D>0:A<l.nodeValue.length)){return l}for(;;){if(!j[0].block_expand&&bt(f)){return f}for(p=f[d];p;p=p[d]){if(!cc(p)&&!cw(p)&&!g(p)){return f}}if(f.parentNode==h){l=f;break}f=f.parentNode}return l}function o(f,d){for(d===t&&(d=3===f.nodeType?f.length:f.childNodes.length);f&&f.hasChildNodes();){f=f.childNodes[d],f&&(d=3===f.nodeType?f.length:f.childNodes.length)}return{node:f,offset:d}}function z(f){for(var d=f;d;){if(1===d.nodeType&&b6(d)){return"false"===b6(d)?d:f}d=d.parentNode}return f}function E(h,y,g){function p(u,l){var I,s,H=u.nodeValue;return"undefined"==typeof l&&(l=g?H.length:0),g?(I=H.lastIndexOf(" ",l),s=H.lastIndexOf("\xa0",l),I=I>s?I:s,-1===I||C||I++):(I=H.indexOf(" ",l),s=H.indexOf("\xa0",l),I=-1!==I&&(-1===s||s>I)?I:s),I}var m,d,v,f;if(3===h.nodeType){if(v=p(h,y),-1!==v){return{container:h,offset:v}}f=h}for(m=new b(h,b7.getParent(h,bt)||cp.getBody());d=m[g?"prev":"next"]();){if(3===d.nodeType){if(f=d,v=p(d),-1!==v){return{container:d,offset:v}}}else{if(bt(d)){break}}}return f?(y=g?0:f.length,{container:f,offset:y}):void 0}function x(p,m){var g,f,h,d;for(3==p.nodeType&&0===p.nodeValue.length&&p[m]&&(p=p[m]),g=ct(p),f=0;f<g.length;f++){for(h=0;h<j.length;h++){if(d=j[h],!("collapsed" in d&&d.collapsed!==F.collapsed)&&b7.is(g[f],d.selector)){return g[f]}}}return p}function w(h,f){var g,d=b7.getRoot();if(j[0].wrapper||(g=b7.getParent(h,j[0].block)),g||(g=b7.getParent(3==h.nodeType?h.parentNode:h,function(l){return l!=d&&cz(l)})),g&&j[0].wrapper&&(g=ct(g,"ul,ol").reverse()[0]||g),!g){for(g=h;g[f]&&!bt(g[f])&&(g=g[f],!cl(g,"br"));){}}return g||h}var i,q,k,r=F.startContainer,D=F.startOffset,B=F.endContainer,A=F.endOffset;if(1==r.nodeType&&r.hasChildNodes()&&(i=r.childNodes.length-1,r=r.childNodes[D>i?i:D],3==r.nodeType&&(D=0)),1==B.nodeType&&B.hasChildNodes()&&(i=B.childNodes.length-1,B=B.childNodes[A>i?i:A-1],3==B.nodeType&&(A=B.nodeValue.length)),r=z(r),B=z(B),(cc(r.parentNode)||cc(r))&&(r=cc(r)?r:r.parentNode,r=r.nextSibling||r,3==r.nodeType&&(D=0)),(cc(B.parentNode)||cc(B))&&(B=cc(B)?B:B.parentNode,B=B.previousSibling||B,3==B.nodeType&&(A=B.length)),j[0].inline&&(F.collapsed&&(k=E(r,D,!0),k&&(r=k.container,D=k.offset),k=E(B,A),k&&(B=k.container,A=k.offset)),q=o(B,A),q.node)){for(;q.node&&0===q.offset&&q.node.previousSibling;){q=o(q.node.previousSibling)}q.node&&q.offset>0&&3===q.node.nodeType&&" "===q.node.nodeValue.charAt(q.offset-1)&&q.offset>1&&(B=q.node,B.splitText(q.offset-1))}return(j[0].inline||j[0].block_expand)&&(j[0].inline&&3==r.nodeType&&0!==D||(r=G(!0)),j[0].inline&&3==B.nodeType&&A!==B.nodeValue.length||(B=G())),j[0].selector&&j[0].expand!==b5&&!j[0].inline&&(r=x(r,"previousSibling"),B=x(B,"nextSibling")),(j[0].block||j[0].selector)&&(r=w(r,"previousSibling"),B=w(B,"nextSibling"),j[0].block&&(bt(r)||(r=G(!0)),bt(B)||(B=G()))),1==r.nodeType&&(D=cq(r),r=r.parentNode),1==B.nodeType&&(A=cq(B)+1,B=B.parentNode),{startContainer:r,startOffset:D,endContainer:B,endOffset:A}}function bY(j,g,l,h){var f,k,d;if(!ck(l,j)){return b5}if("all"!=j.remove){for(cr(j.styles,function(o,m){o=b2(cb(o,g),m),"number"==typeof m&&(m=o,h=0),(!h||cl(cI(h,m),o))&&b7.setStyle(l,m,""),d=1}),d&&""===b7.getAttrib(l,"style")&&(l.removeAttribute("style"),l.removeAttribute("data-mce-style")),cr(j.attributes,function(p,m){var q;if(p=cb(p,g),"number"==typeof m&&(m=p,h=0),!h||cl(b7.getAttrib(h,m),p)){if("class"==m&&(p=b7.getAttrib(l,m),p&&(q="",cr(p.split(/\s+/),function(i){/mce\w+/.test(i)&&(q+=(q?" ":"")+i)}),q))){return b7.setAttrib(l,m,q),void 0}"class"==m&&l.removeAttribute("className"),ch.test(m)&&l.removeAttribute("data-mce-"+m),l.removeAttribute(m)}}),cr(j.classes,function(i){i=cb(i,g),(!h||b7.hasClass(h,i))&&b7.removeClass(l,i)}),k=b7.getAttribs(l),f=0;f<k.length;f++){if(0!==k[f].nodeName.indexOf("_")){return b5}}}return"none"!=j.remove?(cf(l,j),b9):void 0}function cf(h,f){function j(k,i,l){return k=ce(k,i,l),!k||"BR"==k.nodeName||bt(k)}var g=h.parentNode,d;f.block&&(bV?g==b7.getRoot()&&(f.list_block&&cl(h,f.list_block)||cr(cC(h.childNodes),function(i){ci(bV,i.nodeName.toLowerCase())?d?d.appendChild(i):d=bX(i,bV):d=0})):bt(h)&&!bt(g)&&(j(h,b5)||j(h.firstChild,b9,1)||h.insertBefore(b7.create("br"),h.firstChild),j(h,b9)||j(h.lastChild,b5,1)||h.appendChild(b7.create("br")))),f.selector&&f.inline&&!cl(f.inline,h)||b7.remove(h,1)}function ce(f,d,g){if(f){for(d=d?"nextSibling":"previousSibling",f=g?f:f[d];f;f=f[d]){if(1==f.nodeType||!cw(f)){return f}}}}function cc(d){return d&&1==d.nodeType&&"bookmark"==d.getAttribute("data-mce-type")}function b4(h,f){function k(m,i){function o(q){var p={};return cr(b7.getAttribs(q),function(u){var s=u.nodeName.toLowerCase();0!==s.indexOf("_")&&"style"!==s&&(p[s]=b7.getAttrib(q,s))}),p}function l(s,p){var u,q;for(q in s){if(s.hasOwnProperty(q)){if(u=p[q],u===t){return b5}if(s[q]!=u){return b5}delete p[q]}}for(q in p){if(p.hasOwnProperty(q)){return b5}}return b9}return m.nodeName!=i.nodeName?b5:l(o(m),o(i))?l(b7.parseStyle(b7.getAttrib(m,"style")),b7.parseStyle(b7.getAttrib(i,"style")))?b9:b5:b5}function g(l,i){for(d=l;d;d=d[i]){if(3==d.nodeType&&0!==d.nodeValue.length){return l}if(1==d.nodeType&&!cc(d)){return d}}return l}var d,j;if(h&&f&&(h=g(h,"previousSibling"),f=g(f,"nextSibling"),k(h,f))){for(d=h.nextSibling;d&&d!=f;){j=d,d=d.nextSibling,h.appendChild(j)}return b7.remove(f),cr(cC(f.childNodes),function(i){h.appendChild(i)}),h}return f}function b3(g,j){var f,h,d;return f=g[j?"startContainer":"endContainer"],h=g[j?"startOffset":"endOffset"],1==f.nodeType&&(d=f.childNodes.length-1,!j&&h&&h--,f=f.childNodes[h>d?d:h]),3===f.nodeType&&j&&h>=f.nodeValue.length&&(f=new b(f,cp.getBody()).next()||f),3!==f.nodeType||j||0!==h||(f=new b(f,cp.getBody()).prev()||f),f}function b8(A,h,g){function w(f){var d=b7.create("span",{id:r,"data-mce-bogus":!0,style:q?"color:red":""});return f&&d.appendChild(cp.getDoc().createTextNode(cy)),d}function B(f,d){for(;f;){if(3===f.nodeType&&f.nodeValue!==cy||f.childNodes.length>1){return !1}d&&1===f.nodeType&&d.push(f),f=f.firstChild}return !0}function j(d){for(;d;){if(d.id===r){return d}d=d.parentNode}}function z(d){var f;if(d){for(f=new b(d,d),d=f.current();d;d=f.next()){if(3===d.nodeType){return d}}}}function p(l,d){var m,f;if(l){f=ca.getRng(!0),B(l)?(d!==!1&&(f.setStartBefore(l),f.setEndBefore(l)),b7.remove(l)):(m=z(l),m.nodeValue.charAt(0)===cy&&(m=m.deleteData(0,1)),b7.remove(l,1)),ca.setRng(f)}else{if(l=j(ca.getStart()),!l){for(;l=b7.get(r);){p(l,!1)}}}}function k(){var y,m,u,l,o,C,v;y=ca.getRng(!0),l=y.startOffset,C=y.startContainer,v=C.nodeValue,m=j(ca.getStart()),m&&(u=z(m)),v&&l>0&&l<v.length&&/\w/.test(v.charAt(l))&&/\w/.test(v.charAt(l-1))?(o=ca.getBookmark(),y.collapse(!0),y=bW(y,cF(h)),y=at.split(y),cs(h,g,y),ca.moveToBookmark(o)):(m&&u.nodeValue===cy?cs(h,g,m):(m=w(!0),u=m.firstChild,y.insertNode(m),l=1,cs(h,g,m)),ca.setCursorLocation(u,l))}function i(){var F=ca.getRng(!0),J,o,K,D,I,G,E=[],y,C;for(J=F.startContainer,o=F.startOffset,I=J,3==J.nodeType&&((o!=J.nodeValue.length||J.nodeValue===cy)&&(D=!0),I=I.parentNode);I;){if(cB(I,h,g)){G=I;break}I.nextSibling&&(D=!0),E.push(I),I=I.parentNode}if(G){if(D){K=ca.getBookmark(),F.collapse(!0),F=bW(F,cF(h),!0),F=at.split(F),cA(h,g,F),ca.moveToBookmark(K)}else{for(C=w(),I=C,y=E.length-1;y>=0;y--){I.appendChild(b7.clone(E[y],!1)),I=I.firstChild}I.appendChild(b7.doc.createTextNode(cy)),I=I.firstChild;var H=b7.getParent(G,cz);H&&b7.isEmpty(H)?G.parentNode.replaceChild(C,G):b7.insertAfter(C,G),ca.setCursorLocation(I,1),b7.isEmpty(G)&&b7.remove(G)}}}function x(){var d;d=j(ca.getStart()),d&&!b7.isEmpty(d)&&cx(d,function(f){1!=f.nodeType||f.id===r||b7.isEmpty(f)||b7.setAttrib(f,"data-mce-bogus",null)},"childNodes")}var r="_mce_caret",q=cp.settings.caret_debug;cp._hasCaretEvents||(e=function(){var f=[],d;if(B(j(ca.getStart()),f)){for(d=f.length;d--;){b7.setAttrib(f[d],"data-mce-bogus","1")}}},bZ=function(f){var d=f.keyCode;p(),(8==d||37==d||39==d)&&p(j(ca.getStart())),x()},cp.on("SetContent",function(d){d.selection&&x()}),cp._hasCaretEvents=!0),"apply"==A?k():i()}function b0(h){var p=h.startContainer,k=h.startOffset,g,m,f,j,d;if(3==p.nodeType&&k>=p.nodeValue.length&&(k=cq(p),p=p.parentNode,g=!0),1==p.nodeType){for(j=p.childNodes,p=j[Math.min(k,j.length-1)],m=new b(p,b7.getParent(p,b7.isBlock)),(k>j.length-1||g)&&m.next(),f=m.current();f;f=m.next()){if(3==f.nodeType&&!cw(f)){return d=b7.create("a",null,cy),f.parentNode.insertBefore(d,f),h.setStart(f,0),ca.setRng(h),b7.remove(d),void 0}}}}var b1={},b7=cp.dom,ca=cp.selection,at=new a(b7),ci=cp.schema.isValidChild,bt=b7.isBlock,bV=cp.settings.forced_root_block,cq=b7.nodeIndex,cy="\ufeff",ch=/^(src|href|style)$/,b5=!1,b9=!0,n,t,b6=b7.getContentEditable,bZ,e,cr=c.each,cC=c.grep,cx=c.walk,cg=c.extend;cg(this,{get:cF,register:cn,apply:cs,remove:cA,toggle:cu,match:cm,matchAll:cj,matchNode:cB,canApply:cG,formatChanged:cd}),co(),cv(),cp.on("BeforeGetContent",function(){e&&e()}),cp.on("mouseup keydown",function(d){bZ&&bZ(d)})}}),aD(bn,[aR,aH],function(c,a){var d=a.trim,b;return b=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\u200b\ufeff]+<\\/span>","<div[^>]+data-mce-bogus[^>]+><\\/div>",'\\s?data-mce-selected="[^"]+"'].join("|"),"gi"),function(n){function g(){return d(n.getContent({format:"raw",no_events:1}).replace(b,""))}function e(){k.typing=!1,k.add()}var k,p=0,f=[],j,m,h;return n.on("init",function(){k.add()}),n.on("BeforeExecCommand",function(l){var i=l.command;"Undo"!=i&&"Redo"!=i&&"mceRepaint"!=i&&k.beforeChange()}),n.on("ExecCommand",function(l){var i=l.command;"Undo"!=i&&"Redo"!=i&&"mceRepaint"!=i&&k.add()}),n.on("ObjectResizeStart",function(){k.beforeChange()}),n.on("SaveContent ObjectResized",e),n.dom.bind(n.dom.getRoot(),"dragend",e),n.dom.bind(n.getBody(),"focusout",function(){!n.removed&&k.typing&&e()}),n.on("KeyUp",function(l){var i=l.keyCode;(i>=33&&36>=i||i>=37&&40>=i||45==i||13==i||l.ctrlKey)&&(e(),n.nodeChanged()),(46==i||8==i||c.mac&&(91==i||93==i))&&n.nodeChanged(),m&&k.typing&&(n.isDirty()||(n.isNotDirty=!f[0]||g()==f[0].content,n.isNotDirty||n.fire("change",{level:f[0],lastLevel:null})),n.fire("TypingUndo"),m=!1,n.nodeChanged())}),n.on("KeyDown",function(l){var i=l.keyCode;return i>=33&&36>=i||i>=37&&40>=i||45==i?(k.typing&&e(),void 0):((16>i||i>20)&&224!=i&&91!=i&&!k.typing&&(k.beforeChange(),k.typing=!0,k.add(),m=!0),void 0)}),n.on("MouseDown",function(){k.typing&&e()}),n.addShortcut("ctrl+z","","Undo"),n.addShortcut("ctrl+y,ctrl+shift+z","","Redo"),n.on("AddUndo Undo Redo ClearUndos MouseUp",function(i){i.isDefaultPrevented()||n.nodeChanged()}),k={data:f,typing:!1,beforeChange:function(){h||(j=n.selection.getBookmark(2,!0))},add:function(q){var t,l=n.settings,s;if(q=q||{},q.content=g(),h||n.fire("BeforeAddUndo",{level:q}).isDefaultPrevented()){return null}if(s=f[p],s&&s.content==q.content){return null}if(f[p]&&(f[p].beforeBookmark=j),l.custom_undo_redo_levels&&f.length>l.custom_undo_redo_levels){for(t=0;t<f.length-1;t++){f[t]=f[t+1]}f.length--,p=f.length}q.bookmark=n.selection.getBookmark(2,!0),p<f.length-1&&(f.length=p+1),f.push(q),p=f.length-1;var i={level:q,lastLevel:s};return n.fire("AddUndo",i),p>0&&(n.fire("change",i),n.isNotDirty=!1),q},undo:function(){var i;return k.typing&&(k.add(),k.typing=!1),p>0&&(i=f[--p],n.setContent(i.content,{format:"raw"}),n.selection.moveToBookmark(i.beforeBookmark),n.fire("undo",{level:i})),i},redo:function(){var i;return p<f.length-1&&(i=f[++p],n.setContent(i.content,{format:"raw"}),n.selection.moveToBookmark(i.bookmark),n.fire("redo",{level:i})),i},clear:function(){f=[],p=0,k.typing=!1,n.fire("ClearUndos")},hasUndo:function(){return p>0||k.typing&&f[0]&&g()!=f[0].content},hasRedo:function(){return p<f.length-1&&!this.typing},transact:function(i){k.beforeChange(),h=!0,i(),h=!1,k.add()}}}}),aD(bm,[aS,aR],function(b,a){var c=a.ie&&a.ie<11;return function(g){function j(X){function Q(p){return p&&f.isBlock(p)&&!/^(TD|TH|CAPTION|FORM)$/.test(p.nodeName)&&!/^(fixed|absolute)/i.test(p.style.position)&&"true"!==f.getContentEditable(p)}function bZ(r){var p;f.isBlock(r)&&(p=k.getRng(),r.appendChild(f.create("span",null,"\xa0")),k.select(r),r.lastChild.outerHTML="",k.setRng(p))}function bY(v){for(var p=v,w=[],u;p=p.firstChild;){if(f.isBlock(p)){return}1!=p.nodeType||m[p.nodeName.toLowerCase()]||w.push(p)}for(u=w.length;u--;){p=w[u],!p.hasChildNodes()||p.firstChild==p.lastChild&&""===p.firstChild.nodeValue?f.remove(p):"A"==p.nodeName&&" "===(p.innerText||p.textContent)&&f.remove(p)}}function at(v){var y,x,u,w=v,p;if(u=f.createRng(),v.hasChildNodes()){for(y=new b(v,v);x=y.current();){if(3==x.nodeType){u.setStart(x,0),u.setEnd(x,0);break}if(m[x.nodeName.toLowerCase()]){u.setStartBefore(x),u.setEndBefore(x);break}w=x,x=y.next()}x||(u.setStart(w,0),u.setEnd(w,0))}else{"BR"==v.nodeName?v.nextSibling&&f.isBlock(v.nextSibling)?((!n||9>n)&&(p=f.create("br"),v.parentNode.insertBefore(p,v)),u.setStartBefore(v),u.setEndBefore(v)):(u.setStartAfter(v),u.setEndAfter(v)):(u.setStart(v,0),u.setEnd(v,0))}k.setRng(u),f.remove(p),k.scrollIntoView(v)}function bW(w){var p=bV,v,x,u;if(v=w||"TABLE"==t?f.create(w||o):i.cloneNode(!1),u=v,e.keep_styles!==!1){do{if(/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(p.nodeName)){if("_mce_caret"==p.id){continue}x=p.cloneNode(!1),f.setAttrib(x,"id",""),v.hasChildNodes()?(x.appendChild(v.firstChild),v.appendChild(x)):(u=x,v.appendChild(x))}}while(p=p.parentNode)}return c||(u.innerHTML='<br data-mce-bogus="1">'),v}function bt(u){var w,v,p;if(3==bV.nodeType&&(u?l>0:l<bV.nodeValue.length)){return !1}if(bV.parentNode==i&&q&&!u){return !0}if(u&&1==bV.nodeType&&bV==i.firstChild){return !0}if("TABLE"===bV.nodeName||bV.previousSibling&&"TABLE"==bV.previousSibling.nodeName){return q&&!u||!q&&u}for(w=new b(bV,i),3==bV.nodeType&&(u&&0===l?w.prev():u||l!=bV.nodeValue.length||w.next());v=w.current();){if(1===v.nodeType){if(!v.getAttribute("data-mce-bogus")&&(p=v.nodeName.toLowerCase(),m[p]&&"br"!==p)){return !1}}else{if(3===v.nodeType&&!/^[ \t\r\n]*$/.test(v.nodeValue)){return !1}}u?w.prev():w.next()}return !0}function bX(x,v){var p,u,B,C,A,y,w=o||"P";if(u=f.getParent(x,f.isBlock),y=g.getBody().nodeName.toLowerCase(),!u||!Q(u)){if(u=u||U,!u.hasChildNodes()){return p=f.create(w),u.appendChild(p),b1.setStart(p,0),b1.setEnd(p,0),p}for(C=x;C.parentNode!=u;){C=C.parentNode}for(;C&&!f.isBlock(C);){B=C,C=C.previousSibling}if(B&&d.isValidChild(y,w.toLowerCase())){for(p=f.create(w),B.parentNode.insertBefore(p,B),C=B;C&&!f.isBlock(C);){A=C.nextSibling,p.appendChild(C),C=A}b1.setStart(x,v),b1.setEnd(x,v)}}return x}function K(){function r(w){for(var v=z[w?"firstChild":"lastChild"];v&&1!=v.nodeType;){v=v[w?"nextSibling":"previousSibling"]}return v===i}function p(){var v=z.parentNode;return"LI"==v.nodeName?v:z}var u=z.parentNode.nodeName;/^(OL|UL|LI)$/.test(u)&&(o="LI"),Y=o?bW(o):f.create("BR"),r(!0)&&r()?"LI"==u?f.insertAfter(Y,p()):f.replace(Y,z):r(!0)?"LI"==u?(f.insertAfter(Y,p()),Y.appendChild(f.doc.createTextNode(" ")),Y.appendChild(z)):z.parentNode.insertBefore(Y,z):r()?(f.insertAfter(Y,p()),bZ(Y)):(z=p(),s=b1.cloneRange(),s.setStartAfter(i),s.setEndAfter(z),V=s.extractContents(),f.insertAfter(V,z),f.insertAfter(Y,z)),f.remove(i),at(Y),h.add()}function F(){for(var p=new b(bV,i),r;r=p.next();){if(m[r.nodeName.toLowerCase()]||r.length>0){return !0}}}function b0(){var v,p,u;bV&&3==bV.nodeType&&l>=bV.nodeValue.length&&(c||F()||(v=f.create("br"),b1.insertNode(v),b1.setStartAfter(v),b1.setEndAfter(v),p=!0)),v=f.create("br"),b1.insertNode(v),c&&"PRE"==t&&(!n||8>n)&&v.parentNode.insertBefore(f.doc.createTextNode("\r"),v),u=f.create("span",{},"&nbsp;"),v.parentNode.insertBefore(u,v),k.scrollIntoView(u),f.remove(u),p?(b1.setStartBefore(v),b1.setEndBefore(v)):(b1.setStartAfter(v),b1.setEndAfter(v)),k.setRng(b1),h.add()}function W(p){do{3===p.nodeType&&(p.nodeValue=p.nodeValue.replace(/^[\r\n]+/,"")),p=p.firstChild}while(p)}function G(v){var p=f.getRoot(),w,u;for(w=v;w!==p&&"false"!==f.getContentEditable(w);){"true"===f.getContentEditable(w)&&(u=w),w=w.parentNode}return w!==p?u:p}function J(r){var p;c||(r.normalize(),p=r.lastChild,(!p||/^(left|right)$/gi.test(f.getStyle(p,"float",!0)))&&f.add(r,"br"))}var b1=k.getRng(!0),s,U,bV,l,i,n,Z,Y,V,z,t,I,o,q;if(!b1.collapsed){return g.execCommand("Delete"),void 0}if(!X.isDefaultPrevented()&&(bV=b1.startContainer,l=b1.startOffset,o=(e.force_p_newlines?"p":"")||e.forced_root_block,o=o?o.toUpperCase():"",n=f.doc.documentMode,Z=X.shiftKey,1==bV.nodeType&&bV.hasChildNodes()&&(q=l>bV.childNodes.length-1,bV=bV.childNodes[Math.min(l,bV.childNodes.length-1)]||bV,l=q&&3==bV.nodeType?bV.nodeValue.length:0),U=G(bV))){if(h.beforeChange(),!f.isBlock(U)&&U!=f.getRoot()){return(!o||Z)&&b0(),void 0}if((o&&!Z||!o&&Z)&&(bV=bX(bV,l)),i=f.getParent(bV,f.isBlock),z=i?f.getParent(i.parentNode,f.isBlock):null,t=i?i.nodeName.toUpperCase():"",I=z?z.nodeName.toUpperCase():"","LI"!=I||X.ctrlKey||(i=z,t=I),"LI"==t){if(!o&&Z){return b0(),void 0}if(f.isEmpty(i)){return K(),void 0}}if("PRE"==t&&e.br_in_pre!==!1){if(!Z){return b0(),void 0}}else{if(!o&&!Z&&"LI"!=t||o&&Z){return b0(),void 0}}o&&i===g.getBody()||(o=o||"P",bt()?(Y=/^(H[1-6]|PRE|FIGURE)$/.test(t)&&"HGROUP"!=I?bW(o):bW(),e.end_container_on_empty_block&&Q(z)&&f.isEmpty(i)?Y=f.split(z,i):f.insertAfter(Y,i),at(Y)):bt(!0)?(Y=i.parentNode.insertBefore(bW(),i),bZ(Y)):(s=b1.cloneRange(),s.setEndAfter(i),V=s.extractContents(),W(V),Y=V.firstChild,f.insertAfter(V,i),bY(Y),J(i),at(Y)),f.setAttrib(Y,"id",""),h.add())}}var f=g.dom,k=g.selection,e=g.settings,h=g.undoManager,d=g.schema,m=d.getNonEmptyElements();g.on("keydown",function(i){13==i.keyCode&&j(i)!==!1&&i.preventDefault()})}}),aD(br,[],function(){return function(g){function d(){var F=c.getStart(),G=g.getBody(),k,w,E,r,q,e,n,i=-16777215,o,D,A,z,a;if(a=j.forced_root_block,F&&1===F.nodeType&&a){for(;F&&F!=G;){if(b[F.nodeName]){return}F=F.parentNode}if(k=c.getRng(),k.setStart){w=k.startContainer,E=k.startOffset,r=k.endContainer,q=k.endOffset;try{D=g.getDoc().activeElement===G}catch(B){}}else{k.item&&(F=k.item(0),k=g.getDoc().body.createTextRange(),k.moveToElementText(F)),D=k.parentElement().ownerDocument===g.getDoc(),A=k.duplicate(),A.collapse(!0),E=-1*A.move("character",i),A.collapsed||(A=k.duplicate(),A.collapse(!1),q=-1*A.move("character",i)-E)}for(F=G.firstChild,z=G.nodeName.toLowerCase();F;){if((3===F.nodeType||1==F.nodeType&&!b[F.nodeName])&&h.isValidChild(z,a.toLowerCase())){if(3===F.nodeType&&0===F.nodeValue.length){n=F,F=F.nextSibling,f.remove(n);continue}e||(e=f.create(a),F.parentNode.insertBefore(e,F),o=!0),n=F,F=F.nextSibling,e.appendChild(n)}else{e=null,F=F.nextSibling}}if(o&&D){if(k.setStart){k.setStart(w,E),k.setEnd(r,q),c.setRng(k)}else{try{k=g.getDoc().body.createTextRange(),k.moveToElementText(G),k.collapse(!0),k.moveStart("character",E),q>0&&k.moveEnd("character",q),k.select()}catch(B){}}g.nodeChanged()}}}var j=g.settings,f=g.dom,c=g.selection,h=g.schema,b=h.getBlockElements();j.forced_root_block&&g.on("NodeChange",d)}}),aD(bh,[bv,aR,aH],function(p,h,b){var k=b.each,g=b.extend,v=b.map,x=b.inArray,j=b.explode,t=h.gecko,w=h.ie,q=!0,m=!1;return function(e){function a(E,y,H){var C;return E=E.toLowerCase(),(C=D.exec[E])?(C(E,y,H),q):m}function d(r){var n;return r=r.toLowerCase(),(n=D.state[r])?n(r):-1}function l(r){var n;return r=r.toLowerCase(),(n=D.value[r])?n(r):m}function f(r,n){n=n||"exec",k(r,function(y,C){k(C.toLowerCase().split(","),function(E){D[n][E]=y})})}function o(C,y,n){return y===aB&&(y=m),n===aB&&(n=null),e.getDoc().execCommand(C,y,n)}function F(n){return G.match(n)}function z(y,n){G.toggle(y,n?{value:n}:aB),e.nodeChanged()}function u(n){i=B.getBookmark(n)}function c(){B.moveToBookmark(i)}var A=e.dom,B=e.selection,D={state:{},exec:{},value:{}},s=e.settings,G=e.formatter,i;g(this,{execCommand:a,queryCommandState:d,queryCommandValue:l,addCommands:f}),f({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){e.undoManager.add()},"Cut,Copy,Paste":function(E){var y=e.getDoc(),C;try{o(E)}catch(n){C=q}(C||!y.queryCommandSupported(E))&&e.windowManager.alert("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.")},unlink:function(n){B.isCollapsed()&&B.select(B.getNode()),o(n),B.collapse(m)},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(r){var n=r.substring(7);"full"==n&&(n="justify"),k("left,center,right,justify".split(","),function(y){n!=y&&G.remove("align"+y)}),z("align"+n),a("mceRepaint")},"InsertUnorderedList,InsertOrderedList":function(y){var r,C;o(y),r=A.getParent(B.getNode(),"ol,ul"),r&&(C=r.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(C.nodeName)&&(u(),A.split(C,r),c()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(n){z(n)},"ForeColor,HiliteColor,FontName":function(y,r,C){z(y,C)},FontSize:function(H,C,I){var E,y;I>=1&&7>=I&&(y=j(s.font_size_style_values),E=j(s.font_size_classes),I=E?E[I-1]||I:y[I-1]||I),z(H,I)},RemoveFormat:function(n){G.remove(n)},mceBlockQuote:function(){z("blockquote")},FormatBlock:function(y,r,C){return z(C||"p")},mceCleanup:function(){var n=B.getBookmark();e.setContent(e.getContent({cleanup:q}),{cleanup:q}),B.moveToBookmark(n)},mceRemoveNode:function(E,y,C){var n=C||B.getNode();n!=e.getBody()&&(u(),e.dom.remove(n,q),c())},mceSelectNodeDepth:function(E,y,C){var n=0;A.getParent(B.getNode(),function(r){return 1==r.nodeType&&n++==C?(B.select(r),m):void 0},e.getBody())},mceSelectNode:function(y,r,C){B.select(C)},mceInsertContent:function(H,K,P){function M(Y){function C(r){return X[r]&&3==X[r].nodeType}var Z,X,y;return Z=B.getRng(!0),X=Z.startContainer,y=Z.startOffset,3==X.nodeType&&(y>0?Y=Y.replace(/^&nbsp;/," "):C("previousSibling")||(Y=Y.replace(/^ /,"&nbsp;")),y<X.length?Y=Y.replace(/&nbsp;(<br>|)$/," "):C("nextSibling")||(Y=Y.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),Y}var W,I,O,U,T,S,L,Q,N,R,E,n,V,J;if(/^ | $/.test(P)&&(P=M(P)),W=e.parser,I=new p({},e.schema),V='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',S={content:P,format:"html",selection:!0},e.fire("BeforeSetContent",S),P=S.content,-1==P.indexOf("{$caret}")&&(P+="{$caret}"),P=P.replace(/\{\$caret\}/,V),B.isCollapsed()||e.getDoc().execCommand("Delete",!1,null),O=B.getNode(),S={context:O.nodeName.toLowerCase()},T=W.parse(P,S),E=T.lastChild,"mce_marker"==E.attr("id")){for(L=E,E=E.prev;E;E=E.walk(!0)){if(3==E.type||!A.isBlock(E.name)){E.parent.insert(L,E,"br"===E.name);break}}}if(S.invalid){for(B.setContent(V),O=B.getNode(),U=e.getBody(),9==O.nodeType?O=E=U:E=O;E!==U;){O=E,E=E.parentNode}P=O==U?U.innerHTML:A.getOuterHTML(O),P=I.serialize(W.parse(P.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return I.serialize(T)}))),O==U?A.setHTML(U,P):A.setOuterHTML(O,P)}else{P=I.serialize(T),E=O.firstChild,n=O.lastChild,!E||E===n&&"BR"===E.nodeName?A.setHTML(O,P):B.setContent(P)}L=A.get("mce_marker"),Q=A.getRect(L),N=A.getViewPort(e.getWin()),(Q.y+Q.h>N.y+N.h||Q.y<N.y||Q.x>N.x+N.w||Q.x<N.x)&&(J=w?e.getDoc().documentElement:e.getBody(),J.scrollLeft=Q.x,J.scrollTop=Q.y-N.h+25),R=A.createRng(),E=L.previousSibling,E&&3==E.nodeType?(R.setStart(E,E.nodeValue.length),w||(n=L.nextSibling,n&&3==n.nodeType&&(E.appendData(n.data),n.parentNode.removeChild(n)))):(R.setStartBefore(L),R.setEndBefore(L)),A.remove(L),B.setRng(R),e.fire("SetContent",S),e.addVisual()},mceInsertRawHTML:function(C,n,y){B.setContent("tiny_mce_marker"),e.setContent(e.getContent().replace(/tiny_mce_marker/g,function(){return y}))},mceToggleFormat:function(y,r,C){z(C)},mceSetContent:function(C,n,y){e.setContent(y)},"Indent,Outdent":function(E){var y,H,C;y=s.indentation,H=/[a-z%]+$/i.exec(y),y=parseInt(y,10),d("InsertUnorderedList")||d("InsertOrderedList")?o(E):(s.forced_root_block||A.getParent(B.getNode(),A.isBlock)||G.apply("div"),k(B.getSelectedBlocks(),function(n){var r;"LI"!=n.nodeName&&(r="rtl"==A.getStyle(n,"direction",!0)?"paddingRight":"paddingLeft","outdent"==E?(C=Math.max(0,parseInt(n.style[r]||0,10)-y),A.setStyle(n,r,C?C+H:"")):(C=parseInt(n.style[r]||0,10)+y+H,A.setStyle(n,r,C)))}))},mceRepaint:function(){if(t){try{u(q),B.getSel()&&B.getSel().selectAllChildren(e.getBody()),B.collapse(q),c()}catch(n){}}},InsertHorizontalRule:function(){e.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){e.hasVisual=!e.hasVisual,e.addVisual()},mceReplaceContent:function(C,n,y){e.execCommand("mceInsertContent",!1,y.replace(/\{\$selection\}/g,B.getContent({format:"text"})))},mceInsertLink:function(E,y,H){var C;"string"==typeof H&&(H={href:H}),C=A.getParent(B.getNode(),"a"),H.href=H.href.replace(" ","%20"),C&&H.href||G.remove("link"),H.href&&G.apply("link",H,C)},selectAll:function(){var r=A.getRoot(),n=A.createRng();B.getRng().setStart?(n.setStart(r,0),n.setEnd(r,r.childNodes.length),B.setRng(n)):o("SelectAll")},mceNewDocument:function(){e.setContent("")}}),f({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(E){var y="align"+E.substring(7),H=B.isCollapsed()?[A.getParent(B.getNode(),A.isBlock)]:B.getSelectedBlocks(),C=v(H,function(n){return !!G.matchNode(n,y)});return -1!==x(C,q)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(n){return F(n)},mceBlockQuote:function(){return F("blockquote")},Outdent:function(){var n;if(s.inline_styles){if((n=A.getParent(B.getStart(),A.isBlock))&&parseInt(n.style.paddingLeft,10)>0){return q}if((n=A.getParent(B.getEnd(),A.isBlock))&&parseInt(n.style.paddingLeft,10)>0){return q}}return d("InsertUnorderedList")||d("InsertOrderedList")||!s.inline_styles&&!!A.getParent(B.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(r){var n=A.getParent(B.getNode(),"ul,ol");return n&&("insertunorderedlist"===r&&"UL"===n.tagName||"insertorderedlist"===r&&"OL"===n.tagName)}},"state"),f({"FontSize,FontName":function(y){var r=0,C;return(C=A.getParent(B.getNode(),"span"))&&(r="fontsize"==y?C.style.fontSize:C.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),r}},"value"),f({Undo:function(){e.undoManager.undo()},Redo:function(){e.undoManager.redo()}})}}),aD(bi,[aH],function(c){function a(j,g){var k=this,f,h;return j=b(j),g=k.settings=g||{},/^([\w\-]+):([^\/]{2})/i.test(j)||/^\s*#/.test(j)?(k.source=j,void 0):(0===j.indexOf("/")&&0!==j.indexOf("//")&&(j=(g.base_uri?g.base_uri.protocol||"http":"http")+"://mce_host"+j),/^[\w\-]*:?\/\//.test(j)||(h=g.base_uri?g.base_uri.path:new a(location.href).directory,j=(g.base_uri&&g.base_uri.protocol||"http")+"://mce_host"+k.toAbsPath(h,j)),j=j.replace(/@@/g,"(mce_at)"),j=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(j),d(["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],function(e,l){var i=j[l];i&&(i=i.replace(/\(mce_at\)/g,"@@")),k[e]=i}),f=g.base_uri,f&&(k.protocol||(k.protocol=f.protocol),k.userInfo||(k.userInfo=f.userInfo),k.port||"mce_host"!==k.host||(k.port=f.port),k.host&&"mce_host"!==k.host||(k.host=f.host),k.source=""),void 0)}var d=c.each,b=c.trim;return a.prototype={setPath:function(g){var f=this;g=/^(.*?)\/?(\w+)?$/.exec(g),f.path=g[0],f.directory=g[1],f.file=g[2],f.source="",f.getURI()},toRelative:function(h){var k=this,g;if("./"===h){return h}if(h=new a(h,{base_uri:k}),"mce_host"!=h.host&&k.host!=h.host&&h.host||k.port!=h.port||k.protocol!=h.protocol){return h.getURI()}var f=k.getURI(),j=h.getURI();return f==j||"/"==f.charAt(f.length-1)&&f.substr(0,f.length-1)==j?f:(g=k.toRelPath(k.path,h.path),h.query&&(g+="?"+h.query),h.anchor&&(g+="#"+h.anchor),g)},toAbsolute:function(f,g){return f=new a(f,{base_uri:this}),f.getURI(this.host==f.host&&this.protocol==f.protocol?g:0)},toRelPath:function(k,h){var m,j=0,g="",l,f;if(k=k.substring(0,k.lastIndexOf("/")),k=k.split("/"),m=h.split("/"),k.length>=m.length){for(l=0,f=k.length;f>l;l++){if(l>=m.length||k[l]!=m[l]){j=l+1;break}}}if(k.length<m.length){for(l=0,f=m.length;f>l;l++){if(l>=k.length||k[l]!=m[l]){j=l+1;break}}}if(1===j){return h}for(l=0,f=k.length-(j-1);f>l;l++){g+="../"}for(l=j-1,f=m.length;f>l;l++){g+=l!=j-1?"/"+m[l]:m[l]}return g},toAbsPath:function(l,h){var k,g=0,m=[],f,j;for(f=/\/$/.test(h)?"/":"",l=l.split("/"),h=h.split("/"),d(l,function(i){i&&m.push(i)}),l=m,k=h.length-1,m=[];k>=0;k--){0!==h[k].length&&"."!==h[k]&&(".."!==h[k]?g>0?g--:m.push(h[k]):g++)}return k=l.length-g,j=0>=k?m.reverse().join("/"):l.slice(0,k).join("/")+"/"+m.reverse().join("/"),0!==j.indexOf("/")&&(j="/"+j),f&&j.lastIndexOf("/")!==j.length-1&&(j+=f),j},getURI:function(g){var f,h=this;return(!h.source||g)&&(f="",g||(h.protocol&&(f+=h.protocol+"://"),h.userInfo&&(f+=h.userInfo+"@"),h.host&&(f+=h.host),h.port&&(f+=":"+h.port)),h.path&&(f+=h.path),h.query&&(f+="?"+h.query),h.anchor&&(f+="#"+h.anchor),h.source=f),h.source}},a}),aD(bq,[aH],function(d){function b(){}var g=d.each,c=d.extend,a,f;return b.extend=a=function(j){function p(){var u,l,v,s;if(!f&&(s=this,s.init&&s.init.apply(s,arguments),l=s.Mixins)){for(u=l.length;u--;){v=l[u],v.init&&v.init.apply(s,arguments)}}}function n(){return this}function q(r,l){return function(){var t=this,s=t._super,e;return t._super=m[r],e=l.apply(t,arguments),t._super=s,e}}var h=this,m=h.prototype,o,k,i;f=!0,o=new h,f=!1,j.Mixins&&(g(j.Mixins,function(e){e=e;for(var l in e){"init"!==l&&(j[l]=e[l])}}),m.Mixins&&(j.Mixins=m.Mixins.concat(j.Mixins))),j.Methods&&g(j.Methods.split(","),function(e){j[e]=n}),j.Properties&&g(j.Properties.split(","),function(e){var l="_"+e;j[e]=function(v){var s=this,u;return v!==u?(s[l]=v,s):s[l]}}),j.Statics&&g(j.Statics,function(l,r){p[r]=l}),j.Defaults&&m.Defaults&&(j.Defaults=c({},m.Defaults,j.Defaults));for(k in j){i=j[k],o[k]="function"==typeof i&&m[k]?q(k,i):i}return p.prototype=o,p.constructor=p,p.extend=a,p},b}),aD(bu,[bq,aH],function(h,d){function k(l){for(var a=[],m=l.length,i;m--;){i=l[m],i.__checked||(a.push(i),i.__checked=1)}for(m=a.length;m--;){delete a[m].__checked}return a}var g=/^([\w\\*]+)?(?:#([\w\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,c=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,j=/^\s*|\s*$/g,b,f=h.extend({init:function(o){function w(a){return a?(a=a.toLowerCase(),function(e){return"*"===a||e.type===a}):void 0}function i(a){return a?function(e){return e._name===a}:void 0}function r(a){return a?(a=a.split("."),function(e){for(var l=a.length;l--;){if(!e.hasClass(a[l])){return !1}}return !0}):void 0}function x(l,a,s){return l?function(n){var e=n[l]?n[l]():"";return a?"="===a?e===s:"*="===a?e.indexOf(s)>=0:"~="===a?(" "+e+" ").indexOf(" "+s+" ")>=0:"!="===a?e!=s:"^="===a?0===e.indexOf(s):"$="===a?e.substr(e.length-s.length)===s:!1:!!s}:void 0}function m(l){var a;return l?(l=/(?:not\((.+)\))|(.+)/i.exec(l),l[1]?(a=v(l[1],[]),function(n){return !p(n,a)}):(l=l[2],function(e,u,s){return"first"===l?0===u:"last"===l?u===s-1:"even"===l?0===u%2:"odd"===l?1===u%2:e[l]?e[l]():!1})):void 0}function q(n,l,t){function a(u){u&&l.push(u)}var s;return s=g.exec(n.replace(j,"")),a(w(s[1])),a(i(s[2])),a(r(s[3])),a(x(s[4],s[5],s[6])),a(m(s[7])),l.psuedo=!!s[7],l.direct=t,l}function v(y,s){var A=[],u,z,l;do{if(c.exec(""),z=c.exec(y),z&&(y=z[3],A.push(z[1]),z[2])){u=z[3];break}}while(z);for(u&&v(u,s),y=[],l=0;l<A.length;l++){">"!=A[l]&&y.push(q(A[l],[],">"===A[l-1]))}return s.push(y),s}var p=this.match;this._selectors=v(o,[])},match:function(C,w){var q,z,v,F,H,y,E,G,D,B,t,A,x;for(w=w||this._selectors,q=0,z=w.length;z>q;q++){for(H=w[q],F=H.length,x=C,A=0,v=F-1;v>=0;v--){for(G=H[v];x;){for(G.psuedo&&(t=x.parent().items(),D=d.inArray(x,t),B=t.length),y=0,E=G.length;E>y;y++){if(!G[y](x,D,B)){y=E+1;break}}if(y===E){A++;break}if(v===F-1){break}x=x.parent()}}if(A===F){return !0}}return !1},find:function(q){function n(x,t,w){var r,z,B,v,y,A=t[w];for(r=0,z=x.length;z>r;r++){for(y=x[r],B=0,v=A.length;v>B;B++){if(!A[B](y,r,z)){B=v+1;break}}if(B===v){w==t.length-1?p.push(y):y.items&&n(y.items(),t,w+1)}else{if(A.direct){return}}y.items&&n(y.items(),t,w)}}var p=[],m,s,a=this._selectors;if(q.items){for(m=0,s=a.length;s>m;m++){n(q.items(),a[m],0)}s>1&&(p=k(p))}return b||(b=f.Collection),new b(p)}});return f}),aD(a7,[aH,bu,bq],function(g,d,j){var f,c,h=Array.prototype.push,b=Array.prototype.slice;return c={length:0,init:function(a){a&&this.add(a)},add:function(a){var e=this;return g.isArray(a)?h.apply(e,a):a instanceof f?e.add(a.toArray()):h.call(e,a),e},set:function(k){var a=this,l=a.length,i;for(a.length=0,a.add(k),i=a.length;l>i;i++){delete a[i]}return a},filter:function(r){var u=this,p,t,m=[],q,k;for("string"==typeof r?(r=new d(r),k=function(a){return r.match(a)}):k=r,p=0,t=u.length;t>p;p++){q=u[p],k(q)&&m.push(q)}return new f(m)},slice:function(){return new f(b.apply(this,arguments))},eq:function(a){return -1===a?this.slice(a):this.slice(a,+a+1)},each:function(a){return g.each(this,a),this},toArray:function(){return g.toArray(this)},indexOf:function(i){for(var a=this,k=a.length;k--&&a[k]!==i;){}return k},reverse:function(){return new f(g.toArray(this).reverse())},hasClass:function(a){return this[0]?this[0].hasClass(a):!1},prop:function(m,k){var o=this,l,a;return k!==l?(o.each(function(e){e[m]&&e[m](k)}),o):(a=o[0],a&&a[m]?a[m]():void 0)},exec:function(a){var i=this,e=g.toArray(arguments).slice(1);return i.each(function(k){k[a]&&k[a].apply(k,e)}),i},remove:function(){for(var a=this.length;a--;){this[a].remove()}return this}},g.each("fire on off show hide addClass removeClass append prepend before after reflow".split(" "),function(a){c[a]=function(){var e=g.toArray(arguments);return this.each(function(i){a in i&&i[a].apply(i,e)}),this}}),g.each("text name disabled active selected checked visible parent value data".split(" "),function(a){c[a]=function(e){return this.prop(a,e)}}),f=j.extend(c),d.Collection=f,f}),aD(ar,[aH,az],function(b,a){return{id:function(){return a.DOM.uniqueId()},createFragment:function(c){return a.DOM.createFragment(c)},getWindowSize:function(){return a.DOM.getViewPort()},getSize:function(c){return a.DOM.getSize(c)},getPos:function(c,d){return a.DOM.getPos(c,d)},getViewPort:function(c){return a.DOM.getViewPort(c)},get:function(c){return document.getElementById(c)},addClass:function(c,d){return a.DOM.addClass(c,d)},removeClass:function(c,d){return a.DOM.removeClass(c,d)},hasClass:function(c,d){return a.DOM.hasClass(c,d)},toggleClass:function(d,f,c){return a.DOM.toggleClass(d,f,c)},css:function(d,f,c){return a.DOM.setStyle(d,f,c)},on:function(f,g,d,c){return a.DOM.bind(f,g,d,c)},off:function(d,f,c){return a.DOM.unbind(d,f,c)},fire:function(d,f,c){return a.DOM.fire(d,f,c)},innerHtml:function(c,d){a.DOM.setHTML(c,d)}}}),aD(a9,[bq,aH,a7,ar],function(h,k,d,b){var g=k.makeMap("focusin focusout scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave wheel keydown keypress keyup contextmenu"," "),c={},j="onmousewheel" in document,m=!1,f=h.extend({Statics:{controlIdLookup:{}},classPrefix:"mce-",init:function(l){var q=this,a,p;if(q.settings=l=k.extend({},q.Defaults,l),q._id=b.id(),q._text=q._name="",q._width=q._height=0,q._aria={role:l.role},a=l.classes){for(a=a.split(" "),a.map={},p=a.length;p--;){a.map[a[p]]=!0}}q._classes=a||[],q.visible(!0),k.each("title text width height name classes visible disabled active value".split(" "),function(n){var o=l[n],e;o!==e?q[n](o):q["_"+n]===e&&(q["_"+n]=!1)}),q.on("click",function(){return q.disabled()?!1:void 0}),l.classes&&k.each(l.classes.split(" "),function(i){q.addClass(i)}),q.settings=l,q._borderBox=q.parseBox(l.border),q._paddingBox=q.parseBox(l.padding),q._marginBox=q.parseBox(l.margin),l.hidden&&q.hide()},Properties:"parent,title,text,width,height,disabled,active,name,value",Methods:"renderHtml",getContainerElm:function(){return document.body},getParentCtrl:function(i){for(var a;i&&!(a=f.controlIdLookup[i.id]);){i=i.parentNode}return a},parseBox:function(i){var a,l=10;if(i){return"number"==typeof i?(i=i||0,{top:i,left:i,bottom:i,right:i}):(i=i.split(" "),a=i.length,1===a?i[1]=i[2]=i[3]=i[0]:2===a?(i[2]=i[0],i[3]=i[1]):3===a&&(i[3]=i[1]),{top:parseInt(i[0],l)||0,right:parseInt(i[1],l)||0,bottom:parseInt(i[2],l)||0,left:parseInt(i[3],l)||0})}},borderBox:function(){return this._borderBox},paddingBox:function(){return this._paddingBox},marginBox:function(){return this._marginBox},measureBox:function(l,a){function o(e){var p=document.defaultView;return p?(e=e.replace(/[A-Z]/g,function(n){return"-"+n}),p.getComputedStyle(l,null).getPropertyValue(e)):l.currentStyle[e]}function i(p){var n=parseInt(o(p),10);return isNaN(n)?0:n}return{top:i(a+"TopWidth"),right:i(a+"RightWidth"),bottom:i(a+"BottomWidth"),left:i(a+"LeftWidth")}},initLayoutRect:function(){var D=this,I=D.settings,x,q,A=D.getEl(),w,G,J,z,F,H,E;x=D._borderBox=D._borderBox||D.measureBox(A,"border"),D._paddingBox=D._paddingBox||D.measureBox(A,"padding"),D._marginBox=D._marginBox||D.measureBox(A,"margin"),H=I.minWidth,E=I.minHeight,J=H||A.offsetWidth,z=E||A.offsetHeight,w=I.width,G=I.height,F=I.autoResize,F="undefined"!=typeof F?F:!w&&!G,w=w||J,G=G||z;var C=x.left+x.right,v=x.top+x.bottom,B=I.maxWidth||65535,y=I.maxHeight||65535;return D._layoutRect=q={x:I.x||0,y:I.y||0,w:w,h:G,deltaW:C,deltaH:v,contentW:w-C,contentH:G-v,innerW:w-C,innerH:G-v,startMinWidth:H||0,startMinHeight:E||0,minW:Math.min(J,B),minH:Math.min(z,y),maxW:B,maxH:y,autoResize:F,scrollW:0},D._lastLayoutRect={},q},layoutRect:function(v){var y=this,q=y._layoutRect,l,u,p,x,z,w;return q||(q=y.initLayoutRect()),v?(p=q.deltaW,x=q.deltaH,v.x!==z&&(q.x=v.x),v.y!==z&&(q.y=v.y),v.minW!==z&&(q.minW=v.minW),v.minH!==z&&(q.minH=v.minH),u=v.w,u!==z&&(u=u<q.minW?q.minW:u,u=u>q.maxW?q.maxW:u,q.w=u,q.innerW=u-p),u=v.h,u!==z&&(u=u<q.minH?q.minH:u,u=u>q.maxH?q.maxH:u,q.h=u,q.innerH=u-x),u=v.innerW,u!==z&&(u=u<q.minW-p?q.minW-p:u,u=u>q.maxW-p?q.maxW-p:u,q.innerW=u,q.w=u+p),u=v.innerH,u!==z&&(u=u<q.minH-x?q.minH-x:u,u=u>q.maxH-x?q.maxH-x:u,q.innerH=u,q.h=u+x),v.contentW!==z&&(q.contentW=v.contentW),v.contentH!==z&&(q.contentH=v.contentH),l=y._lastLayoutRect,(l.x!==q.x||l.y!==q.y||l.w!==q.w||l.h!==q.h)&&(w=f.repaintControls,w&&w.map&&!w.map[y._id]&&(w.push(y),w.map[y._id]=!0),l.x=q.x,l.y=q.y,l.w=q.w,l.h=q.h),y):q},repaint:function(){var w=this,q,y,v,p,x=0,l=0,u;q=w.getEl().style,v=w._layoutRect,u=w._lastRepaintRect||{},p=w._borderBox,x=p.left+p.right,l=p.top+p.bottom,v.x!==u.x&&(q.left=v.x+"px",u.x=v.x),v.y!==u.y&&(q.top=v.y+"px",u.y=v.y),v.w!==u.w&&(q.width=v.w-x+"px",u.w=v.w),v.h!==u.h&&(q.height=v.h-l+"px",u.h=v.h),w._hasBody&&v.innerW!==u.innerW&&(y=w.getEl("body").style,y.width=v.innerW+"px",u.innerW=v.innerW),w._hasBody&&v.innerH!==u.innerH&&(y=y||w.getEl("body").style,y.height=v.innerH+"px",u.innerH=v.innerH),w._lastRepaintRect=u,w.fire("repaint",{},!1)},on:function(w,q){function y(l){var a,o;return function(e){return a||v.parents().each(function(s){var n=s.settings.callbacks;return n&&(a=n[l])?(o=s,!1):void 0}),a.call(o,e)}}var v=this,x,p,u,i;if(q){for("string"==typeof q&&(q=y(q)),u=w.toLowerCase().split(" "),i=u.length;i--;){w=u[i],x=v._bindings,x||(x=v._bindings={}),p=x[w],p||(p=x[w]=[]),p.push(q),g[w]&&(v._nativeEvents?v._nativeEvents[w]=!0:v._nativeEvents={name:!0},v._rendered&&v.bindPendingEvents())}}return v},off:function(x,z){var u=this,p,w=u._bindings,q,y,A,v;if(w){if(x){for(A=x.toLowerCase().split(" "),p=A.length;p--;){if(x=A[p],q=w[x],!x){for(y in w){w[y].length=0}return u}if(q){if(z){for(v=q.length;v--;){q[v]===z&&q.splice(v,1)}}else{q.length=0}}}}else{u._bindings=[]}}return u},fire:function(x,A,u){function p(){return !1}function w(){return !0}var q=this,z,B,v,y;if(x=x.toLowerCase(),A=A||{},A.type||(A.type=x),A.control||(A.control=q),A.preventDefault||(A.preventDefault=function(){A.isDefaultPrevented=w},A.stopPropagation=function(){A.isPropagationStopped=w},A.stopImmediatePropagation=function(){A.isImmediatePropagationStopped=w},A.isDefaultPrevented=p,A.isPropagationStopped=p,A.isImmediatePropagationStopped=p),q._bindings&&(v=q._bindings[x])){for(z=0,B=v.length;B>z&&(A.isImmediatePropagationStopped()||v[z].call(q,A)!==!1);z++){}}if(u!==!1){for(y=q.parent();y&&!A.isPropagationStopped();){y.fire(x,A,!1),y=y.parent()}}return A},parents:function(l){var a=this,i=new d;for(a=a.parent();a;a=a.parent()){i.add(a)}return l&&(i=i.filter(l)),i},next:function(){var a=this.parent().items();return a[a.indexOf(this)+1]},prev:function(){var a=this.parent().items();return a[a.indexOf(this)-1]},findCommonAncestor:function(i,a){for(var l;i;){for(l=a;l&&i!=l;){l=l.parent()}if(i==l){break}i=i.parent()}return i},hasClass:function(i,a){var l=this._classes[a||"control"];return i=this.classPrefix+i,l&&!!l.map[i]},addClass:function(p,l){var q=this,o,a;return p=this.classPrefix+p,o=q._classes[l||"control"],o||(o=[],o.map={},q._classes[l||"control"]=o),o.map[p]||(o.map[p]=p,o.push(p),q._rendered&&(a=q.getEl(l),a&&(a.className=o.join(" ")))),q},removeClass:function(q,l){var u=this,p,a,s;if(q=this.classPrefix+q,p=u._classes[l||"control"],p&&p.map[q]){for(delete p.map[q],a=p.length;a--;){p[a]===q&&p.splice(a,1)}}return u._rendered&&(s=u.getEl(l),s&&(s.className=p.join(" "))),u},toggleClass:function(l,a,o){var i=this;return a?i.addClass(l,o):i.removeClass(l,o),i},classes:function(i){var a=this._classes[i||"control"];return a?a.join(" "):""},innerHtml:function(a){return b.innerHtml(this.getEl(),a),this},getEl:function(o,l){var p,a=o?this._id+"-"+o:this._id;return p=c[a]=(l===!0?null:c[a])||b.get(a)},visible:function(i){var a=this,l;return"undefined"!=typeof i?(a._visible!==i&&(a._rendered&&(a.getEl().style.display=i?"":"none"),a._visible=i,l=a.parent(),l&&(l._lastRect=null),a.fire(i?"show":"hide")),a):a._visible},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(a){}return this},blur:function(){return this.getEl().blur(),this},aria:function(l,a){var o=this,i=o.getEl();return"undefined"==typeof a?o._aria[l]:(o._aria[l]=a,o._rendered&&("label"==l&&i.setAttribute("aria-labeledby",o._id),i.setAttribute("role"==l?l:"aria-"+l,a)),o)},encode:function(i,a){return a!==!1&&f.translate&&(i=f.translate(i)),(i||"").replace(/[&<>"]/g,function(l){return"&#"+l.charCodeAt(0)+";"})},before:function(i){var a=this,l=a.parent();return l&&l.insert(i,l.items().indexOf(a),!0),a},after:function(i){var a=this,l=a.parent();return l&&l.insert(i,l.items().indexOf(a)),a},remove:function(){var r=this,q=r.getEl(),u=r.parent(),p;if(r.items){for(var s=r.items().toArray(),l=s.length;l--;){s[l].remove()}}return u&&u.items&&(p=[],u.items().each(function(a){a!==r&&p.push(a)}),u.items().set(p),u._lastRect=null),r._eventsRoot&&r._eventsRoot==r&&b.off(q),delete f.controlIdLookup[r._id],q.parentNode&&q.parentNode.removeChild(q),r},renderBefore:function(i){var a=this;return i.parentNode.insertBefore(b.createFragment(a.renderHtml()),i),a.postRender(),a},renderTo:function(i){var a=this;return i=i||a.getContainerElm(),i.appendChild(b.createFragment(a.renderHtml())),a.postRender(),a},postRender:function(){var u=this,q=u.settings,x,p,v,l,r;for(l in q){0===l.indexOf("on")&&u.on(l.substr(2),q[l])}if(u._eventsRoot){for(v=u.parent();!r&&v;v=v.parent()){r=v._eventsRoot}if(r){for(l in r._nativeEvents){u._nativeEvents[l]=!0}}}u.bindPendingEvents(),q.style&&(x=u.getEl(),x&&(x.setAttribute("style",q.style),x.style.cssText=q.style)),u._visible||b.css(u.getEl(),"display","none"),u.settings.border&&(p=u.borderBox(),b.css(u.getEl(),{"border-top-width":p.top,"border-right-width":p.right,"border-bottom-width":p.bottom,"border-left-width":p.left})),f.controlIdLookup[u._id]=u;for(var w in u._aria){u.aria(w,u._aria[w])}u.fire("postrender",{},!1)},scrollIntoView:function(y){function C(s,l){var u,o,a=s;for(u=o=0;a&&a!=l&&a.nodeType;){u+=a.offsetLeft||0,o+=a.offsetTop||0,a=a.offsetParent}return{x:u,y:o}}var v=this.getEl(),p=v.parentNode,x,q,A,D,w,z,B=C(v,p);return x=B.x,q=B.y,A=v.offsetWidth,D=v.offsetHeight,w=p.clientWidth,z=p.clientHeight,"end"==y?(x-=w-A,q-=z-D):"center"==y&&(x-=w/2-A/2,q-=z/2-D/2),p.scrollLeft=x,p.scrollTop=q,this},bindPendingEvents:function(){function x(l){var i=q.getParentCtrl(l.target);i&&i.fire(l.type,l)}function B(){var i=y._lastHoverCtrl;i&&(i.fire("mouseleave",{target:i.getEl()}),i.parents().each(function(l){l.fire("mouseleave",{target:l.getEl()})}),y._lastHoverCtrl=null)}function r(D){var p=q.getParentCtrl(D.target),E=y._lastHoverCtrl,C=0,o,l,u;if(p!==E){if(y._lastHoverCtrl=p,l=p.parents().toArray().reverse(),l.push(p),E){for(u=E.parents().toArray().reverse(),u.push(E),C=0;C<u.length&&l[C]===u[C];C++){}for(o=u.length-1;o>=C;o--){E=u[o],E.fire("mouseleave",{target:E.getEl()})}}for(o=C;o<l.length;o++){p=l[o],p.fire("mouseenter",{target:p.getEl()})}}}function v(i){i.preventDefault(),"mousewheel"==i.type?(i.deltaY=-1/40*i.wheelDelta,i.wheelDeltaX&&(i.deltaX=-1/40*i.wheelDeltaX)):(i.deltaX=0,i.deltaY=i.detail),i=q.fire("wheel",i)}var q=this,s,z,A,y,w,a;if(q._rendered=!0,w=q._nativeEvents){for(A=q.parents().toArray(),A.unshift(q),s=0,z=A.length;!y&&z>s;s++){y=A[s]._eventsRoot}for(y||(y=A[A.length-1]||q),q._eventsRoot=y,z=s,s=0;z>s;s++){A[s]._eventsRoot=y}for(a in w){if(!w){return !1}"wheel"!==a||m?("mouseenter"===a||"mouseleave"===a?y._hasMouseEnter||(b.on(y.getEl(),"mouseleave",B),b.on(y.getEl(),"mouseover",r),y._hasMouseEnter=1):y[a]||(b.on(y.getEl(),a,x),y[a]=!0),w[a]=!1):j?b.on(q.getEl(),"mousewheel",v):b.on(q.getEl(),"DOMMouseScroll",v)}}},reflow:function(){return this.repaint(),this}});return f}),aD(ba,[],function(){var b={},a;return{add:function(c,d){b[c.toLowerCase()]=d},has:function(c){return !!b[c.toLowerCase()]},create:function(g,e){var d,f,c;if(!a){c=tinymce.ui;for(f in c){b[f.toLowerCase()]=c[f]}a=!0}if("string"==typeof g?(e=e||{},e.type=g):(e=g,g=e.type),g=g.toLowerCase(),d=b[g],!d){throw new Error("Could not find control by type: "+g)}return d=new d(e),d.type=g,d}}}),aD(aG,[a9,a7,bu,ba,aH,ar],function(g,d,j,f,c,h){var b={};return g.extend({layout:"",innerClass:"container-inner",init:function(a){var i=this;i._super(a),a=i.settings,i._fixed=a.fixed,i._items=new d,i.addClass("container"),i.addClass("container-body","body"),a.containerCls&&i.addClass(a.containerCls),i._layout=f.create((a.layout||i.layout)+"layout"),i.settings.items&&i.add(i.settings.items),i._hasBody=!0},items:function(){return this._items},find:function(a){return a=b[a]=b[a]||new j(a),a.find(this)},add:function(i){var a=this;return a.items().add(a.create(i)).parent(a),a},focus:function(){var a=this;return a.keyNav?a.keyNav.focusFirst():a._super(),a},replace:function(m,k){for(var o,l=this.items(),a=l.length;a--;){if(l[a]===m){l[a]=k;break}}a>=0&&(o=k.getEl(),o&&o.parentNode.removeChild(o),o=m.getEl(),o&&o.parentNode.removeChild(o)),k.parent(this)},create:function(i){var l=this,k,e=[];return c.isArray(i)||(i=[i]),c.each(i,function(a){a&&(a instanceof g||("string"==typeof a&&(a={type:a}),k=c.extend({},l.settings.defaults,a),a.type=k.type=k.type||a.type||l.settings.defaultType||(k.defaults?k.defaults.type:null),a=f.create(k)),e.push(a))}),e},renderNew:function(){var a=this;return a.items().each(function(k,m){var l,e;k.parent(a),k._rendered||(l=a.getEl("body"),e=h.createFragment(k.renderHtml()),l.hasChildNodes()&&m<=l.childNodes.length-1?l.insertBefore(e,l.childNodes[m]):l.appendChild(e),k.postRender())}),a._layout.applyClasses(a),a._lastRect=null,a},append:function(a){return this.add(a).renderNew()},prepend:function(i){var a=this;return a.items().set(a.create(i).concat(a.items().toArray())),a.renderNew()},insert:function(q,m,u){var p=this,l,s,k;return q=p.create(q),l=p.items(),!u&&m<l.length-1&&(m+=1),m>=0&&m<l.length&&(s=l.slice(0,m).toArray(),k=l.slice(m).toArray(),l.set(s.concat(q,k))),p.renderNew()},fromJSON:function(i){var a=this;for(var k in i){a.find("#"+k).value(i[k])}return a},toJSON:function(){var i=this,a={};return i.find("*").each(function(l){var m=l.name(),k=l.value();m&&"undefined"!=typeof k&&(a[m]=k)}),a},preRender:function(){},renderHtml:function(){var i=this,a=i._layout;return i.preRender(),a.preRender(i),'<div id="'+i._id+'" class="'+i.classes()+'" role="'+this.settings.role+'"><div id="'+i._id+'-body" class="'+i.classes("body")+'">'+(i.settings.html||"")+a.renderHtml(i)+"</div></div>"},postRender:function(){var i=this,a;return i.items().exec("postRender"),i._super(),i._layout.postRender(i),i._rendered=!0,i.settings.style&&h.css(i.getEl(),i.settings.style),i.settings.border&&(a=i.borderBox(),h.css(i.getEl(),{"border-top-width":a.top,"border-right-width":a.right,"border-bottom-width":a.bottom,"border-left-width":a.left})),i},initLayoutRect:function(){var i=this,a=i._super();return i._layout.recalc(i),a},recalc:function(){var i=this,a=i._layoutRect,k=i._lastRect;return k&&k.w==a.w&&k.h==a.h?void 0:(i._layout.recalc(i),a=i.layoutRect(),i._lastRect={x:a.x,y:a.y,w:a.w,h:a.h},!0)},reflow:function(){var a,e;if(this.visible()){for(g.repaintControls=[],g.repaintControls.map={},e=this.recalc(),a=g.repaintControls.length;a--;){g.repaintControls[a].repaint()}"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),g.repaintControls=[]}return this}})}),aD(aO,[ar],function(b){function a(){var k=document,q,g,d,j,f,p,u,h,m=Math.max;return q=k.documentElement,g=k.body,d=m(q.scrollWidth,g.scrollWidth),j=m(q.clientWidth,g.clientWidth),f=m(q.offsetWidth,g.offsetWidth),p=m(q.scrollHeight,g.scrollHeight),u=m(q.clientHeight,g.clientHeight),h=m(q.offsetHeight,g.offsetHeight),{width:f>d?j:d,height:h>p?u:p}}return function(h,e){function k(){return t.getElementById(e.handle||h)}var g,t=document,w,j,q,v,p,m;e=e||{},j=function(i){var c=a(),f,d;i.preventDefault(),w=i.button,f=k(),p=i.screenX,m=i.screenY,d=window.getComputedStyle?window.getComputedStyle(f,null).getPropertyValue("cursor"):f.runtimeStyle.cursor,g=t.createElement("div"),b.css(g,{position:"absolute",top:0,left:0,width:c.width,height:c.height,zIndex:2147483647,opacity:0.0001,background:"red",cursor:d}),t.body.appendChild(g),b.on(t,"mousemove",v),b.on(t,"mouseup",q),e.start(i)},v=function(c){return c.button!==w?q(c):(c.deltaX=c.screenX-p,c.deltaY=c.screenY-m,c.preventDefault(),e.drag(c),void 0)},q=function(c){b.off(t,"mousemove",v),b.off(t,"mouseup",q),g.parentNode.removeChild(g),e.stop&&e.stop(c)},this.destroy=function(){b.off(k())},b.on(k(),"mousedown",j)}}),aD(bJ,[ar,aO],function(b,a){return{init:function(){var c=this;c.on("repaint",c.renderScroll)},renderScroll:function(){function f(){function h(F,C,G,o,z,E){var x,w,k,q,n,r,D,B,A;if(w=c.getEl("scroll"+F)){if(B=C.toLowerCase(),A=G.toLowerCase(),c.getEl("absend")&&b.css(c.getEl("absend"),B,c.layoutRect()[o]-1),!z){return b.css(w,"display","none"),void 0}b.css(w,"display","block"),x=c.getEl("body"),k=c.getEl("scroll"+F+"t"),q=x["client"+G]-2*e,q-=j&&i?w["client"+E]:0,n=x["scroll"+G],r=q/n,D={},D[B]=x["offset"+C]+e,D[A]=q,b.css(w,D),D={},D[B]=x["scroll"+C]*r,D[A]=q*r,b.css(k,D)}}var j,i,g;g=c.getEl("body"),j=g.scrollWidth>g.clientWidth,i=g.scrollHeight>g.clientHeight,h("h","Left","Width","contentW",j,"Height"),h("v","Top","Height","contentH",i,"Width")}function d(){function g(q,m,i,k,h){var p,j=c._id+"-scroll"+q,o=c.classPrefix;c.getEl().appendChild(b.createFragment('<div id="'+j+'" class="'+o+"scrollbar "+o+"scrollbar-"+q+'"><div id="'+j+'t" class="'+o+'scrollbar-thumb"></div></div>')),c.draghelper=new a(j+"t",{start:function(){p=c.getEl("body")["scroll"+m],b.addClass(b.get(j),o+"active")},drag:function(v){var n,l,w,r,s=c.layoutRect();l=s.contentW>s.innerW,w=s.contentH>s.innerH,r=c.getEl("body")["client"+i]-2*e,r-=l&&w?c.getEl("scroll"+q)["client"+h]:0,n=r/c.getEl("body")["scroll"+i],c.getEl("body")["scroll"+m]=p+v["delta"+k]/n},stop:function(){b.removeClass(b.get(j),o+"active")}})}c.addClass("scroll"),g("v","Top","Height","Y","Width"),g("h","Left","Width","X","Height")}var c=this,e=2;c.settings.autoScroll&&(c._hasScroll||(c._hasScroll=!0,d(),c.on("wheel",function(h){var g=c.getEl("body");g.scrollLeft+=10*(h.deltaX||0),g.scrollTop+=10*h.deltaY,f()}),b.on(c.getEl("body"),"scroll",f)),f())}}}),aD(bo,[aG,bJ],function(b,a){return b.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[a],renderHtml:function(){var d=this,c=d._layout,f=d.settings.html;return d.preRender(),c.preRender(d),"undefined"==typeof f?f='<div id="'+d._id+'-body" class="'+d.classes("body")+'">'+c.renderHtml(d)+"</div>":("function"==typeof f&&(f=f.call(d)),d._hasBody=!1),'<div id="'+d._id+'" class="'+d.classes()+'" hideFocus="1" tabIndex="-1">'+(d._preBodyHtml||"")+f+"</div>"}})}),aD(bs,[ar],function(b){function a(x,h,e){var k,g,v,y,j,q,w,p,m;return m=b.getViewPort(),g=b.getPos(h),v=g.x,y=g.y,x._fixed&&(v-=m.x,y-=m.y),k=x.getEl(),j=k.offsetWidth,q=k.offsetHeight,w=h.offsetWidth,p=h.offsetHeight,e=(e||"").split(""),"b"===e[0]&&(y+=p),"r"===e[1]&&(v+=w),"c"===e[0]&&(y+=Math.round(p/2)),"c"===e[1]&&(v+=Math.round(w/2)),"b"===e[3]&&(y-=q),"r"===e[4]&&(v-=j),"c"===e[3]&&(y-=Math.round(q/2)),"c"===e[4]&&(v-=Math.round(j/2)),{x:v,y:y,w:j,h:q}}return{testMoveRel:function(g,e){for(var d=b.getViewPort(),f=0;f<e.length;f++){var c=a(this,g,e[f]);if(this._fixed){if(c.x>0&&c.x+c.w<d.w&&c.y>0&&c.y+c.h<d.h){return e[f]}}else{if(c.x>d.x&&c.x+c.w<d.w+d.x&&c.y>d.y&&c.y+c.h<d.h+d.y){return e[f]}}}return e[0]},moveRel:function(d,f){"string"!=typeof f&&(f=this.testMoveRel(d,f));var c=a(this,d,f);return this.moveTo(c.x,c.y)},moveBy:function(f,c){var g=this,d=g.layoutRect();return g.moveTo(d.x+f,d.y+c),g},moveTo:function(e,h){function f(j,i,k){return 0>j?0:j+k>i?(j=i-k,0>j?0:j):j}var d=this;if(d.settings.constrainToViewport){var g=b.getViewPort(window),c=d.layoutRect();e=f(e,g.w+g.x,c.w),h=f(h,g.h+g.y,c.h)}return d._rendered?d.layoutRect({x:e,y:h}).repaint():(d.settings.x=e,d.settings.y=h),d.fire("move",{x:e,y:h}),d}}}),aD(a3,[ar],function(a){return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(b,d){if(1>=b||1>=d){var c=a.getWindowSize();b=1>=b?b*c.w:b,d=1>=d?d*c.h:d}return this._layoutRect.autoResize=!1,this.layoutRect({minW:b,minH:d,w:b,h:d}).reflow()},resizeBy:function(d,b){var f=this,c=f.layoutRect();return f.resizeTo(c.w+d,c.h+b)}}}),aD(a5,[bo,bs,a3,ar],function(j,q,f,b){function h(c){var a;for(a=v.length;a--;){v[a]===c&&v.splice(a,1)}}var d,m,v=[],g=[],k,p=j.extend({Mixins:[q,f],init:function(l){function c(){var w,u=p.zIndex||65535,x;if(g.length){for(w=0;w<g.length;w++){g[w].modal&&(u++,x=g[w]),g[w].getEl().style.zIndex=u,g[w].zIndex=u,u++}}var s=document.getElementById(o.classPrefix+"modal-block");x?b.css(s,"z-index",x.zIndex-1):s&&(s.parentNode.removeChild(s),k=!1),p.currentZIndex=u}function r(n,i){for(;n;){if(n==i){return !0}n=n.parent()}}function a(s){function i(w,y){for(var x,e=0;e<v.length;e++){if(v[e]!=s){for(x=v[e].parent();x&&(x=x.parent());){x==s&&v[e].fixed(w).moveBy(0,y).repaint()}}}}var u=b.getViewPort().y;s.settings.autofix&&(s._fixed?s._autoFixY>u&&(s.fixed(!1).layoutRect({y:s._autoFixY}).repaint(),i(!1,s._autoFixY-u)):(s._autoFixY=s.layoutRect().y,s._autoFixY<u&&(s.fixed(!0).layoutRect({y:0}).repaint(),i(!0,u-s._autoFixY))))}var o=this;o._super(l),o._eventsRoot=o,o.addClass("floatpanel"),l.autohide&&(d||(d=function(w){var s,u=o.getParentCtrl(w.target);for(s=v.length;s--;){var n=v[s];if(n.settings.autohide){if(u&&(r(u,n)||n.parent()===u)){continue}w=n.fire("autohide",{target:w.target}),w.isDefaultPrevented()||n.hide()}}},b.on(document,"click",d)),v.push(o)),l.autofix&&(m||(m=function(){var i;for(i=v.length;i--;){a(v[i])}},b.on(window,"scroll",m)),o.on("move",function(){a(this)})),o.on("postrender show",function(t){if(t.control==o){var u,s=o.classPrefix;o.modal&&!k&&(u=b.createFragment('<div id="'+s+'modal-block" class="'+s+"reset "+s+'fade"></div>'),u=u.firstChild,o.getContainerElm().appendChild(u),setTimeout(function(){b.addClass(u,s+"in"),b.addClass(o.getEl(),s+"in")},0),k=!0),g.push(o),c()}}),o.on("close hide",function(i){if(i.control==o){for(var s=g.length;s--;){g[s]===o&&g.splice(s,1)}c()}}),o.on("show",function(){o.parents().each(function(i){return i._fixed?(o.fixed(!0),!1):void 0})}),l.popover&&(o._preBodyHtml='<div class="'+o.classPrefix+'arrow"></div>',o.addClass("popover").addClass("bottom").addClass("start"))},fixed:function(c){var a=this;if(a._fixed!=c){if(a._rendered){var i=b.getViewPort();c?a.layoutRect().y-=i.y:a.layoutRect().y+=i.y}a.toggleClass("fixed",c),a._fixed=c}return a},show:function(){var c=this,a,i=c._super();for(a=v.length;a--&&v[a]!==c;){}return -1===a&&v.push(c),i},hide:function(){return h(this),this._super()},hideAll:function(){p.hideAll()},close:function(){var a=this;return a.fire("close"),a.remove()},remove:function(){h(this),this._super()}});return p.hideAll=function(){for(var c=v.length;c--;){var a=v[c];a.settings.autohide&&(a.fire("cancel",{},!1),a.hide(),v.splice(c,1))}},p}),aD(bp,[ar],function(a){return function(C){function j(){if(!w){if(w=[],y.find){y.find("*").each(function(f){f.canFocus&&w.push(f.getEl())})}else{for(var d=y.getEl().getElementsByTagName("*"),c=0;c<d.length;c++){d[c].id&&d[c]&&w.push(d[c])}}}}function b(){return document.getElementById(k)}function v(c){return c=c||b(),c&&c.getAttribute("role")}function g(d){for(var c,f=d||b();f=f.parentNode;){if(c=v(f)){return c}}}function A(d){var c=document.getElementById(k);return c?c.getAttribute("aria-"+d):void 0}function D(){var c=b();if(!c||"TEXTAREA"!=c.nodeName&&"text"!=c.type){return C.onAction?C.onAction(k):a.fire(b(),"click",{keyboard:!0}),!0}}function q(){var c;C.onCancel?((c=b())&&c.blur(),C.onCancel()):C.root.fire("cancel")}function z(m){function h(l){for(var i=y?y.getEl():document.body;l&&l!=i;){if("none"==l.style.display){return !1}l=l.parentNode}return !0}var f=-1,n,d,c=[];for(j(),d=c.length,d=0;d<w.length;d++){h(w[d])&&c.push(w[d])}for(d=c.length;d--;){if(c[d].id===k){f=d;break}}f+=m,0>f?f=c.length-1:f>=c.length&&(f=0),n=c[f],n.focus(),k=n.id,C.actOnFocus&&D()}function B(){var d,c;for(c=v(C.root.getEl()),j(),d=w.length;d--;){if("toolbar"==c&&w[d].id===k){return w[d].focus(),void 0}}w[0].focus()}var y=C.root,x=C.enableUpDown!==!1,e=C.enableLeftRight!==!1,w=C.items,k;return y.on("keydown",function(p){var f=37,c=39,G=38,s=40,l=27,i=14,o=13,F=32,E=9,t;switch(p.keyCode){case f:e&&(C.leftAction?C.leftAction():z(-1),t=!0);break;case c:e&&("menuitem"==v()&&"menu"==g()?A("haspopup")&&D():z(1),t=!0);break;case G:x&&(z(-1),t=!0);break;case s:x&&("menuitem"==v()&&"menubar"==g()?D():"button"==v()&&A("haspopup")?D():z(1),t=!0);break;case E:t=!0,p.shiftKey?z(-1):z(1);break;case l:t=!0,q();break;case i:case o:case F:t=D()}t&&(p.stopPropagation(),p.preventDefault())}),y.on("focusin",function(c){j(),k=c.target.id}),{moveFocus:z,focusFirst:B,cancel:q}}}),aD(bg,[a5,bo,ar,bp,aO],function(d,b,g,c,a){var f=d.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(h){var i=this;i._super(h),i.addClass("window"),i._fixed=!0,h.buttons&&(i.statusbar=new b({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:"end",defaults:{type:"button"},items:h.buttons}),i.statusbar.addClass("foot"),i.statusbar.parent(i)),i.on("click",function(j){-1!=j.target.className.indexOf(i.classPrefix+"close")&&i.close()}),i.aria("label",h.title),i._fullscreen=!1},recalc:function(){var l=this,j=l.statusbar,k,h,m;l._fullscreen&&(l.layoutRect(g.getWindowSize()),l.layoutRect().contentH=l.layoutRect().innerH),l._super(),k=l.layoutRect(),l.settings.title&&!l._fullscreen&&(h=k.headerW,h>k.w&&(l.layoutRect({w:h}),m=!0)),j&&(j.layoutRect({w:l.layoutRect().innerW}).recalc(),h=j.layoutRect().minW+k.deltaW,h>k.w&&(l.layoutRect({w:h}),m=!0)),m&&l.recalc()},initLayoutRect:function(){var l=this,j=l._super(),k=0,h;l.settings.title&&!l._fullscreen&&(h=l.getEl("head"),j.headerW=h.offsetWidth,j.headerH=h.offsetHeight,k+=j.headerH),l.statusbar&&(k+=l.statusbar.layoutRect().h),j.deltaH+=k,j.minH+=k,j.h+=k;var m=g.getWindowSize();return j.x=Math.max(0,m.w/2-j.w/2),j.y=Math.max(0,m.h/2-j.h/2),j},renderHtml:function(){var p=this,k=p._layout,u=p._id,m=p.classPrefix,j=p.settings,q="",h="",l=j.html;return p.preRender(),k.preRender(p),j.title&&(q='<div id="'+u+'-head" class="'+m+'window-head"><div class="'+m+'title">'+p.encode(j.title)+'</div><button type="button" class="'+m+'close" aria-hidden="true">&times;</button><div id="'+u+'-dragh" class="'+m+'dragh"></div></div>'),j.url&&(l='<iframe src="'+j.url+'" tabindex="-1"></iframe>'),"undefined"==typeof l&&(l=k.renderHtml(p)),p.statusbar&&(h=p.statusbar.renderHtml()),'<div id="'+u+'" class="'+p.classes()+'" hideFocus="1" tabIndex="-1">'+q+'<div id="'+u+'-body" class="'+p.classes("body")+'">'+l+"</div>"+h+"</div>"},fullscreen:function(n){var k=this,m=document.documentElement,j,p=k.classPrefix,h;if(n!=k._fullscreen){if(g.on(window,"resize",function(){var o;if(k._fullscreen){if(j){k._timer||(k._timer=setTimeout(function(){var q=g.getWindowSize();k.moveTo(0,0).resizeTo(q.w,q.h),k._timer=0},50))}else{o=(new Date).getTime();var i=g.getWindowSize();k.moveTo(0,0).resizeTo(i.w,i.h),(new Date).getTime()-o>50&&(j=!0)}}}),h=k.layoutRect(),k._fullscreen=n,n){k._initial={x:h.x,y:h.y,w:h.w,h:h.h},k._borderBox=k.parseBox("0"),k.getEl("head").style.display="none",h.deltaH-=h.headerH+2,g.addClass(m,p+"fullscreen"),g.addClass(document.body,p+"fullscreen"),k.addClass("fullscreen");var l=g.getWindowSize();k.moveTo(0,0).resizeTo(l.w,l.h)}else{k._borderBox=k.parseBox(k.settings.border),k.getEl("head").style.display="",h.deltaH+=h.headerH,g.removeClass(m,p+"fullscreen"),g.removeClass(document.body,p+"fullscreen"),k.removeClass("fullscreen"),k.moveTo(k._initial.x,k._initial.y).resizeTo(k._initial.w,k._initial.h)}}return k.reflow()},postRender:function(){var j=this,i=[],l,k,h;setTimeout(function(){j.addClass("in")},0),j.keyboardNavigation=new c({root:j,enableLeftRight:!1,enableUpDown:!1,items:i,onCancel:function(){j.close()}}),j.find("*").each(function(m){m.canFocus&&(k=k||m.settings.autofocus,l=l||m,"filepicker"==m.type?(i.push(m.getEl("inp")),m.getEl("open")&&i.push(m.getEl("open").firstChild)):i.push(m.getEl()))}),j.statusbar&&j.statusbar.find("*").each(function(m){m.canFocus&&(k=k||m.settings.autofocus,l=l||m,i.push(m.getEl()))}),j._super(),j.statusbar&&j.statusbar.postRender(),!k&&l&&l.focus(),this.dragHelper=new a(j._id+"-dragh",{start:function(){h={x:j.layoutRect().x,y:j.layoutRect().y}},drag:function(e){j.moveTo(h.x+e.deltaX,h.y+e.deltaY)}}),j.on("submit",function(e){e.isDefaultPrevented()||j.close()})},submit:function(){var h=this.getParentCtrl(document.activeElement);return h&&h.blur(),this.fire("submit",{data:this.toJSON()})},remove:function(){var h=this;h._super(),h.dragHelper.destroy(),h.statusbar&&this.statusbar.remove()}});return f}),aD(a2,[bg],function(b){var a=b.extend({init:function(c){c={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(c)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(e){var d,c=e.callback||function(){};switch(e.buttons){case a.OK_CANCEL:d=[{type:"button",text:"Ok",subtype:"primary",onClick:function(f){f.control.parents()[1].close(),c(!0)}},{type:"button",text:"Cancel",onClick:function(f){f.control.parents()[1].close(),c(!1)}}];break;case a.YES_NO:d=[{type:"button",text:"Ok",subtype:"primary",onClick:function(f){f.control.parents()[1].close(),c(!0)}}];break;case a.YES_NO_CANCEL:d=[{type:"button",text:"Ok",subtype:"primary",onClick:function(f){f.control.parents()[1].close()}}];break;default:d=[{type:"button",text:"Ok",subtype:"primary",onClick:function(f){f.control.parents()[1].close()}}]}return new b({padding:20,x:e.x,y:e.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:d,title:e.title,items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:e.text},onClose:e.onClose}).renderTo(document.body).reflow()},alert:function(c,d){return"string"==typeof c&&(c={text:c}),c.callback=d,a.msgBox(c)},confirm:function(c,d){return"string"==typeof c&&(c={text:c}),c.callback=d,c.buttons=a.OK_CANCEL,a.msgBox(c)}}});return a}),aD(bU,[bg,a2],function(b,a){return function(e){var d=this,c=[];d.windows=c,d.open=function(f,g){var h;return f.url=f.url||f.file,f.url&&(f.width=parseInt(f.width||320,10),f.height=parseInt(f.height||240,10)),f.body&&(f.items={defaults:f.defaults,type:f.bodyType||"form",items:f.body}),f.url||f.buttons||(f.buttons=[{text:"Ok",subtype:"primary",onclick:function(){h.find("form")[0].submit(),h.close()}},{text:"Cancel",onclick:function(){h.close()}}]),h=new b(f),c.push(h),h.on("close",function(){for(var i=c.length;i--;){c[i]===h&&c.splice(i,1)}e.focus()}),f.data&&h.on("postRender",function(){this.find("*").each(function(i){var j=i.name();j in f.data&&i.value(f.data[j])})}),h.params=g||{},e.nodeChanged(),h.renderTo(document.body).reflow()},d.alert=function(g,h,f){a.alert(g,function(){h.call(f||this)})},d.confirm=function(g,h,f){a.confirm(g,function(i){h.call(f||this,i)})},d.close=function(){c.length&&c[c.length-1].close()},d.getParams=function(){return c.length?c[c.length-1].params:null},d.setParams=function(f){c.length&&(c[c.length-1].params=f)}}}),aD(bc,[bb,bz,bx,aK,aR,aH],function(d,b,g,c,a,f){return function(cj){function b6(j,h){try{cj.getDoc().execCommand(j,!1,h)}catch(k){}}function ca(){var h=cj.getDoc().documentMode;return h?h:6}function ch(h){return h.isDefaultPrevented()}function b5(){function h(q){function y(){if(3==m.nodeType){if(q&&w==m.length){return !0}if(!q&&0===w){return !0}}}var k,j,p,z,m,w,x;k=e.getRng();var v=[k.startContainer,k.startOffset,k.endContainer,k.endOffset];if(k.collapsed||(q=!0),m=k[(q?"start":"end")+"Container"],w=k[(q?"start":"end")+"Offset"],3==m.nodeType&&(j=at.getParent(k.startContainer,at.isBlock),q&&(j=at.getNext(j,at.isBlock)),!j||!y()&&k.collapsed||(p=at.create("em",{id:"__mceDel"}),G(f.grep(j.childNodes),function(l){p.appendChild(l)}),j.appendChild(p))),k=at.createRng(),k.setStart(v[0],v[1]),k.setEnd(v[2],v[3]),e.setRng(k),cj.getDoc().execCommand(q?"ForwardDelete":"Delete",!1,null),p){for(z=e.getBookmark();x=at.get("__mceDel");){at.remove(x,!0)}e.moveToBookmark(z)}}cj.on("keydown",function(k){var j;j=k.keyCode==Y,ch(k)||!j&&k.keyCode!=J||d.modifierPressed(k)||(k.preventDefault(),h(j))}),cj.addCommand("Delete",function(){h()})}function cg(){function j(l){var k=at.create("body"),m=l.cloneContents();return k.appendChild(m),e.serializer.serialize(k,{format:"html"})}function h(l){var p=j(l),m=at.createRng();m.selectNode(cj.getBody());var k=j(m);return p===k}cj.on("keydown",function(l){var m=l.keyCode,k;if(!ch(l)&&(m==Y||m==J)){if(k=cj.selection.isCollapsed(),k&&!at.isEmpty(cj.getBody())){return}if(cc&&!k){return}if(!k&&!h(cj.selection.getRng())){return}l.preventDefault(),cj.setContent(""),cj.selection.setCursorLocation(cj.getBody(),0),cj.nodeChanged()}})}function cf(){cj.on("keydown",function(h){!ch(h)&&65==h.keyCode&&d.metaKeyPressed(h)&&(h.preventDefault(),cj.execCommand("SelectAll"))})}function b8(){cj.settings.content_editable||(at.bind(cj.getDoc(),"focusin",function(){e.setRng(e.getRng())}),at.bind(cj.getDoc(),"mousedown",function(h){h.target==cj.getDoc().documentElement&&(cj.getWin().focus(),e.setRng(e.getRng()))}))}function cd(){cj.on("keydown",function(j){if(!ch(j)&&j.keyCode===J&&e.isCollapsed()&&0===e.getRng(!0).startOffset){var h=e.getNode(),k=h.previousSibling;k&&k.nodeName&&"hr"===k.nodeName.toLowerCase()&&(at.remove(k),j.preventDefault())}})}function b9(){window.Range.prototype.getClientRects||cj.on("mousedown",function(j){if(!ch(j)&&"HTML"===j.target.nodeName){var h=cj.getBody();h.blur(),setTimeout(function(){h.focus()},0)}})}function ce(){cj.on("click",function(h){h=h.target,/^(IMG|HR)$/.test(h.nodeName)&&e.getSel().setBaseAndExtent(h,0,h,1),"A"==h.nodeName&&at.hasClass(h,"mce-item-anchor")&&e.select(h),cj.nodeChanged()})}function b4(){function j(){var k=at.getAttribs(e.getStart().cloneNode(!1));return function(){var l=e.getStart();l!==cj.getBody()&&(at.setAttrib(l,"style",null),G(k,function(m){l.setAttributeNode(m.cloneNode(!0))}))}}function h(){return !e.isCollapsed()&&at.getParent(e.getStart(),at.isBlock)!=at.getParent(e.getEnd(),at.isBlock)}cj.on("keypress",function(l){var k;return ch(l)||8!=l.keyCode&&46!=l.keyCode||!h()?void 0:(k=j(),cj.getDoc().execCommand("delete",!1,null),k(),l.preventDefault(),!1)}),at.bind(cj.getDoc(),"cut",function(l){var k;!ch(l)&&h()&&(k=j(),setTimeout(function(){k()},0))})}function b1(){var h,j;cj.on("selectionchange",function(){j&&(clearTimeout(j),j=0),j=window.setTimeout(function(){var k=e.getRng();h&&b.compareRanges(k,h)||(cj.nodeChanged(),h=k)},50)})}function ci(){document.body.setAttribute("role","application")}function bW(){cj.on("keydown",function(j){if(!ch(j)&&j.keyCode===J&&e.isCollapsed()&&0===e.getRng(!0).startOffset){var h=e.getNode().previousSibling;if(h&&h.nodeName&&"table"===h.nodeName.toLowerCase()){return j.preventDefault(),!1}}})}function b2(){ca()>7||(b6("RespectVisibilityInDesign",!0),cj.contentStyles.push(".mceHideBrInPre pre br {display: none}"),at.addClass(cj.getBody(),"mceHideBrInPre"),i.addNodeFilter("pre",function(m){for(var k=m.length,l,j,p,h;k--;){for(l=m[k].getAll("br"),j=l.length;j--;){p=l[j],h=p.prev,h&&3===h.type&&"\n"!=h.value.charAt(h.value-1)?h.value+="\n":p.parent.insert(new g("#text",3),p,!0).value="\n"}}}),n.addNodeFilter("pre",function(l){for(var j=l.length,p,k,h,m;j--;){for(p=l[j].getAll("br"),k=p.length;k--;){h=p[k],m=h.prev,m&&3==m.type&&(m.value=m.value.replace(/\r?\n$/,""))}}}))}function b3(){at.bind(cj.getBody(),"mouseup",function(){var j,h=e.getNode();"IMG"==h.nodeName&&((j=at.getStyle(h,"width"))&&(at.setAttrib(h,"width",j.replace(/[^0-9%]+/g,"")),at.setStyle(h,"width","")),(j=at.getStyle(h,"height"))&&(at.setAttrib(h,"height",j.replace(/[^0-9%]+/g,"")),at.setStyle(h,"height","")))})}function ck(){cj.on("keydown",function(w){var k,h,p,j,x,m,v,q;if(k=w.keyCode==Y,!ch(w)&&(k||w.keyCode==J)&&!d.modifierPressed(w)&&(h=e.getRng(),p=h.startContainer,j=h.startOffset,v=h.collapsed,3==p.nodeType&&p.nodeValue.length>0&&(0===j&&!v||v&&j===(k?0:1)))){if(m=p.previousSibling,m&&"IMG"==m.nodeName){return}q=cj.schema.getNonEmptyElements(),w.preventDefault(),x=at.create("br",{id:"__tmp"}),p.parentNode.insertBefore(x,p),cj.getDoc().execCommand(k?"ForwardDelete":"Delete",!1,null),p=e.getRng().startContainer,m=p.previousSibling,m&&1==m.nodeType&&!at.isBlock(m)&&at.isEmpty(m)&&!q[m.nodeName.toLowerCase()]&&at.remove(m),at.remove("__tmp")}})}function K(){cj.on("keydown",function(j){var p,l,h,m,k;if(!ch(j)&&j.keyCode==d.BACKSPACE&&(p=e.getRng(),l=p.startContainer,h=p.startOffset,m=at.getRoot(),k=l,p.collapsed&&0===h)){for(;k&&k.parentNode&&k.parentNode.firstChild==k&&k.parentNode!=m;){k=k.parentNode}"BLOCKQUOTE"===k.tagName&&(cj.formatter.toggle("blockquote",null,k),p=at.createRng(),p.setStart(l,0),p.setEnd(l,0),e.setRng(p))}})}function bt(){function h(){cj._refreshContentEditable(),b6("StyleWithCSS",!1),b6("enableInlineTableEditing",!1),b0.object_resizing||b6("enableObjectResizing",!1)}b0.readonly||cj.on("BeforeExecCommand MouseDown",h)}function cb(){function h(){G(at.select("a"),function(k){var j=k.parentNode,l=at.getRoot();if(j.lastChild===k){for(;j&&!at.isBlock(j);){if(j.parentNode.lastChild!==j||j===l){return}j=j.parentNode}at.add(j,"br",{"data-mce-bogus":1})}})}cj.on("SetContent ExecCommand",function(j){("setcontent"==j.type||"mceInsertLink"===j.command)&&h()})}function r(){b0.forced_root_block&&cj.on("init",function(){b6("DefaultParagraphSeparator",b0.forced_root_block)})}function o(){cj.on("Undo Redo SetContent",function(h){h.initial||cj.execCommand("mceRepaint")})}function t(){cj.on("keydown",function(j){var h;ch(j)||j.keyCode!=J||(h=cj.getDoc().selection.createRange(),h&&h.item&&(j.preventDefault(),cj.undoManager.beforeChange(),at.remove(h.item(0)),cj.undoManager.add()))})}function bY(){var h;ca()>=10&&(h="",G("p div h1 h2 h3 h4 h5 h6".split(" "),function(j,k){h+=(k>0?",":"")+j+":empty"}),cj.contentStyles.push(h+"{padding-right: 1px !important}"))}function bX(){ca()<9&&(i.addNodeFilter("noscript",function(k){for(var h=k.length,l,j;h--;){l=k[h],j=l.firstChild,j&&l.attr("data-mce-innertext",j.value)}}),n.addNodeFilter("noscript",function(l){for(var k=l.length,j,m,h;k--;){j=l[k],m=l[k].firstChild,m?m.value=c.decode(m.value):(h=j.attributes.map["data-mce-innertext"],h&&(j.attr("data-mce-innertext",null),m=new g("#text",3),m.value=h,m.raw=!0,j.append(m)))}}))}function bV(){function p(w,s){var x=j.createTextRange();try{x.moveToPoint(w,s)}catch(v){x=null}return x}function k(s){var v;s.button?(v=p(s.x,s.y),v&&(v.compareEndPoints("StartToStart",h)>0?v.setEndPoint("StartToStart",h):v.setEndPoint("EndToEnd",h),v.select())):u()}function u(){var s=m.selection.createRange();h&&!s.item&&0===s.compareEndPoints("StartToEnd",s)&&h.select(),at.unbind(m,"mouseup",u),at.unbind(m,"mousemove",k),h=q=0}var m=at.doc,j=m.body,q,h,l;m.documentElement.unselectable=!0,at.bind(m,"mousedown contextmenu",function(s){if("HTML"===s.target.nodeName){if(q&&u(),l=m.documentElement,l.scrollHeight>l.clientHeight){return}q=1,h=p(s.x,s.y),h&&(at.bind(m,"mouseup",u),at.bind(m,"mousemove",k),at.win.focus(),h.select())}})}function X(){cj.on("keyup focusin",function(h){65==h.keyCode&&d.metaKeyPressed(h)||e.normalize()})}function Q(){cj.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}function Z(){cj.inline||cj.on("keydown",function(){document.activeElement==document.body&&cj.getWin().focus()})}var G=f.each,J=d.BACKSPACE,Y=d.DELETE,at=cj.dom,e=cj.selection,b0=cj.settings,i=cj.parser,n=cj.serializer,b7=a.gecko,cc=a.ie,bZ=a.webkit;bW(),K(),cg(),X(),bZ&&(ck(),b5(),b8(),ce(),r(),a.iOS?(b1(),Z()):cf()),cc&&a.ie<11&&(cd(),ci(),b2(),b3(),t(),bY(),bX(),bV()),b7&&(cd(),b9(),b4(),bt(),cb(),o(),Q())}}),aD(a4,[aH],function(d){function b(){return !1}function f(){return !0}var c="__bindings",a=d.makeMap("focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave keydown keypress keyup contextmenu dragend dragover draggesture dragdrop drop drag"," ");return{fire:function(k,j,g){var p=this,r,h,n,q,m;if(k=k.toLowerCase(),j=j||{},j.type=k,j.target||(j.target=p),j.preventDefault||(j.preventDefault=function(){j.isDefaultPrevented=f},j.stopPropagation=function(){j.isPropagationStopped=f},j.stopImmediatePropagation=function(){j.isImmediatePropagationStopped=f},j.isDefaultPrevented=b,j.isPropagationStopped=b,j.isImmediatePropagationStopped=b),p[c]&&(r=p[c][k])){for(h=0,n=r.length;n>h&&(r[h]=q=r[h],!j.isImmediatePropagationStopped());h++){if(q.call(p,j)===!1){return j.preventDefault(),j}}}if(g!==!1&&p.parent){for(m=p.parent();m&&!j.isPropagationStopped();){m.fire(k,j,!1),m=m.parent()}}return j},on:function(k,i){var p=this,m,h,j,g;if(i===!1&&(i=function(){return !1}),i){for(j=k.toLowerCase().split(" "),g=j.length;g--;){k=j[g],m=p[c],m||(m=p[c]={}),h=m[k],h||(h=m[k]=[],p.bindNative&&a[k]&&p.bindNative(k)),h.push(i)}}return p},off:function(j,q){var h=this,g,m=h[c],r,i,k,p;if(m){if(j){for(k=j.toLowerCase().split(" "),g=k.length;g--;){if(j=k[g],r=m[j],!j){for(i in m){m[j].length=0}return h}if(r){if(q){for(p=r.length;p--;){r[p]===q&&r.splice(p,1)}}else{r.length=0}!r.length&&h.unbindNative&&a[j]&&(h.unbindNative(j),delete m[j])}}}else{if(h.unbindNative){for(j in m){h.unbindNative(j)}}h[c]=[]}}return h}}}),aD(bO,[aH,aR],function(d,b){var f=d.each,c=d.explode,a={f9:120,f10:121,f11:122};return function(h){var e=this,g={};h.on("keyup keypress keydown",function(i){(i.altKey||i.ctrlKey||i.metaKey)&&f(g,function(k){var j=b.mac?i.ctrlKey||i.metaKey:i.ctrlKey;if(k.ctrl==j&&k.alt==i.altKey&&k.shift==i.shiftKey){return i.keyCode==k.keyCode||i.charCode&&i.charCode==k.charCode?(i.preventDefault(),"keydown"==i.type&&k.func.call(k.scope),!0):void 0}})}),e.add=function(m,j,i,n){var k;return k=i,"string"==typeof i?i=function(){h.execCommand(k,!1,null)}:d.isArray(k)&&(i=function(){h.execCommand(k[0],k[1],k[2])}),f(c(m.toLowerCase()),function(o){var l={func:i,scope:n||h,desc:h.translate(j),alt:!1,ctrl:!1,shift:!1};f(c(o,"+"),function(p){switch(p){case"alt":case"ctrl":case"shift":l[p]=!0;break;default:l.charCode=p.charCodeAt(0),l.keyCode=a[p]||p.toUpperCase().charCodeAt(0)}}),g[(l.ctrl?"ctrl":"")+","+(l.alt?"alt":"")+","+(l.shift?"shift":"")+","+l.keyCode]=l}),!0}}}),aD(ap,[az,aX,bx,aN,bv,bA,bw,bn,bm,br,bh,bi,au,aM,bU,av,aZ,bc,aR,aH,a4,bO],function(b8,b0,bX,b4,bZ,cc,bW,b2,ca,bV,b9,b7,bY,b5,b1,b6,bt,Y,cb,V,Z,at){function cd(b,a){return"selectionchange"==a||"drop"==a?b.getDoc():!b.inline&&/^mouse|click|contextmenu/.test(a)?b.getDoc():b.getBody()}function G(g,d,f){var c=this,h,b;h=c.documentBaseUrl=f.documentBaseURL,b=f.baseURI,c.settings=d=j({id:g,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:h,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:c.convertURL,url_converter_scope:c,ie7_compat:!0},d),b0.settings=d,b0.baseURL=f.baseURL,c.id=d.id=g,c.isNotDirty=!0,c.plugins={},c.documentBaseURI=new b7(d.document_base_url||h,{base_uri:b}),c.baseURI=b,c.contentCSS=[],c.contentStyles=[],c.shortcuts=new at(c),c.execCommands={},c.queryStateCommands={},c.queryValueCommands={},c.loadedCSS={},c.suffix=f.suffix,c.editorManager=f,c.inline=d.inline,c.execCallback("setup",c)}var Q=b8.DOM,b3=b0.ThemeManager,q=b0.PluginManager,j=V.extend,t=V.each,X=V.explode,W=V.inArray,U=V.trim,J=V.resolve,I=b5.Event,K=cb.gecko,z=cb.ie,F=cb.opera;return G.prototype={render:function(){function d(){var h=bY.ScriptLoader;g.language&&"en"!=g.language&&(g.language_url=b.editorManager.baseURL+"/langs/"+g.language+".js"),g.language_url&&h.add(g.language_url),g.theme&&"function"!=typeof g.theme&&"-"!=g.theme.charAt(0)&&!b3.urls[g.theme]&&b3.load(g.theme,"themes/"+g.theme+"/theme"+a+".js"),V.isArray(g.plugins)&&(g.plugins=g.plugins.join(" ")),t(g.external_plugins,function(k,i){q.load(i,k),g.plugins+=" "+i}),t(g.plugins.split(/[ ,]/),function(k){if(k=U(k),k&&!q.urls[k]){if("-"==k.charAt(0)){k=k.substr(1,k.length);var i=q.dependencies(k);t(i,function(m){var l={prefix:"plugins/",resource:m,suffix:"/plugin"+a+".js"};m=q.createUrl(l,m),q.load(m.resource,m)})}else{q.load(k,{prefix:"plugins/",resource:k,suffix:"/plugin"+a+".js"})}}}),h.loadQueue(function(){b.removed||b.init()})}var b=this,g=b.settings,c=b.id,a=b.suffix;if(!I.domLoaded){return Q.bind(window,"ready",function(){b.render()}),void 0}if(b.editorManager.settings=g,b.getElement()&&cb.contentEditable){g.inline?b.inline=!0:(b.orgVisibility=b.getElement().style.visibility,b.getElement().style.visibility="hidden");var f=b.getElement().form||Q.getParent(c,"form");f&&(b.formElement=f,g.hidden_input&&!/TEXTAREA|INPUT/i.test(b.getElement().nodeName)&&Q.insertAfter(Q.create("input",{type:"hidden",name:c}),c),b.formEventDelegate=function(h){b.fire(h.type,h)},Q.bind(f,"submit reset",b.formEventDelegate),b.on("reset",function(){b.setContent(b.startContent,{format:"raw"})}),!g.submit_patch||f.submit.nodeType||f.submit.length||f._mceOldSubmit||(f._mceOldSubmit=f.submit,f.submit=function(){return b.editorManager.triggerSave(),b.isNotDirty=!0,f._mceOldSubmit(f)})),b.windowManager=new b1(b),"xml"==g.encoding&&b.on("GetContent",function(h){h.save&&(h.content=Q.encode(h.content))}),g.add_form_submit_trigger&&b.on("submit",function(){b.initialized&&b.save()}),g.add_unload_trigger&&(b._beforeUnload=function(){!b.initialized||b.destroyed||b.isHidden()||b.save({format:"raw",no_events:!0,set_dirty:!1})},b.editorManager.on("BeforeUnload",b._beforeUnload)),d()}},init:function(){function C(e){var c=q.get(e),a,d;a=q.urls[e]||M.documentBaseUrl.replace(/\/$/,""),e=U(e),c&&-1===W(A,e)&&(t(q.dependencies(e),function(f){C(f)}),d=new c(M,a),M.plugins[e]=d,d.init&&(d.init(M,a),A.push(e)))}var M=this,v=M.settings,b=M.getElement(),y,k,H,N,x,E,L,D,B,g,A=[];if(M.editorManager.add(M),v.aria_label=v.aria_label||Q.getAttrib(b,"aria-label",M.getLang("aria.rich_text_area")),v.theme&&("function"!=typeof v.theme?(v.theme=v.theme.replace(/-/,""),x=b3.get(v.theme),M.theme=new x(M,b3.urls[v.theme]),M.theme.init&&M.theme.init(M,b3.urls[v.theme]||M.documentBaseUrl.replace(/\/$/,""))):M.theme=v.theme),t(v.plugins.replace(/\-/g,"").split(/[ ,]/),C),M.fire("BeforeRenderUI"),v.render_ui&&M.theme&&(M.orgDisplay=b.style.display,"function"!=typeof v.theme?(y=v.width||b.style.width||b.offsetWidth,k=v.height||b.style.height||b.offsetHeight,H=v.min_height||100,B=/^[0-9\.]+(|px)$/i,B.test(""+y)&&(y=Math.max(parseInt(y,10)+(x.deltaWidth||0),100)),B.test(""+k)&&(k=Math.max(parseInt(k,10)+(x.deltaHeight||0),H)),x=M.theme.renderUI({targetNode:b,width:y,height:k,deltaWidth:v.delta_width,deltaHeight:v.delta_height}),v.content_editable||(Q.setStyles(x.sizeContainer||x.editorContainer,{wi2dth:y,h2eight:k}),k=(x.iframeHeight||k)+("number"==typeof k?x.deltaHeight||0:""),H>k&&(k=H))):(x=v.theme(M,b),x.editorContainer.nodeType&&(x.editorContainer=x.editorContainer.id=x.editorContainer.id||M.id+"_parent"),x.iframeContainer.nodeType&&(x.iframeContainer=x.iframeContainer.id=x.iframeContainer.id||M.id+"_iframecontainer"),k=x.iframeHeight||b.offsetHeight),M.editorContainer=x.editorContainer),v.content_css&&t(X(v.content_css),function(a){M.contentCSS.push(M.documentBaseURI.toAbsolute(a))}),v.content_style&&M.contentStyles.push(v.content_style),v.content_editable){return b=N=x=null,M.initContentBody()}for(document.domain&&location.hostname!=document.domain&&(M.editorManager.relaxedDomain=document.domain),M.iframeHTML=v.doctype+"<html><head>",v.document_base_url!=M.documentBaseUrl&&(M.iframeHTML+='<base href="'+M.documentBaseURI.getURI()+'" />'),!cb.caretAfter&&v.ie7_compat&&(M.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),M.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',g=0;g<M.contentCSS.length;g++){var w=M.contentCSS[g];M.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+w+'" />',M.loadedCSS[w]=!0}L=v.body_id||"tinymce",-1!=L.indexOf("=")&&(L=M.getParam("body_id","","hash"),L=L[M.id]||L),D=v.body_class||"",-1!=D.indexOf("=")&&(D=M.getParam("body_class","","hash"),D=D[M.id]||""),M.iframeHTML+='</head><body id="'+L+'" class="mce-content-body '+D+'" onload="window.parent.tinymce.get(\''+M.id+"').fire('load');\"><br></body></html>",M.editorManager.relaxedDomain&&(z||F&&parseFloat(window.opera.version())<11)&&(E='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+M.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody();})()'),N=Q.add(x.iframeContainer,"iframe",{id:M.id+"_ifr",src:E||'javascript:""',frameBorder:"0",allowTransparency:"true",title:M.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:k,display:"block"}}),M.contentAreaContainer=x.iframeContainer,x.editorContainer&&(Q.get(x.editorContainer).style.display=M.orgDisplay),Q.get(M.id).style.display="none",Q.setAttrib(M.id,"aria-hidden",!0),M.editorManager.relaxedDomain&&E||M.initContentBody(),b=N=x=null},initContentBody:function(){var a=this,g=a.settings,e=Q.get(a.id),c=a.getDoc(),d,b;g.inline||(a.getElement().style.visibility=a.orgVisibility),z&&a.editorManager.relaxedDomain||g.content_editable||(c.open(),c.write(a.iframeHTML),c.close(),a.editorManager.relaxedDomain&&(c.domain=a.editorManager.relaxedDomain)),g.content_editable&&(a.on("remove",function(){var f=this.getBody();Q.removeClass(f,"mce-content-body"),Q.removeClass(f,"mce-edit-focus"),Q.setAttrib(f,"tabIndex",null),Q.setAttrib(f,"contentEditable",null)}),Q.addClass(e,"mce-content-body"),e.tabIndex=-1,a.contentDocument=c=g.content_document||document,a.contentWindow=g.content_window||window,a.bodyElement=e,g.content_document=g.content_window=null,g.root_name=e.nodeName.toLowerCase()),d=a.getBody(),d.disabled=!0,g.readonly||(d.contentEditable=a.getParam("content_editable_state",!0)),d.disabled=!1,a.schema=new b6(g),a.dom=new b8(c,{keep_values:!0,url_converter:a.convertURL,url_converter_scope:a,hex_colors:g.force_hex_style_colors,class_filter:g.class_filter,update_styles:!0,root_element:g.content_editable?a.id:null,schema:a.schema,onSetAttrib:function(f){a.fire("SetAttrib",f)}}),a.parser=new bt(g,a.schema),a.parser.addAttributeFilter("src,href,style",function(m,u){for(var l=m.length,h,p=a.dom,f,k;l--;){h=m[l],f=h.attr(u),k="data-mce-"+u,h.attributes.map[k]||("style"===u?h.attr(k,p.serializeStyle(p.parseStyle(f),h.name)):h.attr(k,a.convertURL(f,u,h.name)))}}),a.parser.addNodeFilter("script",function(h){for(var f=h.length,i;f--;){i=h[f],i.attr("type","mce-"+(i.attr("type")||"text/javascript"))}}),a.parser.addNodeFilter("#cdata",function(h){for(var f=h.length,i;f--;){i=h[f],i.type=8,i.name="#comment",i.value="[CDATA["+i.value+"]]"}}),a.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(h){for(var l=h.length,f,k=a.schema.getNonEmptyElements();l--;){f=h[l],f.isEmpty(k)&&(f.empty().append(new bX("br",1)).shortEnded=!0)}}),a.serializer=new b4(g,a),a.selection=new cc(a.dom,a.getWin(),a.serializer,a),a.formatter=new bW(a),a.undoManager=new b2(a),a.forceBlocks=new bV(a),a.enterKey=new ca(a),a.editorCommands=new b9(a),a.fire("PreInit"),g.browser_spellcheck||g.gecko_spellcheck||(c.body.spellcheck=!1,Q.setAttrib(d,"spellcheck","false")),a.fire("PostRender"),a.quirks=Y(a),g.directionality&&(d.dir=g.directionality),g.nowrap&&(d.style.whiteSpace="nowrap"),g.protect&&a.on("BeforeSetContent",function(f){t(g.protect,function(h){f.content=f.content.replace(h,function(i){return"<!--mce:protected "+escape(i)+"-->"})})}),a.on("SetContent",function(){a.addVisual(a.getBody())}),g.padd_empty_editor&&a.on("PostProcess",function(f){f.content=f.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),a.load({initial:!0,format:"html"}),a.startContent=a.getContent({format:"raw"}),a.initialized=!0,t(a._pendingNativeEvents,function(f){a.dom.bind(cd(a,f),f,function(h){a.fire(h.type,h)})}),a.fire("init"),a.focus(!0),a.nodeChanged({initial:!0}),a.execCallback("init_instance_callback",a),a.contentStyles.length>0&&(b="",t(a.contentStyles,function(f){b+=f+"\r\n"}),a.dom.addStyle(b)),t(a.contentCSS,function(f){a.loadedCSS[f]||(a.dom.loadCSS(f),a.loadedCSS[f]=!0)}),g.auto_focus&&setTimeout(function(){var f=a.editorManager.get(g.auto_focus);f.selection.select(f.getBody(),1),f.selection.collapse(1),f.getBody().focus(),f.getWin().focus()},100),e=c=d=null},focus:function(h){var m,d=this,b=d.selection,g=d.settings.content_editable,c,k,p=d.getDoc(),f;h||(c=b.getRng(),c.item&&(k=c.item(0)),d._refreshContentEditable(),g||(cb.opera||d.getBody().focus(),d.getWin().focus()),(K||g)&&(f=d.getBody(),f.setActive?f.setActive():f.focus(),g&&b.normalize()),k&&k.ownerDocument==p&&(c=p.body.createControlRange(),c.addElement(k),c.select())),d.editorManager.activeEditor!=d&&((m=d.editorManager.activeEditor)&&m.fire("deactivate",{relatedTarget:d}),d.fire("activate",{relatedTarget:m})),d.editorManager.activeEditor=d},execCallback:function(c){var a=this,d=a.settings[c],b;if(d){return a.callbackLookup&&(b=a.callbackLookup[c])&&(d=b.func,b=b.scope),"string"==typeof d&&(b=d.replace(/\.\w+$/,""),b=b?J(b):0,d=J(d),a.callbackLookup=a.callbackLookup||{},a.callbackLookup[c]={func:d,scope:b}),d.apply(b||a,Array.prototype.slice.call(arguments,1))}},translate:function(b){var a=this.settings.language||"en",c=this.editorManager.i18n;return b?c[a+"."+b]||b.replace(/\{\#([^\}]+)\}/g,function(f,d){return c[a+"."+d]||"{#"+d+"}"}):""},getLang:function(a,b){return this.editorManager.i18n[(this.settings.language||"en")+"."+a]||(b!==aB?b:"{#"+a+"}")},getParam:function(d,b,f){var c=d in this.settings?this.settings[d]:b,a;return"hash"===f?(a={},"string"==typeof c?t(c.indexOf("=")>0?c.split(/[;,](?![^=;,]*(?:[;,]|$))/):c.split(","),function(g){g=g.split("="),a[U(g[0])]=g.length>1?U(g[1]):U(g)}):a=c,a):c},nodeChanged:function(){var d=this,b=d.selection,f,c,a;d.initialized&&!d.settings.disable_nodechange&&(a=d.getBody(),f=b.getStart()||a,f=z&&f.ownerDocument!=d.getDoc()?d.getBody():f,"IMG"==f.nodeName&&b.isCollapsed()&&(f=f.parentNode),c=[],d.dom.getParent(f,function(g){return g===a?!0:(c.push(g),void 0)}),d.fire("NodeChange",{element:f,parents:c}))},addButton:function(b,a){var c=this;a.cmd&&(a.onclick=function(){c.execCommand(a.cmd)}),a.text||a.icon||(a.icon=b),c.buttons=c.buttons||{},a.tooltip=a.tooltip||a.title,c.buttons[b]=a},addMenuItem:function(b,a){var c=this;a.cmd&&(a.onclick=function(){c.execCommand(a.cmd)}),c.menuItems=c.menuItems||{},c.menuItems[b]=a},addCommand:function(b,a,c){this.execCommands[b]={func:a,scope:c||this}},addQueryStateHandler:function(b,a,c){this.queryStateCommands[b]={func:a,scope:c||this}},addQueryValueHandler:function(b,a,c){this.queryValueCommands[b]={func:a,scope:c||this}},addShortcut:function(c,a,d,b){this.shortcuts.add(c,a,d,b)},execCommand:function(g,d,k,f){var c=this,h=0,b;return/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(g)||f&&f.skip_focus||c.focus(),f=j({},f),f=c.fire("BeforeExecCommand",{command:g,ui:d,value:k}),f.isDefaultPrevented()?!1:(b=c.execCommands[g])&&b.func.call(b.scope,d,k)!==!0?(c.fire("ExecCommand",{command:g,ui:d,value:k}),!0):(t(c.plugins,function(a){return a.execCommand&&a.execCommand(g,d,k)?(c.fire("ExecCommand",{command:g,ui:d,value:k}),h=!0,!1):void 0}),h?h:c.theme&&c.theme.execCommand&&c.theme.execCommand(g,d,k)?(c.fire("ExecCommand",{command:g,ui:d,value:k}),!0):c.editorCommands.execCommand(g,d,k)?(c.fire("ExecCommand",{command:g,ui:d,value:k}),!0):(c.getDoc().execCommand(g,d,k),c.fire("ExecCommand",{command:g,ui:d,value:k}),void 0))},queryCommandState:function(d){var b=this,f,c;if(!b._isHidden()){if((f=b.queryStateCommands[d])&&(c=f.func.call(f.scope),c!==!0)){return c}if(c=b.editorCommands.queryCommandState(d),-1!==c){return c}try{return b.getDoc().queryCommandState(d)}catch(a){}}},queryCommandValue:function(c){var f=this,b,a;if(!f._isHidden()){if((b=f.queryValueCommands[c])&&(a=b.func.call(b.scope),a!==!0)){return a}if(a=f.editorCommands.queryCommandValue(c),a!==aB){return a}try{return f.getDoc().queryCommandValue(c)}catch(d){}}},show:function(){var a=this;Q.show(a.getContainer()),Q.hide(a.id),a.load(),a.fire("show")},hide:function(){var b=this,a=b.getDoc();z&&a&&a.execCommand("SelectAll"),b.save(),Q.hide(b.getContainer()),Q.setStyle(b.id,"display",b.orgDisplay),b.fire("hide")},isHidden:function(){return !Q.isHidden(this.id)},setProgressState:function(b,a){this.fire("ProgressState",{state:b,time:a})},load:function(c){var d=this,b=d.getElement(),a;return b?(c=c||{},c.load=!0,a=d.setContent(b.value!==aB?b.value:b.innerHTML,c),c.element=b,c.no_events||d.fire("LoadContent",c),c.element=b=null,a):void 0},save:function(d){var b=this,f=b.getElement(),c,a;if(f&&b.initialized){return d=d||{},d.save=!0,d.element=f,c=d.content=b.getContent(d),d.no_events||b.fire("SaveContent",d),c=d.content,/TEXTAREA|INPUT/i.test(f.nodeName)?f.value=c:(f.innerHTML=c,(a=Q.getParent(b.id,"form"))&&t(a.elements,function(g){return g.name==b.id?(g.value=c,!1):void 0})),d.element=f=null,d.set_dirty!==!1&&(b.isNotDirty=!0),c}},setContent:function(d,b){var f=this,c=f.getBody(),a;return b=b||{},b.format=b.format||"html",b.set=!0,b.content=d,b.no_events||f.fire("BeforeSetContent",b),d=b.content,0===d.length||/^\s+$/.test(d)?(a=f.settings.forced_root_block,a&&f.schema.isValidChild(c.nodeName.toLowerCase(),a.toLowerCase())?d=z&&11>z?"<"+a+"></"+a+">":"<"+a+'><br data-mce-bogus="1"></'+a+">":z||(d='<br data-mce-bogus="1">'),c.innerHTML=d,f.fire("SetContent",b)):("raw"!==b.format&&(d=new bZ({},f.schema).serialize(f.parser.parse(d,{isRootContent:!0}))),b.content=U(d),f.dom.setHTML(c,b.content),b.no_events||f.fire("SetContent",b)),b.initial||(f.selection.select(c,!0),f.selection.collapse(!0)),b.content},getContent:function(c){var a=this,d,b=a.getBody();return c=c||{},c.format=c.format||"html",c.get=!0,c.getInner=!0,c.no_events||a.fire("BeforeGetContent",c),d="raw"==c.format?b.innerHTML:"text"==c.format?b.innerText||b.textContent:a.serializer.serialize(b,c),c.content="text"!=c.format?U(d):d,c.no_events||a.fire("GetContent",c),c.content},insertContent:function(a){this.execCommand("mceInsertContent",!1,a)},isDirty:function(){return !this.isNotDirty},getContainer:function(){var a=this;return a.container||(a.container=Q.get(a.editorContainer||a.id+"_parent")),a.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return Q.get(this.settings.content_element||this.id)},getWin:function(){var b=this,a;return b.contentWindow||(a=Q.get(b.id+"_ifr"),a&&(b.contentWindow=a.contentWindow)),b.contentWindow},getDoc:function(){var b=this,a;return b.contentDocument||(a=b.getWin(),a&&(b.contentDocument=a.document)),b.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(d,b,f){var c=this,a=c.settings;return a.urlconverter_callback?c.execCallback("urlconverter_callback",d,f,!0,b):!a.convert_urls||f&&"LINK"==f.nodeName||0===d.indexOf("file:")||0===d.length?d:a.relative_urls?c.documentBaseURI.toRelative(d):d=c.documentBaseURI.toAbsolute(d,a.remove_script_host)},addVisual:function(c){var f=this,b=f.settings,a=f.dom,d;c=c||f.getBody(),f.hasVisual===aB&&(f.hasVisual=b.visual),t(a.select("table,a",c),function(h){var g;switch(h.nodeName){case"TABLE":return d=b.visual_table_class||"mce-item-table",g=a.getAttrib(h,"border"),g&&"0"!=g||(f.hasVisual?a.addClass(h,d):a.removeClass(h,d)),void 0;case"A":return a.getAttrib(h,"href",!1)||(g=a.getAttrib(h,"name")||h.id,d="mce-item-anchor",g&&(f.hasVisual?a.addClass(h,d):a.removeClass(h,d))),void 0}}),f.fire("VisualAid",{element:c,hasVisual:f.hasVisual})},remove:function(){var b=this,a=b.getContainer(),c=b.getDoc();b.removed||(b.removed=1,z&&c&&c.execCommand("SelectAll"),b.save(),Q.setStyle(b.id,"display",b.orgDisplay),b.settings.content_editable||(I.unbind(b.getWin()),I.unbind(b.getDoc())),I.unbind(b.getBody()),I.unbind(a),b.fire("remove"),b.editorManager.remove(b),Q.remove(a))},bindNative:function(b){var a=this;a.initialized?a.dom.bind(cd(a,b),b,function(c){a.fire(b,c)}):a._pendingNativeEvents?a._pendingNativeEvents.push(b):a._pendingNativeEvents=[b]},unbindNative:function(b){var a=this;a.initialized&&a.dom.unbind(b)},destroy:function(b){var a=this,c;a.destroyed||(K&&(I.unbind(a.getDoc()),I.unbind(a.getWin()),I.unbind(a.getBody())),b||(a.editorManager.off("beforeunload",a._beforeUnload),a.theme&&a.theme.destroy&&a.theme.destroy(),a.selection.destroy(),a.dom.destroy()),c=a.formElement,c&&(c.submit=c._mceOldSubmit,c._mceOldSubmit=null,Q.unbind(c,"submit reset",a.formEventDelegate)),a.contentAreaContainer=a.formElement=a.container=null,a.settings.content_element=a.bodyElement=a.contentDocument=a.contentWindow=null,a.selection&&(a.selection=a.selection.win=a.selection.dom=a.selection.dom.doc=null),a.destroyed=1)},_refreshContentEditable:function(){var b=this,a,c;b._isHidden()&&(a=b.getBody(),c=a.parentNode,c.removeChild(a),c.appendChild(a),a.focus())},_isHidden:function(){var a;return K?(a=this.selection.getSel(),!a||!a.rangeCount||0===a.rangeCount):0}},j(G.prototype,Z),G}),aD(ax,[],function(){var a={};return{add:function(b,d){for(var c in d){a[c]=d[c]}},translate:function(b){if("undefined"==typeof b){return b}if("string"!=typeof b&&b.raw){return b.raw}if(b.push){var c=b.slice(1);b=(a[b[0]]||b[0]).replace(/\{([^\}]+)\}/g,function(f,d){return c[d]})}return a[b]||b},data:a}}),aD(by,[az,aR],function(b,a){function c(g){function e(){try{return document.activeElement}catch(i){return document.body}}function h(i){return i&&i.startContainer?{startContainer:i.startContainer,startOffset:i.startOffset,endContainer:i.endContainer,endOffset:i.endOffset}:i}function d(j,i){var k;return i.startContainer?(k=j.getDoc().createRange(),k.setStart(i.startContainer,i.startOffset),k.setEnd(i.endContainer,i.endOffset)):k=i,k}function f(k){function i(l){return !!b.DOM.getParent(l,c.isEditorUIElement)}var n=k.editor,j,m;n.on("init",function(){"onbeforedeactivate" in document&&a.ie<11?n.dom.bind(n.getBody(),"beforedeactivate",function(){var o=n.getDoc().selection;try{j=o&&o.createRange?o.createRange():n.selection.getRng()}catch(l){}}):(n.inline||a.ie>10)&&(n.on("nodechange keyup",function(){var o,l=document.activeElement;for(l&&l.id==n.id+"_ifr"&&(l=n.getBody());l;){if(l==n.getBody()){o=!0;break}l=l.parentNode}o&&(j=n.selection.getRng())}),a.webkit&&(m=function(){var l=n.selection.getRng();l.collapsed||(j=l)},b.DOM.bind(document,"selectionchange",m),n.on("remove",function(){b.DOM.unbind(document,"selectionchange",m)})))}),n.on("focusin",function(){var l=g.focusedEditor;n.selection.lastFocusBookmark&&(n.selection.setRng(d(n,n.selection.lastFocusBookmark)),n.selection.lastFocusBookmark=null),l!=n&&(l&&l.fire("blur",{focusedEditor:n}),g.activeEditor=n,n.fire("focus",{blurredEditor:l}),n.focus(!1),g.focusedEditor=n)}),n.on("focusout",function(){n.selection.lastFocusBookmark=h(j),window.setTimeout(function(){var l=g.focusedEditor;l!=n&&(n.selection.lastFocusBookmark=null),i(e())||l!=n||(n.fire("blur",{focusedEditor:null}),g.focusedEditor=null,n.selection.lastFocusBookmark=null)},0)})}g.on("AddEditor",f)}return c.isEditorUIElement=function(d){return -1!==d.className.indexOf("mce-")},c}),aD(bF,[ap,az,bi,aR,aH,a4,ax,by],function(y,k,b,v,j,B,D,t){var A=k.DOM,C=j.explode,z=j.each,x=j.extend,g=0,w,q={majorVersion:"4",minorVersion:"0.5",releaseDate:"2013-08-27",editors:[],i18n:D,activeEditor:null,setup:function(){var m=this,h,u,f="",p;if(u=document.location.href.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(u)||(u+="/"),p=window.tinymce||window.tinyMCEPreInit){h=p.base||p.baseURL,f=p.suffix}else{for(var d=document.getElementsByTagName("script"),l=0;l<d.length;l++){var r=d[l].src;if(/tinymce(\.jquery|)(\.min|\.dev|)\.js/.test(r)){-1!=r.indexOf(".min")&&(f=".min"),h=r.substring(0,r.lastIndexOf("/"));break}}}m.baseURL=new b(u).toAbsolute(h),m.documentBaseURL=u,m.baseURI=new b(m.baseURL),m.suffix=f,m.focusManager=new t(m)},init:function(e){function m(i){var a=i.id;return a||(a=i.name,a=a&&!A.get(a)?i.name:A.uniqueId(),i.setAttribute("id",a)),a}function h(o,a,p){var i=o[a];if(i){return i.apply(p||this,Array.prototype.slice.call(arguments,2))}}function d(i,a){return a.constructor===RegExp?a.test(i.className):A.hasClass(i,a)}var l=this,c=[],f;l.settings=e,A.bind(window,"ready",function(){var a,i;if(h(e,"onpageload"),e.types){return z(e.types,function(n){z(A.select(n.selector),function(o){var p=new y(m(o),x({},e,n),l);c.push(p),p.render(1)})}),void 0}if(e.selector){return z(A.select(e.selector),function(o){var n=new y(m(o),e,l);c.push(n),n.render(1)}),void 0}switch(e.mode){case"exact":a=e.elements||"",a.length>0&&z(C(a),function(o){A.get(o)?(f=new y(o,e,l),c.push(f),f.render(!0)):z(document.forms,function(n){z(n.elements,function(p){p.name===o&&(o="mce_editor_"+g++,A.setAttrib(p,"id",o),f=new y(o,e,l),c.push(f),f.render(1))})})});break;case"textareas":case"specific_textareas":z(A.select("textarea"),function(n){e.editor_deselector&&d(n,e.editor_deselector)||(!e.editor_selector||d(n,e.editor_selector))&&(f=new y(m(n),e,l),c.push(f),f.render(!0))})}e.oninit&&(a=i=0,z(c,function(n){i++,n.initialized?a++:n.on("init",function(){a++,a==i&&h(e,"oninit")}),a==i&&h(e,"oninit")}))})},get:function(a){return a===aB?this.editors:this.editors[a]},add:function(c){var a=this,d=a.editors;return d[c.id]=c,d.push(c),a.activeEditor=c,a.fire("AddEditor",{editor:c}),w||(w=function(){a.fire("BeforeUnload")},A.bind(window,"beforeunload",w)),c},createEditor:function(a,c){return this.add(new y(a,c,this))},remove:function(f){var c=this,h,d=c.editors,a;if(f){if("string"==typeof f){return f=f.selector||f,z(A.select(f),function(i){c.remove(d[i.id])}),void 0}if(a=f,!d[a.id]){return null}for(delete d[a.id],h=0;h<d.length;h++){if(d[h]==a){d.splice(h,1);break}}if(c.activeEditor==a&&(c.activeEditor=d[0]),a&&!a.removed){return a.remove(),a.destroy(),c.fire("RemoveEditor",{editor:a}),d.length||A.unbind(window,"beforeunload",w),a}}else{for(h=d.length-1;h>=0;h--){c.remove(d[h])}}},execCommand:function(c,f,d){var a=this,e=a.get(d);switch(c){case"mceAddEditor":return a.get(d)||new y(d,a.settings,a).render(),!0;case"mceRemoveEditor":return e&&e.remove(),!0;case"mceToggleEditor":return e?(e.isHidden()?e.show():e.hide(),!0):(a.execCommand("mceAddEditor",0,d),!0)}return a.activeEditor?a.activeEditor.execCommand(c,f,d):!1},triggerSave:function(){z(this.editors,function(a){a.save()})},addI18n:function(c,a){D.add(c,a)},translate:function(a){return D.translate(a)}};return x(q,B),q.setup(),window.tinymce=window.tinyMCE=q,q}),aD(bM,[bF,aH],function(c,a){var d=a.each,b=a.explode;c.on("AddEditor",function(g){var f=g.editor;f.on("preInit",function(){function n(l,i){d(i,function(e,o){e&&m.setStyle(l,o,e)}),m.rename(l,"span")}function k(i){m=f.dom,h.convert_fonts_to_spans&&d(m.select("font,u,strike",i.node),function(l){p[l.nodeName.toLowerCase()](m,l)})}var p,j,m,h=f.settings;h.inline_styles&&(j=b(h.font_size_legacy_values),p={font:function(e,i){n(i,{backgroundColor:i.style.backgroundColor,color:i.color,fontFamily:i.face,fontSize:j[parseInt(i.size,10)-1]})},u:function(e,i){n(i,{textDecoration:"underline"})},strike:function(e,i){n(i,{textDecoration:"line-through"})}},f.on("PreProcess SetContent",k))})})}),aD(ao,[],function(){return{send:function(c){function a(){!c.async||4==d.readyState||b++>10000?(c.success&&10000>b&&200==d.status?c.success.call(c.success_scope,""+d.responseText,d,c):c.error&&c.error.call(c.error_scope,b>10000?"TIMED_OUT":"GENERAL",d,c),d=null):setTimeout(a,10)}var d,b=0;if(c.scope=c.scope||this,c.success_scope=c.success_scope||c.scope,c.error_scope=c.error_scope||c.scope,c.async=c.async===!1?!1:!0,c.data=c.data||"",d=new XMLHttpRequest){if(d.overrideMimeType&&d.overrideMimeType(c.content_type),d.open(c.type||(c.data?"POST":"GET"),c.url,c.async),c.content_type&&d.setRequestHeader("Content-Type",c.content_type),d.setRequestHeader("X-Requested-With","XMLHttpRequest"),d.send(c.data),!c.async){return a()}setTimeout(a,10)}}}}),aD(aE,[],function(){function a(d,g){var e,c,f,b;if(g=g||'"',null===d){return"null"}if(f=typeof d,"string"==f){return c="\bb	t\nn\ff\rr\"\"''\\\\",g+d.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(i,h){return'"'===g&&"'"===i?i:(e=c.indexOf(h),e+1?"\\"+c.charAt(e+1):(i=h.charCodeAt().toString(16),"\\u"+"0000".substring(i.length)+i))})+g}if("object"==f){if(d.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(d)){for(e=0,c="[";e<d.length;e++){c+=(e>0?",":"")+a(d[e],g)}return c+"]"}c="{";for(b in d){d.hasOwnProperty(b)&&(c+="function"!=typeof d[b]?(c.length>1?","+g:g)+b+g+":"+a(d[b],g):"")}return c+"}"}return""+d}return{serialize:a,parse:function(c){try{return window[String.fromCharCode(101)+"val"]("("+c+")")}catch(b){}}}}),aD(ah,[aE,ao,aH],function(d,b,f){function c(g){this.settings=a({},g),this.count=0}var a=f.extend;return c.sendRPC=function(g){return(new c).send(g)},c.prototype={send:function(h){var e=h.error,g=h.success;h=a(this.settings,h),h.success=function(k,j){k=d.parse(k),"undefined"==typeof k&&(k={error:"JSON Parse error."}),k.error?e.call(h.error_scope||h.scope,k.error,j):g.call(h.success_scope||h.scope,k.result)},h.error=function(j,i){e&&e.call(h.error_scope||h.scope,j,i)},h.data=d.serialize({id:h.id||"c"+this.count++,method:h.method,params:h.params}),h.content_type="application/json",b.send(h)}},c}),aD(bK,[az],function(a){return{callbacks:{},count:0,send:function(f){var d=this,c=a.DOM,e=f.count!==aB?f.count:d.count,b="tinymce_jsonp_"+e;d.callbacks[e]=function(g){c.remove(b),delete d.callbacks[e],f.callback(g)},c.add(c.doc.body,"script",{id:b,src:f.url,type:"text/javascript"}),d.count++}}}),aD(ak,[],function(){function j(){p=[];for(var a in m){p.push(a)}h.length=p.length}function f(){function o(q){var s,i;return i=q!==aB?a+q:c.indexOf(",",a),-1===i||i>c.length?null:(s=c.substring(a,i),a=i+1,s)}var l,c,e,a=0;if(m={},k){d.load(g),c=d.getAttribute(g)||"";do{l=o(parseInt(o(),32)||0),null!==l&&(e=o(parseInt(o(),32)||0),m[l]=e)}while(null!==l);j()}}function b(){var a,e="";if(k){for(var c in m){a=m[c],e+=(e?",":"")+c.length.toString(32)+","+c+","+a.length.toString(32)+","+a}d.setAttribute(g,e),d.save(g),j()}}var h,d,m,p,g,k;return window.localStorage?localStorage:(g="tinymce",d=document.documentElement,k=!!d.addBehavior,k&&d.addBehavior("#default#userData"),h={key:function(a){return p[a]},getItem:function(a){return a in m?m[a]:null},setItem:function(c,a){m[c]=""+a,b()},removeItem:function(a){delete m[a],b()},clear:function(){m={},b()}},f(),h)}),aD(a0,[az,aM,au,aX,aH,aR],function(g,d,j,f,c,h){var b=window.tinymce;return b.DOM=g.DOM,b.ScriptLoader=j.ScriptLoader,b.PluginManager=f.PluginManager,b.ThemeManager=f.ThemeManager,b.dom=b.dom||{},b.dom.Event=d.Event,c.each(c,function(i,a){b[a]=i}),c.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(a){b[a]=h[a.substr(2).toLowerCase()]}),{}}),aD(bD,[bq,aH],function(b,a){return b.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(c){this.settings=a.extend({},this.Defaults,c)},preRender:function(c){c.addClass(this.settings.containerClass,"body")},applyClasses:function(g){var d=this,j=d.settings,f,c,h;f=g.items().filter(":visible"),c=j.firstControlClass,h=j.lastControlClass,f.each(function(i){i.removeClass(c).removeClass(h),j.controlClass&&i.addClass(j.controlClass)}),f.eq(0).addClass(c),f.eq(-1).addClass(h)},renderHtml:function(g){var d=this,h=d.settings,f,c="";return f=g.items(),f.eq(0).addClass(h.firstControlClass),f.eq(-1).addClass(h.lastControlClass),f.each(function(i){h.controlClass&&i.addClass(h.controlClass),c+=i.renderHtml()}),c},recalc:function(){},postRender:function(){}})}),aD(bB,[bD],function(a){return a.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(b){b.items().filter(":visible").each(function(d){var c=d.settings;d.layoutRect({x:c.x,y:c.y,w:c.w,h:c.h}),d.recalc&&d.recalc()})},renderHtml:function(b){return'<div id="'+b._id+'-absend" class="'+b.classPrefix+'abs-end"></div>'+this._super(b)}})}),aD(am,[a9,bs],function(b,a){return b.extend({Mixins:[a],Defaults:{classes:"widget tooltip tooltip-n"},text:function(d){var c=this;return"undefined"!=typeof d?(c._value=d,c._rendered&&(c.getEl().lastChild.innerHTML=c.encode(d)),c):c._value},renderHtml:function(){var d=this,c=d.classPrefix;return'<div id="'+d._id+'" class="'+d.classes()+'" role="presentation"><div class="'+c+'tooltip-arrow"></div><div class="'+c+'tooltip-inner">'+d.encode(d._text)+"</div></div>"},repaint:function(){var d=this,c,f;c=d.getEl().style,f=d._layoutRect,c.left=f.x+"px",c.top=f.y+"px",c.zIndex=131070}})}),aD(bH,[a9,am],function(c,a){var d,b=c.extend({init:function(g){var f=this;f._super(g),f.canFocus=!0,g.tooltip&&b.tooltips!==!1&&f.on("mouseenter mouseleave",function(j){var h=f.tooltip().moveTo(-65535);if(j.control==f&&"mouseenter"==j.type){var e=h.text(g.tooltip).show().testMoveRel(f.getEl(),["bc-tc","bc-tl","bc-tr"]);h.toggleClass("tooltip-n","bc-tc"==e),h.toggleClass("tooltip-nw","bc-tl"==e),h.toggleClass("tooltip-ne","bc-tr"==e),h.moveRel(f.getEl(),e)}else{h.hide()}}),f.aria("label",g.tooltip)},tooltip:function(){var f=this;return d||(d=new a({type:"tooltip"}),d.renderTo(f.getContainerElm())),d},active:function(g){var f=this,h;return g!==h&&(f.aria("pressed",g),f.toggleClass("active",g)),f._super(g)},disabled:function(g){var f=this,h;return g!==h&&(f.aria("disabled",g),f.toggleClass("disabled",g)),f._super(g)},postRender:function(){var g=this,f=g.settings;g._rendered=!0,g._super(),g.parent()||!f.width&&!f.height||(g.initLayoutRect(),g.repaint()),f.autofocus&&setTimeout(function(){g.focus()},0)},remove:function(){this._super(),d&&(d.remove(),d=null)}});return b}),aD(aW,[bH],function(a){return a.extend({Defaults:{classes:"widget btn",role:"button"},init:function(c){var b=this,d;b.on("click mousedown",function(f){f.preventDefault()}),b._super(c),d=c.size,c.subtype&&b.addClass(c.subtype),d&&b.addClass("btn-"+d)},repaint:function(){var b=this.getEl().firstChild.style;b.width=b.height="100%",this._super()},renderHtml:function(){var f=this,c=f._id,g=f.classPrefix,d=f.settings.icon,b="";return f.settings.image&&(d="none",b=" style=\"background-image: url('"+f.settings.image+"')\""),d=f.settings.icon?g+"ico "+g+"i-"+d:"",'<div id="'+c+'" class="'+f.classes()+'" tabindex="-1"><button role="presentation" type="button" tabindex="-1">'+(d?'<i class="'+d+'"'+b+"></i>":"")+(f._text?(d?" ":"")+f.encode(f._text):"")+"</button></div>"}})}),aD(a1,[aG],function(a){return a.extend({Defaults:{defaultType:"button",role:"toolbar"},renderHtml:function(){var c=this,b=c._layout;return c.addClass("btn-group"),c.preRender(),b.preRender(c),'<div id="'+c._id+'" class="'+c.classes()+'"><div id="'+c._id+'-body">'+(c.settings.html||"")+b.renderHtml(c)+"</div></div>"}})}),aD(bQ,[bH],function(a){return a.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(c){var b=this;b._super(c),b.on("click mousedown",function(d){d.preventDefault()}),b.on("click",function(d){d.preventDefault(),b.disabled()||b.checked(!b.checked())}),b.checked(b.settings.checked)},checked:function(c){var b=this;return"undefined"!=typeof c?(c?b.addClass("checked"):b.removeClass("checked"),b._checked=c,b.aria("checked",c),b):b._checked},value:function(b){return this.checked(b)},renderHtml:function(){var c=this,b=c._id,d=c.classPrefix;return'<div id="'+b+'" class="'+c.classes()+'" unselectable="on" aria-labeledby="'+b+'-al" tabindex="-1"><i class="'+d+"ico "+d+'i-checkbox"></i><span id="'+b+'-al" class="'+d+'label">'+c.encode(c._text)+"</span></div>"}})}),aD(ae,[aW,a5],function(b,a){return b.extend({showPanel:function(){var c=this,d=c.settings;d.panel.popover=!0,d.panel.autohide=!0,c.active(!0),c.panel?c.panel.show():(c.panel=new a(d.panel).on("hide",function(){c.active(!1)}).parent(c).renderTo(c.getContainerElm()),c.panel.fire("show"),c.panel.reflow()),c.panel.moveRel(c.getEl(),d.popoverAlign||"bc-tc")},hidePanel:function(){var c=this;c.panel&&c.panel.hide()},postRender:function(){var c=this;return c.on("click",function(d){d.control===c&&(c.panel&&c.panel.visible()?c.hidePanel():c.showPanel())}),c._super()}})}),aD(bT,[ae,az],function(b,a){var c=a.DOM;return b.extend({init:function(d){this._super(d),this.addClass("colorbutton")},color:function(d){return d?(this._color=d,this.getEl("preview").style.backgroundColor=d,this):this._color},renderHtml:function(){var h=this,f=h._id,j=h.classPrefix,g=h.settings.icon?j+"ico "+j+"i-"+h.settings.icon:"",d=h.settings.image?" style=\"background-image: url('"+h.settings.image+"')\"":"";return'<div id="'+f+'" class="'+h.classes()+'"><button role="presentation" hidefocus type="button" tabindex="-1">'+(g?'<i class="'+g+'"'+d+"></i>":"")+'<span id="'+f+'-preview" class="'+j+'preview"></span>'+(h._text?(g?" ":"")+h._text:"")+'</button><button type="button" class="'+j+'open" hidefocus tabindex="-1"> <i class="'+j+'caret"></i></button></div>'},postRender:function(){var f=this,d=f.settings.onclick;return f.on("click",function(e){e.control!=f||c.getParent(e.target,"."+f.classPrefix+"open")||(e.stopImmediatePropagation(),d.call(f,e))}),delete f.settings.onclick,f._super()}})}),aD(bG,[bH,ar],function(b,a){return b.extend({init:function(c){var d=this;d._super(c),d.addClass("combobox"),d.on("click",function(g){for(var f=g.target;f;){f.id&&-1!=f.id.indexOf("-open")&&d.fire("action"),f=f.parentNode}}),d.on("keydown",function(f){"INPUT"==f.target.nodeName&&13==f.keyCode&&d.parents().reverse().each(function(e){return f.preventDefault(),d.fire("change"),e.submit?(e.submit(),!1):void 0})}),c.placeholder&&(d.addClass("placeholder"),d.on("focusin",function(){d._hasOnChange||(a.on(d.getEl("inp"),"change",function(){d.fire("change")}),d._hasOnChange=!0),d.hasClass("placeholder")&&(d.getEl("inp").value="",d.removeClass("placeholder"))}),d.on("focusout",function(){0===d.value().length&&(d.getEl("inp").value=c.placeholder,d.addClass("placeholder"))}))},value:function(d){var c=this;return"undefined"!=typeof d?(c._value=d,c.removeClass("placeholder"),c._rendered&&(c.getEl("inp").value=d),c):c._rendered?(d=c.getEl("inp").value,d!=c.settings.placeholder?d:""):c._value},disabled:function(d){var c=this;c._super(d),c._rendered&&(c.getEl("inp").disabled=d)},focus:function(){this.getEl("inp").focus()},repaint:function(){var h=this,k=h.getEl(),g=h.getEl("open"),d=h.layoutRect(),j,c;j=g?d.w-g.offsetWidth-10:d.w-10;var f=document;return f.all&&(!f.documentMode||f.documentMode<=8)&&(c=h.layoutRect().h-2+"px"),a.css(k.firstChild,{width:j,lineHeight:c}),h._super(),h},postRender:function(){var c=this;return a.on(this.getEl("inp"),"change",function(){c.fire("change")}),c._super()},renderHtml:function(){var j=this,f=j._id,l=j.settings,h=j.classPrefix,d=l.value||l.placeholder||"",k,c,g="";return k=l.icon?h+"ico "+h+"i-"+l.icon:"",c=j._text,(k||c)&&(g='<div id="'+f+'-open" class="'+h+"btn "+h+'open" tabIndex="-1"><button id="'+f+'-action" type="button" hidefocus tabindex="-1">'+(k?'<i class="'+k+'"></i>':'<i class="'+h+'caret"></i>')+(c?(k?" ":"")+c:"")+"</button></div>",j.addClass("has-open")),'<div id="'+f+'" class="'+j.classes()+'"><input id="'+f+'-inp" class="'+h+"textbox "+h+'placeholder" value="'+d+'" hidefocus="true">'+g+"</div>"}})}),aD(aj,[a9,bp],function(b,a){return b.extend({Defaults:{delimiter:"\xbb"},init:function(d){var c=this;c._super(d),c.addClass("path"),c.canFocus=!0,c.on("click",function(g){var h,f=g.target;(h=f.getAttribute("data-index"))&&c.fire("select",{value:c.data()[h],index:h})})},focus:function(){var c=this;return c.keyNav=new a({root:c,enableLeftRight:!0}),c.keyNav.focusFirst(),c},data:function(d){var c=this;return"undefined"!=typeof d?(c._data=d,c.update(),c):c._data},update:function(){this.innerHtml(this._getPathHtml())},postRender:function(){var c=this;c._super(),c.data(c.settings.data)},renderHtml:function(){var c=this;return'<div id="'+c._id+'" class="'+c.classPrefix+'path">'+c._getPathHtml()+"</div>"},_getPathHtml:function(){var g=this,d=g._data||[],j,f,c="",h=g.classPrefix;for(j=0,f=d.length;f>j;j++){c+=(j>0?'<div class="'+h+'divider" aria-hidden="true"> '+g.settings.delimiter+" </div>":"")+'<div role="button" class="'+h+"path-item"+(j==f-1?" "+h+"last":"")+'" data-index="'+j+'" tabindex="-1" id="'+g._id+"-"+j+'">'+d[j].name+"</div>"}return c||(c='<div class="'+h+'path-item">&nbsp;</div>'),c}})}),aD(aa,[aj,bF],function(b,a){return b.extend({postRender:function(){function d(g){return 1===g.nodeType&&("BR"==g.nodeName||!!g.getAttribute("data-mce-bogus"))}var f=this,c=a.activeEditor;return f.on("select",function(g){var j=[],e,h=c.getBody();for(c.focus(),e=c.selection.getStart();e&&e!=h;){d(e)||j.push(e),e=e.parentNode}c.selection.select(j[j.length-1-g.index]),c.nodeChanged()}),c.on("nodeChange",function(h){for(var g=[],k=h.parents,e=k.length;e--;){if(1==k[e].nodeType&&!d(k[e])){var j=c.fire("ResolveName",{name:k[e].nodeName.toLowerCase(),target:k[e]});g.push({name:j.name})}}f.data(g)}),f._super()}})}),aD(bR,[aG],function(a){return a.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var c=this,b=c._layout,d=c.classPrefix;return c.addClass("formitem"),b.preRender(c),'<div id="'+c._id+'" class="'+c.classes()+'" hideFocus="1" tabIndex="-1">'+(c.settings.title?'<div id="'+c._id+'-title" class="'+d+'title">'+c.settings.title+"</div>":"")+'<div id="'+c._id+'-body" class="'+c.classes("body")+'">'+(c.settings.html||"")+b.renderHtml(c)+"</div></div>"}})}),aD(bI,[aG,bR],function(b,a){return b.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10},preRender:function(){var c=this,d=c.items();d.each(function(g){var f,e=g.settings.label;e&&(f=new a({layout:"flex",autoResize:"overflow",defaults:{flex:1},items:[{type:"label",text:e,flex:0,forId:g._id}]}),f.type="formitem","undefined"==typeof g.settings.flex&&(g.settings.flex=1),c.replace(g,f),f.add(g))})},recalcLabels:function(){var g=this,d=0,h=[],f,c;if(g.settings.labelGapCalc!==!1){for(g.items().filter("formitem").each(function(l){var k=l.items()[0],j=k.getEl().clientWidth;d=j>d?j:d,h.push(k)}),c=g.settings.labelGap||0,f=h.length;f--;){h[f].settings.minWidth=d+c}}},visible:function(d){var c=this._super(d);return d===!0&&this._rendered&&this.recalcLabels(),c},submit:function(){var c=this.getParentCtrl(document.activeElement);return c&&c.blur(),this.fire("submit",{data:this.toJSON()})},postRender:function(){var c=this;c._super(),c.recalcLabels(),c.fromJSON(c.settings.data)}})}),aD(af,[bI],function(a){return a.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var c=this,b=c._layout,d=c.classPrefix;return c.preRender(),b.preRender(c),'<fieldset id="'+c._id+'" class="'+c.classes()+'" hideFocus="1" tabIndex="-1">'+(c.settings.title?'<legend id="'+c._id+'-title" class="'+d+'fieldset-title">'+c.settings.title+"</legend>":"")+'<div id="'+c._id+'-body" class="'+c.classes("body")+'">'+(c.settings.html||"")+b.renderHtml(c)+"</div></fieldset>"}})}),aD(bL,[bG],function(a){return a.extend({init:function(d){var b=this,f=tinymce.activeEditor,c;d.spellcheck=!1,c=f.settings.file_browser_callback,c&&(d.icon="browse",d.onaction=function(){c(b.getEl("inp").id,b.getEl("inp").value,d.filetype,window)}),b._super(d)}})}),aD(bC,[bB],function(a){return a.extend({recalc:function(c){var b=c.layoutRect(),d=c.paddingBox();c.items().filter(":visible").each(function(f){f.layoutRect({x:d.left,y:d.top,w:b.innerW-d.right-d.left,h:b.innerH-d.top-d.bottom}),f.recalc&&f.recalc()})}})}),aD(aq,[bB],function(a){return a.extend({recalc:function(co){var ca,cg,cc,ck,cf,cs,cb,ci,cq,b9,cp,cn,ce,cl,ch,cm,b8=[],b5,cr,b1,b6,b7,ct,at,bZ,cj,Q,K,X,b3,b2,b0,bV,bt,bX,Y,Z,bW,bY,j,b4,G=Math.max,J=Math.min;for(cc=co.items().filter(":visible"),ck=co.layoutRect(),cf=co._paddingBox,cs=co.settings,cn=cs.direction,cb=cs.align,ci=cs.pack,cq=cs.spacing||0,("row-reversed"==cn||"column-reverse"==cn)&&(cc=cc.set(cc.toArray().reverse()),cn=cn.split("-")[0]),"column"==cn?(cj="y",at="h",bZ="minH",Q="maxH",X="innerH",K="top",b3="bottom",b2="deltaH",b0="contentH",bW="left",bX="w",bV="x",bt="innerW",Y="minW",Z="maxW",bY="right",j="deltaW",b4="contentW"):(cj="x",at="w",bZ="minW",Q="maxW",X="innerW",K="left",b3="right",b2="deltaW",b0="contentW",bW="top",bX="h",bV="y",bt="innerH",Y="minH",Z="maxH",bY="bottom",j="deltaH",b4="contentH"),cp=ck[X]-cf[K]-cf[K],ct=b9=0,ca=0,cg=cc.length;cg>ca;ca++){ce=cc[ca],cl=ce.layoutRect(),ch=ce.settings,cm=ch.flex,cp-=cg-1>ca?cq:0,cm>0&&(b9+=cm,cl[Q]&&b8.push(ce),cl.flex=cm),cp-=cl[bZ],b5=cf[bW]+cl[Y]+cf[bY],b5>ct&&(ct=b5)}if(b6={},b6[bZ]=0>cp?ck[bZ]-cp+ck[b2]:ck[X]-cp+ck[b2],b6[Y]=ct+ck[j],b6[b0]=ck[X]-cp,b6[b4]=ct,b6.minW=J(b6.minW,ck.maxW),b6.minH=J(b6.minH,ck.maxH),b6.minW=G(b6.minW,ck.startMinWidth),b6.minH=G(b6.minH,ck.startMinHeight),!ck.autoResize||b6.minW==ck.minW&&b6.minH==ck.minH){for(b1=cp/b9,ca=0,cg=b8.length;cg>ca;ca++){ce=b8[ca],cl=ce.layoutRect(),cr=cl[Q],b5=cl[bZ]+Math.ceil(cl.flex*b1),b5>cr?(cp-=cl[Q]-cl[bZ],b9-=cl.flex,cl.flex=0,cl.maxFlexSize=cr):cl.maxFlexSize=0}for(b1=cp/b9,b7=cf[K],b6={},0===b9&&("end"==ci?b7=cp+cf[K]:"center"==ci?(b7=Math.round(ck[X]/2-(ck[X]-cp)/2)+cf[K],0>b7&&(b7=cf[K])):"justify"==ci&&(b7=cf[K],cq=Math.floor(cp/(cc.length-1)))),b6[bV]=cf[bW],ca=0,cg=cc.length;cg>ca;ca++){ce=cc[ca],cl=ce.layoutRect(),b5=cl.maxFlexSize||cl[bZ],"center"===cb?b6[bV]=Math.round(ck[bt]/2-cl[bX]/2):"stretch"===cb?(b6[bX]=G(cl[Y]||0,ck[bt]-cf[bW]-cf[bY]),b6[bV]=cf[bW]):"end"===cb&&(b6[bV]=ck[bt]-cl[bX]-cf.top),cl.flex>0&&(b5+=Math.ceil(cl.flex*b1)),b6[at]=b5,b6[cj]=b7,ce.layoutRect(b6),ce.recalc&&ce.recalc(),b7+=b5+cq}}else{if(b6.w=b6.minW,b6.h=b6.minH,co.layoutRect(b6),this.recalc(co),null===co._lastRect){var cd=co.parent();cd&&(cd._lastRect=null,cd.recalc())}}}})}),aD(ad,[bD],function(a){return a.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(b){b.items().filter(":visible").each(function(c){c.recalc&&c.recalc()})}})}),aD(bP,[a9,bH,a5,aH,bF,aR],function(h,d,k,g,c,j){function b(x){function C(D){function H(a){return a.replace(/%(\w+)/g,"")}var E,u,F=x.dom,p="",e,G;return G=x.settings.preview_styles,G===!1?"":(G||(G="font-family font-size font-weight text-decoration text-transform color background-color border border-radius"),(D=x.formatter.get(D))?(D=D[0],E=D.block||D.inline||"span",u=F.create(E),f(D.styles,function(i,a){i=H(i),i&&F.setStyle(u,a,i)}),f(D.attributes,function(i,a){i=H(i),i&&F.setAttrib(u,a,i)}),f(D.classes,function(a){a=H(a),F.hasClass(u,a)||F.addClass(u,a)}),x.fire("PreviewFormats"),F.setStyles(u,{position:"absolute",left:-65535}),x.getBody().appendChild(u),e=F.getStyle(x.getBody(),"fontSize",!0),e=/px$/.test(e)?parseInt(e,10):0,f(G.split(" "),function(a){var i=F.getStyle(u,a,!0);if(!("background-color"==a&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(i)&&(i=F.getStyle(x.getBody(),a,!0),"#ffffff"==F.toHex(i).toLowerCase())||"color"==a&&"#000000"==F.toHex(i).toLowerCase())){if("font-size"==a&&/em|%$/.test(i)){if(0===e){return}i=parseFloat(i,10)/(/%$/.test(i)?100:1),i=i*e+"px"}"border"==a&&i&&(p+="padding:0 2px;"),p+=a+":"+i+";"}}),x.fire("AfterPreviewFormats"),F.remove(u),p):void 0)}function m(a,e){return function(){var i=this;x.on("nodeChange",function(p){var r=x.formatter,l=null;f(p.parents,function(o){return f(a,function(u){return e?r.matchNode(o,e,{value:u.value})&&(l=u.value):r.matchNode(o,u.value)&&(l=u.value),l?!1:void 0}),l?!1:void 0}),i.value(l)})}}function v(i){i=i.split(";");for(var a=i.length;a--;){i[a]=i[a].split("=")}return i}function q(){function u(i){var a=[];if(i){return f(i,function(D){var E={text:D.title,icon:D.icon};if(D.items){E.menu=u(D.items)}else{var r=D.format||"custom"+p++;D.format||(D.name=r,l.push(D)),E.format=r}a.push(E)}),a}}var p=0,l=[],t=[{title:"Headers",items:[{title:"Header 1",format:"h1"},{title:"Header 2",format:"h2"},{title:"Header 3",format:"h3"},{title:"Header 4",format:"h4"},{title:"Header 5",format:"h5"},{title:"Header 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];x.on("init",function(){f(l,function(a){x.formatter.register(a.name,a)})});var e=u(x.settings.style_formats||t);return e={type:"menu",items:e,onPostRender:function(a){x.fire("renderFormatsMenu",{control:a.control})},itemDefaults:{preview:!0,textStyle:function(){return this.settings.format?C(this.settings.format):void 0},onPostRender:function(){var a=this,i=this.settings.format;i&&a.parent().on("show",function(){a.disabled(!x.formatter.canApply(i)),a.active(x.formatter.match(i))})},onclick:function(){this.settings.format&&w(this.settings.format)}}}}function A(){return x.undoManager?x.undoManager.hasUndo():!1}function s(){return x.undoManager?x.undoManager.hasRedo():!1}function z(){var a=this;a.disabled(!A()),x.on("Undo Redo AddUndo TypingUndo",function(){a.disabled(!A())})}function B(){var a=this;a.disabled(!s()),x.on("Undo Redo AddUndo TypingUndo",function(){a.disabled(!s())})}function y(){var a=this;x.on("VisualAid",function(i){a.active(i.hasVisual)}),a.active(x.hasVisual)}function w(a){a.control&&(a=a.control.value()),a&&x.execCommand("mceToggleFormat",!1,a)}var n;n=q(),f({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(a,e){x.addButton(e,{tooltip:a,onPostRender:function(){var i=this;x.formatter?x.formatter.formatChanged(e,function(l){i.active(l)}):x.on("init",function(){x.formatter.formatChanged(e,function(l){i.active(l)})})},onclick:function(){w(e)}})}),f({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],hr:["Insert horizontal rule","InsertHorizontalRule"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(a,e){x.addButton(e,{tooltip:a[0],cmd:a[1]})}),f({blockquote:["Toggle blockquote","mceBlockQuote"],numlist:["Numbered list","InsertOrderedList"],bullist:["Bullet list","InsertUnorderedList"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"]},function(a,e){x.addButton(e,{tooltip:a[0],cmd:a[1],onPostRender:function(){var i=this;x.formatter?x.formatter.formatChanged(e,function(l){i.active(l)}):x.on("init",function(){x.formatter.formatChanged(e,function(l){i.active(l)})})}})}),x.addButton("undo",{tooltip:"Undo",onPostRender:z,cmd:"undo"}),x.addButton("redo",{tooltip:"Redo",onPostRender:B,cmd:"redo"}),x.addMenuItem("newdocument",{text:"New document",shortcut:"Ctrl+N",icon:"newdocument",cmd:"mceNewDocument"}),x.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Ctrl+Z",onPostRender:z,cmd:"undo"}),x.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Ctrl+Y",onPostRender:B,cmd:"redo"}),x.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:y,cmd:"mceToggleVisualAid"}),f({cut:["Cut","Cut","Ctrl+X"],copy:["Copy","Copy","Ctrl+C"],paste:["Paste","Paste","Ctrl+V"],selectall:["Select all","SelectAll","Ctrl+A"],bold:["Bold","Bold","Ctrl+B"],italic:["Italic","Italic","Ctrl+I"],underline:["Underline","Underline"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(a,e){x.addMenuItem(e,{text:a[0],icon:e,shortcut:a[2],cmd:a[1]})}),x.on("mousedown",function(){k.hideAll()}),x.addButton("styleselect",{type:"menubutton",text:"Formats",menu:n}),x.addButton("formatselect",function(){var e=[],a=v(x.settings.block_formats||"Paragraph=p;Address=address;Pre=pre;Header 1=h1;Header 2=h2;Header 3=h3;Header 4=h4;Header 5=h5;Header 6=h6");return f(a,function(i){e.push({text:i[0],value:i[1],textStyle:function(){return C(i[1])}})}),{type:"listbox",text:{raw:a[0][0]},values:e,fixedWidth:!0,onselect:w,onPostRender:m(e)}}),x.addButton("fontselect",function(){var a="Andale Mono=andale mono,times;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier;Georgia=georgia,palatino;Helvetica=helvetica;Impact=impact,chicago;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco;Times New Roman=times new roman,times;Trebuchet MS=trebuchet ms,geneva;Verdana=verdana,geneva;Webdings=webdings;Wingdings=wingdings,zapf dingbats",i=[],e=v(x.settings.font_formats||a);return f(e,function(l){i.push({text:{raw:l[0]},value:l[1],textStyle:-1==l[1].indexOf("dings")?"font-family:"+l[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:i,fixedWidth:!0,onPostRender:m(i,"fontname"),onselect:function(l){l.control.settings.value&&x.execCommand("FontName",!1,l.control.settings.value)}}}),x.addButton("fontsizeselect",function(){var e=[],l="8pt 10pt 12pt 14pt 18pt 24pt 36pt",a=x.settings.fontsize_formats||l;return f(a.split(" "),function(i){e.push({text:i,value:i})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:e,fixedWidth:!0,onPostRender:m(e,"fontsize"),onclick:function(i){i.control.settings.value&&x.execCommand("FontSize",!1,i.control.settings.value)}}}),x.addMenuItem("formats",{text:"Formats",menu:n})}var f=g.each;c.on("AddEditor",function(a){b(a.editor)}),h.translate=function(a){return c.translate(a)},d.tooltips=!j.iOS}),aD(bE,[bB],function(a){return a.extend({recalc:function(b8){var bV=b8.settings,b0,bX,b4,bZ,cc,bW,b2,ca,bt,b9,b7,bY,b5,b1,b6,at,X,cb,U,Y,Z,cd,G=[],O=[],b3,q,j,z,W,V;for(bV=b8.settings,b4=b8.items().filter(":visible"),bZ=b8.layoutRect(),bX=bV.columns||Math.ceil(Math.sqrt(b4.length)),b0=Math.ceil(b4.length/bX),X=bV.spacingH||bV.spacing||0,cb=bV.spacingV||bV.spacing||0,U=bV.alignH||bV.align,Y=bV.alignV||bV.align,b6=b8._paddingBox,U&&"string"==typeof U&&(U=[U]),Y&&"string"==typeof Y&&(Y=[Y]),b9=0;bX>b9;b9++){G.push(0)}for(b7=0;b0>b7;b7++){O.push(0)}for(b7=0;b0>b7;b7++){for(b9=0;bX>b9&&(bt=b4[b7*bX+b9],bt);b9++){ca=bt.layoutRect(),b3=ca.minW,q=ca.minH,G[b9]=b3>G[b9]?b3:G[b9],O[b7]=q>O[b7]?q:O[b7]}}for(W=bZ.innerW-b6.left-b6.right,Z=0,b9=0;bX>b9;b9++){Z+=G[b9]+(b9>0?X:0),W-=(b9>0?X:0)+G[b9]}for(V=bZ.innerH-b6.top-b6.bottom,cd=0,b7=0;b0>b7;b7++){cd+=O[b7]+(b7>0?cb:0),V-=(b7>0?cb:0)+O[b7]}if(Z+=b6.left+b6.right,cd+=b6.top+b6.bottom,b2={},b2.minW=Z+(bZ.w-bZ.innerW),b2.minH=cd+(bZ.h-bZ.innerH),b2.contentW=b2.minW-bZ.deltaW,b2.contentH=b2.minH-bZ.deltaH,b2.minW=Math.min(b2.minW,bZ.maxW),b2.minH=Math.min(b2.minH,bZ.maxH),b2.minW=Math.max(b2.minW,bZ.startMinWidth),b2.minH=Math.max(b2.minH,bZ.startMinHeight),!bZ.autoResize||b2.minW==bZ.minW&&b2.minH==bZ.minH){bZ.autoResize&&(b2=b8.layoutRect(b2),b2.contentW=b2.minW-bZ.deltaW,b2.contentH=b2.minH-bZ.deltaH);var Q;Q="start"==bV.packV?0:V>0?Math.floor(V/b0):0;var J=0,I=bV.flexWidths;if(I){for(b9=0;b9<I.length;b9++){J+=I[b9]}}else{J=bX}var K=W/J;for(b9=0;bX>b9;b9++){G[b9]+=I?Math.ceil(I[b9]*K):K}for(b5=b6.top,b7=0;b0>b7;b7++){for(bY=b6.left,bW=O[b7]+Q,b9=0;bX>b9&&(bt=b4[b7*bX+b9],bt);b9++){b1=bt.settings,ca=bt.layoutRect(),cc=G[b9],j=z=0,ca.x=bY,ca.y=b5,at=b1.alignH||(U?U[b9]||U[0]:null),"center"==at?ca.x=bY+cc/2-ca.w/2:"right"==at?ca.x=bY+cc-ca.w:"stretch"==at&&(ca.w=cc),at=b1.alignV||(Y?Y[b9]||Y[0]:null),"center"==at?ca.y=b5+bW/2-ca.h/2:"bottom"==at?ca.y=b5+bW-ca.h:"stretch"==at&&(ca.h=bW),bt.layoutRect(ca),bY+=cc+X,bt.recalc&&bt.recalc()}b5+=bW+cb}}else{if(b2.w=b2.minW,b2.h=b2.minH,b8.layoutRect(b2),this.recalc(b8),null===b8._lastRect){var F=b8.parent();F&&(F._lastRect=null,F.recalc())}}}})}),aD(aF,[bH],function(a){return a.extend({renderHtml:function(){var b=this;return b.addClass("iframe"),b.canFocus=!1,'<iframe id="'+b._id+'" class="'+b.classes()+'" tabindex="-1" src="'+(b.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(b){this.getEl().src=b},html:function(d,b){var f=this,c=this.getEl().contentWindow.document.body;return c?(c.innerHTML=d,b&&b()):setTimeout(function(){f.html(d)},0),this}})}),aD(be,[bH],function(a){return a.extend({init:function(c){var b=this;b._super(c),b.addClass("widget"),b.addClass("label"),b.canFocus=!1,c.multiline&&b.addClass("autoscroll"),c.strong&&b.addClass("strong")},initLayoutRect:function(){var c=this,b=c._super();return c.settings.multiline&&(c.getEl().offsetWidth>b.maxW&&(b.minW=b.maxW,c.addClass("multiline")),c.getEl().style.width=b.minW+"px",b.startMinH=b.h=b.minH=Math.min(b.maxH,c.getEl().offsetHeight)),b},disabled:function(c){var b=this,d;return c!==d&&(b.toggleClass("label-disabled",c),b._rendered&&(b.getEl()[0].className=b.classes())),b._super(c)},repaint:function(){var b=this;return b.settings.multiline||(b.getEl().style.lineHeight=b.layoutRect().h+"px"),b._super()},text:function(c){var b=this;return b._rendered&&c&&this.innerHtml(b.encode(c)),b._super(c)},renderHtml:function(){var c=this,b=c.settings.forId;return'<label id="'+c._id+'" class="'+c.classes()+'"'+(b?' for="'+b:"")+'">'+c.encode(c._text)+"</label>"}})}),aD(a6,[aG,bp],function(b,a){return b.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(d){var c=this;c._super(d),c.addClass("toolbar")},postRender:function(){var c=this;return c.items().addClass("toolbar-item"),c.keyNav=new a({root:c,enableLeftRight:!0}),c._super()}})}),aD(ab,[a6],function(a){return a.extend({Defaults:{role:"menubar",containerCls:"menubar",defaults:{type:"menubutton"}}})}),aD(an,[aW,ba,ab],function(d,b,f){function c(h,g){for(;h;){if(g===h){return !0}h=h.parentNode}return !1}var a=d.extend({init:function(h){var g=this;g._renderOpen=!0,g._super(h),g.addClass("menubtn"),h.fixedWidth&&g.addClass("fixed-width"),g.aria("haspopup",!0),g.hasPopup=!0},showMenu:function(){var h=this,i=h.settings,g;return h.menu&&h.menu.visible()?h.hideMenu():(h.menu||(g=i.menu||[],g.length?g={type:"menu",items:g}:g.type=g.type||"menu",h.menu=b.create(g).parent(h).renderTo(h.getContainerElm()),h.fire("createmenu"),h.menu.reflow(),h.menu.on("cancel",function(e){e.control===h.menu&&h.focus()}),h.menu.on("show hide",function(e){e.control==h.menu&&h.activeMenu("show"==e.type)}).fire("show"),h.aria("expanded",!0)),h.menu.show(),h.menu.layoutRect({w:h.layoutRect().w}),h.menu.moveRel(h.getEl(),["bl-tl","tl-bl"]),void 0)},hideMenu:function(){var g=this;g.menu&&(g.menu.items().each(function(h){h.hideMenu&&h.hideMenu()}),g.menu.hide(),g.aria("expanded",!1))},activeMenu:function(g){this.toggleClass("active",g)},renderHtml:function(){var k=this,h=k._id,j=k.classPrefix,g=k.settings.icon?j+"ico "+j+"i-"+k.settings.icon:"";return k.aria("role",k.parent() instanceof f?"menuitem":"button"),'<div id="'+h+'" class="'+k.classes()+'" tabindex="-1"><button id="'+h+'-open" role="presentation" type="button" tabindex="-1">'+(g?'<i class="'+g+'"></i>':"")+"<span>"+(k._text?(g?" ":"")+k.encode(k._text):"")+'</span> <i class="'+j+'caret"></i></button></div>'},postRender:function(){var g=this;return g.on("click",function(e){e.control===g&&c(e.target,g.getEl())&&(g.showMenu(),e.keyboard&&g.menu.items()[0].focus())}),g.on("mouseenter",function(e){var j=e.control,h=g.parent(),i;j&&h&&j instanceof a&&j.parent()==h&&(h.items().filter("MenuButton").each(function(k){k.hideMenu&&k!=j&&(k.menu&&k.menu.visible()&&(i=!0),k.hideMenu())}),i&&(j.focus(),j.showMenu()))}),g._super()},text:function(i){var g=this,j,h;if(g._rendered){for(h=g.getEl("open").getElementsByTagName("span"),j=0;j<h.length;j++){h[j].innerHTML=g.encode(i)}}return this._super(i)},remove:function(){this._super(),this.menu&&this.menu.remove()}});return a}),aD(bj,[an],function(a){return a.extend({init:function(g){var d=this,j,f,c,h,b;if(d._values=j=g.values,j){for(f=0;f<j.length;f++){c=j[f].selected||g.value===j[f].value,c&&(h=h||j[f].text,d._value=j[f].value)}g.menu=j}g.text=g.text||h||j[0].text,d._super(g),d.addClass("listbox"),d.on("select",function(i){var e=i.control;b&&(i.lastControl=b),g.multiple?e.active(!e.active()):d.value(i.control.settings.value),b=e})},value:function(g){function d(i,k){i.items().each(function(l){f=l.value()===k,f&&(c=c||l.text()),l.active(f),l.menu&&d(l.menu,k)})}var j=this,f,c,h,b;if("undefined"!=typeof g){if(j.menu){d(j.menu,g)}else{for(h=j.settings.menu,b=0;b<h.length;b++){f=h[b].value==g,f&&(c=c||h[b].text),h[b].active=f}}j.text(c||this.settings.text)}return j._super(g)}})}),aD(aL,[bH,ba],function(b,a){return b.extend({Defaults:{border:0,role:"menuitem"},init:function(d){var c=this;c.hasPopup=!0,c._super(d),d=c.settings,c.addClass("menu-item"),d.menu&&c.addClass("menu-item-expand"),d.preview&&c.addClass("menu-item-preview"),("-"===c._text||"|"===c._text)&&(c.addClass("menu-item-sep"),c.aria("role","separator"),c.canFocus=!1,c._text="-"),d.selectable&&(c.aria("role","menuitemcheckbox"),c.aria("checked",!0),c.addClass("menu-item-checkbox"),d.icon="selected"),c.on("mousedown",function(f){f.preventDefault()}),c.on("mouseenter click",function(e){e.control===c&&(d.menu||"click"!==e.type?(c.showMenu(),e.keyboard&&setTimeout(function(){c.menu.items()[0].focus()},0)):(c.parent().hideAll(),c.fire("cancel"),c.fire("select")))}),d.menu&&c.aria("haspopup",!0)},hasMenus:function(){return !!this.settings.menu},showMenu:function(){var f=this,h=f.settings,d,c=f.parent();if(c.items().each(function(e){e!==f&&e.hideMenu()}),h.menu){d=f.menu,d?d.show():(d=h.menu,d.length?d={type:"menu",items:d}:d.type=d.type||"menu",c.settings.itemDefaults&&(d.itemDefaults=c.settings.itemDefaults),d=f.menu=a.create(d).parent(f).renderTo(f.getContainerElm()),d.reflow(),d.fire("show"),d.on("cancel",function(){f.focus()}),d.on("hide",function(e){e.control===d&&f.removeClass("selected")})),d._parentMenu=c,d.addClass("menu-sub");var g=d.testMoveRel(f.getEl(),["tr-tl","br-bl","tl-tr","bl-br"]);d.moveRel(f.getEl(),g),g="menu-sub-"+g,d.removeClass(d._lastRel),d.addClass(g),d._lastRel=g,f.addClass("selected"),f.aria("expanded",!0)}},hideMenu:function(){var c=this;return c.menu&&(c.menu.items().each(function(d){d.hideMenu&&d.hideMenu()}),c.menu.hide(),c.aria("expanded",!1)),c},renderHtml:function(){var g=this,d=g._id,j=g.settings,f=g.classPrefix,c=g.encode(g._text),h=g.settings.icon;return h&&g.parent().addClass("menu-has-icons"),h=f+"ico "+f+"i-"+(g.settings.icon||"none"),'<div id="'+d+'" class="'+g.classes()+'" tabindex="-1">'+("-"!==c?'<i class="'+h+'"></i>&nbsp;':"")+("-"!==c?'<span id="'+d+'-text" class="'+f+'text">'+c+"</span>":"")+(j.shortcut?'<div id="'+d+'-shortcut" class="'+f+'menu-shortcut">'+j.shortcut+"</div>":"")+(j.menu?'<div class="'+f+'caret"></div>':"")+"</div>"},postRender:function(){var f=this,c=f.settings,g=c.textStyle;if("function"==typeof g&&(g=g.call(this)),g){var d=f.getEl("text");d&&d.setAttribute("style",g)}return f._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),aD(bl,[a5,bp,aL,aH],function(d,b,f,c){var a=d.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"menu"},init:function(j){var h=this;if(j.autohide=!0,j.constrainToViewport=!0,j.itemDefaults){for(var k=j.items,g=k.length;g--;){k[g]=c.extend({},j.itemDefaults,k[g])}}h._super(j),h.addClass("menu"),h.keyNav=new b({root:h,enableUpDown:!0,enableLeftRight:!0,leftAction:function(){h.parent() instanceof f&&h.keyNav.cancel()},onCancel:function(){h.fire("cancel",{},!1),h.hide()}})},repaint:function(){return this.toggleClass("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){var g=this;g.hideAll(),g.fire("cancel"),g.fire("select")},hideAll:function(){var g=this;return this.find("menuitem").exec("hideMenu"),g._super()},preRender:function(){var g=this;return g.items().each(function(e){var h=e.settings;return h.icon||h.selectable?(g._hasIcons=!0,!1):void 0}),g._super()}});return a}),aD(ac,[bQ],function(a){return a.extend({Defaults:{classes:"radio",role:"radio"}})}),aD(ai,[bH,aO],function(b,a){return b.extend({renderHtml:function(){var d=this,c=d.classPrefix;return d.addClass("resizehandle"),"both"==d.settings.direction&&d.addClass("resizehandle-both"),d.canFocus=!1,'<div id="'+d._id+'" class="'+d.classes()+'"><i class="'+c+"ico "+c+'i-resize"></i></div>'},postRender:function(){var c=this;c._super(),c.resizeDragHelper=new a(this._id,{start:function(){c.fire("ResizeStart")},drag:function(d){"both"!=c.settings.direction&&(d.deltaX=0),c.fire("Resize",d)},end:function(){c.fire("ResizeEnd")}})}})}),aD(a8,[bH],function(a){return a.extend({renderHtml:function(){var b=this;return b.addClass("spacer"),b.canFocus=!1,'<div id="'+b._id+'" class="'+b.classes()+'"></div>'}})}),aD(al,[an,az],function(b,a){var c=a.DOM;return b.extend({Defaults:{classes:"widget btn splitbtn",role:"splitbutton"},repaint:function(){var j=this,g=j.getEl(),h=j.layoutRect(),f,k,d;return j._super(),f=g.firstChild,k=g.lastChild,c.css(f,{width:h.w-k.offsetWidth,height:h.h-2}),c.css(k,{height:h.h-2}),d=f.firstChild.style,d.width=d.height="100%",d=k.firstChild.style,d.width=d.height="100%",j},activeMenu:function(f){var d=this;c.toggleClass(d.getEl().lastChild,d.classPrefix+"active",f)},renderHtml:function(){var g=this,d=g._id,h=g.classPrefix,f=g.settings.icon?h+"ico "+h+"i-"+g.settings.icon:"";return'<div id="'+d+'" class="'+g.classes()+'"><button type="button" hidefocus tabindex="-1">'+(f?'<i class="'+f+'"></i>':"")+(g._text?(f?" ":"")+g._text:"")+'</button><button type="button" class="'+h+'open" hidefocus tabindex="-1">'+(g._menuBtnText?(f?" ":"")+g._menuBtnText:"")+' <i class="'+h+'caret"></i></button></div>'},postRender:function(){var f=this,d=f.settings.onclick;return f.on("click",function(g){g.control!=this||c.getParent(g.target,"."+this.classPrefix+"open")||(g.stopImmediatePropagation(),d.call(this,g))}),delete f.settings.onclick,f._super()}})}),aD(bN,[ad],function(a){return a.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"}})}),aD(bS,[bo,ar],function(b,a){return b.extend({lastIdx:0,Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(c){this.activeTabId&&a.removeClass(this.getEl(this.activeTabId),this.classPrefix+"active"),this.activeTabId="t"+c,a.addClass(this.getEl("t"+c),this.classPrefix+"active"),c!=this.lastIdx&&(this.items()[this.lastIdx].hide(),this.lastIdx=c),this.items()[c].show().fire("showtab"),this.reflow()},renderHtml:function(){var f=this,c=f._layout,g="",d=f.classPrefix;return f.preRender(),c.preRender(f),f.items().each(function(h,e){g+='<div id="'+f._id+"-t"+e+'" class="'+d+'tab" unselectable="on">'+f.encode(h.settings.title)+"</div>"}),'<div id="'+f._id+'" class="'+f.classes()+'" hideFocus="1" tabIndex="-1"><div id="'+f._id+'-head" class="'+d+'tabs">'+g+'</div><div id="'+f._id+'-body" class="'+f.classes("body")+'">'+c.renderHtml(f)+"</div></div>"},postRender:function(){var c=this;c._super(),c.settings.activeTab=c.settings.activeTab||0,c.activateTab(c.settings.activeTab),this.on("click",function(d){var f=d.target.parentNode;if(d.target.parentNode.id==c._id+"-head"){for(var e=f.childNodes.length;e--;){f.childNodes[e]==d.target&&c.activateTab(e)}}})},initLayoutRect:function(){var g=this,d,h,f;h=f=0,g.items().each(function(j,e){h=Math.max(h,j.layoutRect().minW),f=Math.max(f,j.layoutRect().minH),g.settings.activeTab!=e&&j.hide()}),g.items().each(function(i){i.settings.x=0,i.settings.y=0,i.settings.w=h,i.settings.h=f,i.layoutRect({x:0,y:0,w:h,h:f})});var c=g.getEl("head").offsetHeight;return g.settings.minWidth=h,g.settings.minHeight=f+c,d=g._super(),d.deltaH+=g.getEl("head").offsetHeight,d.innerH=d.h-d.deltaH,d}})}),aD(ag,[bH,ar],function(b,a){return b.extend({init:function(d){var c=this;c._super(d),c._value=d.value||"",c.addClass("textbox"),d.multiline?c.addClass("multiline"):c.on("keydown",function(f){13==f.keyCode&&c.parents().reverse().each(function(e){return f.preventDefault(),e.submit?(e.submit(),!1):void 0})})},value:function(d){var c=this;return"undefined"!=typeof d?(c._value=d,c._rendered&&(c.getEl().value=d),c):c._rendered?c.getEl().value:c._value},repaint:function(){var j=this,f,l,h,d=0,k=0,c;f=j.getEl().style,l=j._layoutRect,c=j._lastRepaintRect||{};var g=document;return !j.settings.multiline&&g.all&&(!g.documentMode||g.documentMode<=8)&&(f.lineHeight=l.h-k+"px"),h=j._borderBox,d=h.left+h.right+8,k=h.top+h.bottom+(j.settings.multiline?8:0),l.x!==c.x&&(f.left=l.x+"px",c.x=l.x),l.y!==c.y&&(f.top=l.y+"px",c.y=l.y),l.w!==c.w&&(f.width=l.w-d+"px",c.w=l.w),l.h!==c.h&&(f.height=l.h-k+"px",c.h=l.h),j._lastRepaintRect=c,j.fire("repaint",{},!1),j},renderHtml:function(){var g=this,d=g._id,h=g.settings,f=g.encode(g._value,!1),c="";return"spellcheck" in h&&(c+=' spellcheck="'+h.spellcheck+'"'),h.maxLength&&(c+=' maxlength="'+h.maxLength+'"'),h.size&&(c+=' size="'+h.size+'"'),h.subtype&&(c+=' type="'+h.subtype+'"'),h.multiline?'<textarea id="'+d+'" class="'+g.classes()+'" '+(h.rows?' rows="'+h.rows+'"':"")+' hidefocus="true"'+c+">"+f+"</textarea>":'<input id="'+d+'" class="'+g.classes()+'" value="'+f+'" hidefocus="true"'+c+">"},postRender:function(){var c=this;return a.on(c.getEl(),"change",function(d){c.fire("change",d)}),c._super()}})}),aD(ay,[ar],function(a){return function(b){var d=this,c;d.show=function(e){return d.hide(),c=!0,window.setTimeout(function(){c&&b.appendChild(a.createFragment('<div class="mce-throbber"></div>'))},e||0),d},d.hide=function(){var f=b.lastChild;return f&&-1!=f.className.indexOf("throbber")&&f.parentNode.removeChild(f),c=!1,d}}}),aY([aM,aV,aA,aU,aS,aH,aQ,aK,aR,az,au,aX,bx,av,aw,aZ,bk,bv,aN,bd,bb,bf,bA,bz,bw,bn,bm,br,bh,bi,bq,bu,a7,ar,a9,ba,aG,aO,bJ,bo,bs,a3,a5,bp,bg,a2,bU,bc,a4,bO,ap,ax,by,bF,bM,ao,aE,ah,bK,ak,a0,bD,bB,am,bH,aW,a1,bQ,ae,bT,bG,aj,aa,bR,bI,af,bL,bC,aq,ad,bP,bE,aF,be,a6,ab,an,bj,aL,bl,ac,ai,a8,al,bN,bS,ag,ay])}(this);